function pE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mE={exports:{}},Uh={},gE={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),x1=Symbol.for("react.portal"),C1=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),R1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),M1=Symbol.for("react.memo"),N1=Symbol.for("react.lazy"),ny=Symbol.iterator;function D1(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var vE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_E=Object.assign,yE={};function ll(t,e,n){this.props=t,this.context=e,this.refs=yE,this.updater=n||vE}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wE(){}wE.prototype=ll.prototype;function Pg(t,e,n){this.props=t,this.context=e,this.refs=yE,this.updater=n||vE}var xg=Pg.prototype=new wE;xg.constructor=Pg;_E(xg,ll.prototype);xg.isPureReactComponent=!0;var ry=Array.isArray,EE=Object.prototype.hasOwnProperty,Cg={current:null},TE={key:!0,ref:!0,__self:!0,__source:!0};function SE(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)EE.call(e,r)&&!TE.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ec,type:t,key:s,ref:a,props:i,_owner:Cg.current}}function V1(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function F1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iy=/\/+/g;function Kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?F1(""+t.key):e.toString(36)}function vd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ec:case x1:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Kf(a,0):r,ry(i)?(n="",t!=null&&(n=t.replace(iy,"$&/")+"/"),vd(i,e,n,"",function(f){return f})):i!=null&&(bg(i)&&(i=V1(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(iy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",ry(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+Kf(s,u);a+=vd(s,e,n,c,i)}else if(c=D1(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+Kf(s,u++),a+=vd(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qc(t,e,n){if(t==null)return t;var r=[],i=0;return vd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function z1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},_d={transition:null},j1={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:_d,ReactCurrentOwner:Cg};function IE(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:qc,forEach:function(t,e,n){qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!bg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=ll;He.Fragment=C1;He.Profiler=A1;He.PureComponent=Pg;He.StrictMode=b1;He.Suspense=O1;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j1;He.act=IE;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_E({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Cg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)EE.call(e,c)&&!TE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:ec,type:t.type,key:i,ref:s,props:r,_owner:a}};He.createContext=function(t){return t={$$typeof:k1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R1,_context:t},t.Consumer=t};He.createElement=SE;He.createFactory=function(t){var e=SE.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:L1,render:t}};He.isValidElement=bg;He.lazy=function(t){return{$$typeof:N1,_payload:{_status:-1,_result:t},_init:z1}};He.memo=function(t,e){return{$$typeof:M1,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=_d.transition;_d.transition={};try{t()}finally{_d.transition=e}};He.unstable_act=IE;He.useCallback=function(t,e){return bn.current.useCallback(t,e)};He.useContext=function(t){return bn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};He.useEffect=function(t,e){return bn.current.useEffect(t,e)};He.useId=function(){return bn.current.useId()};He.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return bn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};He.useRef=function(t){return bn.current.useRef(t)};He.useState=function(t){return bn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return bn.current.useTransition()};He.version="18.3.1";gE.exports=He;var B=gE.exports;const _t=Ig(B),B1=pE({__proto__:null,default:_t},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1=B,$1=Symbol.for("react.element"),H1=Symbol.for("react.fragment"),W1=Object.prototype.hasOwnProperty,q1=U1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G1={key:!0,ref:!0,__self:!0,__source:!0};function PE(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)W1.call(e,r)&&!G1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$1,type:t,key:s,ref:a,props:i,_owner:q1.current}}Uh.Fragment=H1;Uh.jsx=PE;Uh.jsxs=PE;mE.exports=Uh;var P=mE.exports,xE={exports:{}},ar={},CE={exports:{}},bE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ie){var J=K.length;K.push(ie);e:for(;0<J;){var ye=J-1>>>1,me=K[ye];if(0<i(me,ie))K[ye]=ie,K[J]=me,J=ye;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],J=K.pop();if(J!==ie){K[0]=J;e:for(var ye=0,me=K.length,Pe=me>>>1;ye<Pe;){var Me=2*(ye+1)-1,Ce=K[Me],Te=Me+1,Xe=K[Te];if(0>i(Ce,J))Te<me&&0>i(Xe,Ce)?(K[ye]=Xe,K[Te]=J,ye=Te):(K[ye]=Ce,K[Me]=J,ye=Me);else if(Te<me&&0>i(Xe,J))K[ye]=Xe,K[Te]=J,ye=Te;else break e}}return ie}function i(K,ie){var J=K.sortIndex-ie.sortIndex;return J!==0?J:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],p=1,g=null,_=3,S=!1,b=!1,A=!1,V=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var ie=n(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=K)r(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(f)}}function F(K){if(A=!1,I(K),!b)if(n(c)!==null)b=!0,Se(U);else{var ie=n(f);ie!==null&&Fe(F,ie.startTime-K)}}function U(K,ie){b=!1,A&&(A=!1,x(w),w=-1),S=!0;var J=_;try{for(I(ie),g=n(c);g!==null&&(!(g.expirationTime>ie)||K&&!D());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,_=g.priorityLevel;var me=ye(g.expirationTime<=ie);ie=t.unstable_now(),typeof me=="function"?g.callback=me:g===n(c)&&r(c),I(ie)}else r(c);g=n(c)}if(g!==null)var Pe=!0;else{var Me=n(f);Me!==null&&Fe(F,Me.startTime-ie),Pe=!1}return Pe}finally{g=null,_=J,S=!1}}var H=!1,O=null,w=-1,C=5,k=-1;function D(){return!(t.unstable_now()-k<C)}function j(){if(O!==null){var K=t.unstable_now();k=K;var ie=!0;try{ie=O(!0,K)}finally{ie?M():(H=!1,O=null)}}else H=!1}var M;if(typeof E=="function")M=function(){E(j)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,he=re.port2;re.port1.onmessage=j,M=function(){he.postMessage(null)}}else M=function(){V(j,0)};function Se(K){O=K,H||(H=!0,M())}function Fe(K,ie){w=V(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){b||S||(b=!0,Se(U))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var J=_;_=ie;try{return K()}finally{_=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var J=_;_=K;try{return ie()}finally{_=J}},t.unstable_scheduleCallback=function(K,ie,J){var ye=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ye+J:ye):J=ye,K){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=J+me,K={id:p++,callback:ie,priorityLevel:K,startTime:J,expirationTime:me,sortIndex:-1},J>ye?(K.sortIndex=J,e(f,K),n(c)===null&&K===n(f)&&(A?(x(w),w=-1):A=!0,Fe(F,J-ye))):(K.sortIndex=me,e(c,K),b||S||(b=!0,Se(U))),K},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(K){var ie=_;return function(){var J=_;_=ie;try{return K.apply(this,arguments)}finally{_=J}}}})(bE);CE.exports=bE;var K1=CE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=B,or=K1;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AE=new Set,Iu={};function zo(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(Iu[t]=e,t=0;t<e.length;t++)AE.add(e[t])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=Object.prototype.hasOwnProperty,Q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},oy={};function Y1(t){return qp.call(oy,t)?!0:qp.call(sy,t)?!1:Q1.test(t)?oy[t]=!0:(sy[t]=!0,!1)}function X1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J1(t,e,n,r){if(e===null||typeof e>"u"||X1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ag=/[\-:]([a-z])/g;function Rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ag,Rg);un[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ag,Rg);un[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ag,Rg);un[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function kg(t,e,n,r){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J1(e,n,i,r)&&(n=null),r||i===null?Y1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ji=Z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),ya=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),Lg=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Zp=Symbol.for("react.suspense_list"),Mg=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),LE=Symbol.for("react.offscreen"),ay=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=ay&&t[ay]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,Zf;function Xl(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var Qf=!1;function Yf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function eC(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Yf(t.type,!1),t;case 11:return t=Yf(t.type.render,!1),t;case 1:return t=Yf(t.type,!0),t;default:return""}}function Qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case ya:return"Portal";case Gp:return"Profiler";case Lg:return"StrictMode";case Kp:return"Suspense";case Zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kE:return(t.displayName||"Context")+".Consumer";case RE:return(t._context.displayName||"Context")+".Provider";case Og:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mg:return e=t.displayName||null,e!==null?e:Qp(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return Qp(t(e))}catch{}}return null}function tC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qp(e);case 8:return e===Lg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nC(t){var e=OE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kc(t){t._valueTracker||(t._valueTracker=nC(t))}function ME(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yp(t,e){var n=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ly(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NE(t,e){e=e.checked,e!=null&&kg(t,"checked",e,!1)}function Xp(t,e){NE(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jp(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jp(t,e,n){(e!=="number"||Ud(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function Ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function em(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Jl(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function DE(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zc,FE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rC=["Webkit","ms","Moz","O"];Object.keys(uu).forEach(function(t){rC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uu[e]=uu[t]})});function zE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uu.hasOwnProperty(t)&&uu[t]?(""+e).trim():e+"px"}function jE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iC=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(t,e){if(e){if(iC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function Ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sm=null,Na=null,Da=null;function hy(t){if(t=rc(t)){if(typeof sm!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Gh(e),sm(t.stateNode,t.type,e))}}function BE(t){Na?Da?Da.push(t):Da=[t]:Na=t}function UE(){if(Na){var t=Na,e=Da;if(Da=Na=null,hy(t),e)for(t=0;t<e.length;t++)hy(e[t])}}function $E(t,e){return t(e)}function HE(){}var Xf=!1;function WE(t,e,n){if(Xf)return t(e,n);Xf=!0;try{return $E(t,e,n)}finally{Xf=!1,(Na!==null||Da!==null)&&(HE(),UE())}}function xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var om=!1;if(Hi)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){om=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{om=!1}function sC(t,e,n,r,i,s,a,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var cu=!1,$d=null,Hd=!1,am=null,oC={onError:function(t){cu=!0,$d=t}};function aC(t,e,n,r,i,s,a,u,c){cu=!1,$d=null,sC.apply(oC,arguments)}function lC(t,e,n,r,i,s,a,u,c){if(aC.apply(this,arguments),cu){if(cu){var f=$d;cu=!1,$d=null}else throw Error(oe(198));Hd||(Hd=!0,am=f)}}function jo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fy(t){if(jo(t)!==t)throw Error(oe(188))}function uC(t){var e=t.alternate;if(!e){if(e=jo(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fy(i),t;if(s===r)return fy(i),e;s=s.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function GE(t){return t=uC(t),t!==null?KE(t):null}function KE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KE(t);if(e!==null)return e;t=t.sibling}return null}var ZE=or.unstable_scheduleCallback,py=or.unstable_cancelCallback,cC=or.unstable_shouldYield,dC=or.unstable_requestPaint,Nt=or.unstable_now,hC=or.unstable_getCurrentPriorityLevel,Dg=or.unstable_ImmediatePriority,QE=or.unstable_UserBlockingPriority,Wd=or.unstable_NormalPriority,fC=or.unstable_LowPriority,YE=or.unstable_IdlePriority,$h=null,oi=null;function pC(t){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot($h,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:vC,mC=Math.log,gC=Math.LN2;function vC(t){return t>>>=0,t===0?32:31-(mC(t)/gC|0)|0}var Qc=64,Yc=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=eu(u):(s&=a,s!==0&&(r=eu(s)))}else a=n&~i,a!==0?r=eu(a):s!==0&&(r=eu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function _C(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Nr(s),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=_C(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function lm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XE(){var t=Qc;return Qc<<=1,!(Qc&4194240)&&(Qc=64),t}function Jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function wC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Vg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function JE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eT,Fg,tT,nT,rT,um=!1,Xc=[],Ms=null,Ns=null,Ds=null,Cu=new Map,bu=new Map,Ss=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(e.pointerId)}}function jl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TC(t,e,n,r,i){switch(e){case"focusin":return Ms=jl(Ms,t,e,n,r,i),!0;case"dragenter":return Ns=jl(Ns,t,e,n,r,i),!0;case"mouseover":return Ds=jl(Ds,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cu.set(s,jl(Cu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bu.set(s,jl(bu.get(s)||null,t,e,n,r,i)),!0}return!1}function iT(t){var e=mo(t.target);if(e!==null){var n=jo(e);if(n!==null){if(e=n.tag,e===13){if(e=qE(n),e!==null){t.blockedOn=e,rT(t.priority,function(){tT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);im=r,n.target.dispatchEvent(r),im=null}else return e=rc(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function gy(t,e,n){yd(t)&&n.delete(e)}function SC(){um=!1,Ms!==null&&yd(Ms)&&(Ms=null),Ns!==null&&yd(Ns)&&(Ns=null),Ds!==null&&yd(Ds)&&(Ds=null),Cu.forEach(gy),bu.forEach(gy)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,um||(um=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,SC)))}function Au(t){function e(i){return Bl(i,t)}if(0<Xc.length){Bl(Xc[0],t);for(var n=1;n<Xc.length;n++){var r=Xc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&Bl(Ms,t),Ns!==null&&Bl(Ns,t),Ds!==null&&Bl(Ds,t),Cu.forEach(e),bu.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)iT(n),n.blockedOn===null&&Ss.shift()}var Va=Ji.ReactCurrentBatchConfig,Gd=!0;function IC(t,e,n,r){var i=rt,s=Va.transition;Va.transition=null;try{rt=1,zg(t,e,n,r)}finally{rt=i,Va.transition=s}}function PC(t,e,n,r){var i=rt,s=Va.transition;Va.transition=null;try{rt=4,zg(t,e,n,r)}finally{rt=i,Va.transition=s}}function zg(t,e,n,r){if(Gd){var i=cm(t,e,n,r);if(i===null)up(t,e,r,Kd,n),my(t,r);else if(TC(i,t,e,n,r))r.stopPropagation();else if(my(t,r),e&4&&-1<EC.indexOf(t)){for(;i!==null;){var s=rc(i);if(s!==null&&eT(s),s=cm(t,e,n,r),s===null&&up(t,e,r,Kd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else up(t,e,r,null,n)}}var Kd=null;function cm(t,e,n,r){if(Kd=null,t=Ng(r),t=mo(t),t!==null)if(e=jo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kd=t,null}function sT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hC()){case Dg:return 1;case QE:return 4;case Wd:case fC:return 16;case YE:return 536870912;default:return 16}default:return 16}}var As=null,jg=null,wd=null;function oT(){if(wd)return wd;var t,e=jg,n=e.length,r,i="value"in As?As.value:As.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return wd=i.slice(t,1<r?1-r:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jc(){return!0}function vy(){return!1}function lr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jc:vy,this.isPropagationStopped=vy,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),e}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=lr(ul),nc=Pt({},ul,{view:0,detail:0}),xC=lr(nc),ep,tp,Ul,Hh=Pt({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(ep=t.screenX-Ul.screenX,tp=t.screenY-Ul.screenY):tp=ep=0,Ul=t),ep)},movementY:function(t){return"movementY"in t?t.movementY:tp}}),_y=lr(Hh),CC=Pt({},Hh,{dataTransfer:0}),bC=lr(CC),AC=Pt({},nc,{relatedTarget:0}),np=lr(AC),RC=Pt({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),kC=lr(RC),LC=Pt({},ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OC=lr(LC),MC=Pt({},ul,{data:0}),yy=lr(MC),NC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VC[t])?!!e[t]:!1}function Ug(){return FC}var zC=Pt({},nc,{key:function(t){if(t.key){var e=NC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jC=lr(zC),BC=Pt({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=lr(BC),UC=Pt({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),$C=lr(UC),HC=Pt({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),WC=lr(HC),qC=Pt({},Hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GC=lr(qC),KC=[9,13,27,32],$g=Hi&&"CompositionEvent"in window,du=null;Hi&&"documentMode"in document&&(du=document.documentMode);var ZC=Hi&&"TextEvent"in window&&!du,aT=Hi&&(!$g||du&&8<du&&11>=du),Ey=" ",Ty=!1;function lT(t,e){switch(t){case"keyup":return KC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function QC(t,e){switch(t){case"compositionend":return uT(e);case"keypress":return e.which!==32?null:(Ty=!0,Ey);case"textInput":return t=e.data,t===Ey&&Ty?null:t;default:return null}}function YC(t,e){if(Ea)return t==="compositionend"||!$g&&lT(t,e)?(t=oT(),wd=jg=As=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aT&&e.locale!=="ko"?null:e.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XC[t.type]:e==="textarea"}function cT(t,e,n,r){BE(r),e=Zd(e,"onChange"),0<e.length&&(n=new Bg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hu=null,Ru=null;function JC(t){ET(t,0)}function Wh(t){var e=Ia(t);if(ME(e))return t}function eb(t,e){if(t==="change")return e}var dT=!1;if(Hi){var rp;if(Hi){var ip="oninput"in document;if(!ip){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),ip=typeof Iy.oninput=="function"}rp=ip}else rp=!1;dT=rp&&(!document.documentMode||9<document.documentMode)}function Py(){hu&&(hu.detachEvent("onpropertychange",hT),Ru=hu=null)}function hT(t){if(t.propertyName==="value"&&Wh(Ru)){var e=[];cT(e,Ru,t,Ng(t)),WE(JC,e)}}function tb(t,e,n){t==="focusin"?(Py(),hu=e,Ru=n,hu.attachEvent("onpropertychange",hT)):t==="focusout"&&Py()}function nb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(Ru)}function rb(t,e){if(t==="click")return Wh(e)}function ib(t,e){if(t==="input"||t==="change")return Wh(e)}function sb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:sb;function ku(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qp.call(e,i)||!Vr(t[i],e[i]))return!1}return!0}function xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cy(t,e){var n=xy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xy(n)}}function fT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pT(){for(var t=window,e=Ud();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ud(t.document)}return e}function Hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ob(t){var e=pT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fT(n.ownerDocument.documentElement,n)){if(r!==null&&Hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Cy(n,s);var a=Cy(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ab=Hi&&"documentMode"in document&&11>=document.documentMode,Ta=null,dm=null,fu=null,hm=!1;function by(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hm||Ta==null||Ta!==Ud(r)||(r=Ta,"selectionStart"in r&&Hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&ku(fu,r)||(fu=r,r=Zd(dm,"onSelect"),0<r.length&&(e=new Bg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ta)))}function ed(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sa={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},sp={},mT={};Hi&&(mT=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function qh(t){if(sp[t])return sp[t];if(!Sa[t])return t;var e=Sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mT)return sp[t]=e[n];return t}var gT=qh("animationend"),vT=qh("animationiteration"),_T=qh("animationstart"),yT=qh("transitionend"),wT=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){wT.set(t,e),zo(e,[t])}for(var op=0;op<Ay.length;op++){var ap=Ay[op],lb=ap.toLowerCase(),ub=ap[0].toUpperCase()+ap.slice(1);Xs(lb,"on"+ub)}Xs(gT,"onAnimationEnd");Xs(vT,"onAnimationIteration");Xs(_T,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(yT,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function Ry(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lC(r,e,void 0,t),t.currentTarget=null}function ET(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Ry(i,u,f),s=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Ry(i,u,f),s=c}}}if(Hd)throw t=am,Hd=!1,am=null,t}function ht(t,e){var n=e[vm];n===void 0&&(n=e[vm]=new Set);var r=t+"__bubble";n.has(r)||(TT(e,t,2,!1),n.add(r))}function lp(t,e,n){var r=0;e&&(r|=4),TT(n,t,r,e)}var td="_reactListening"+Math.random().toString(36).slice(2);function Lu(t){if(!t[td]){t[td]=!0,AE.forEach(function(n){n!=="selectionchange"&&(cb.has(n)||lp(n,!1,t),lp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[td]||(e[td]=!0,lp("selectionchange",!1,e))}}function TT(t,e,n,r){switch(sT(e)){case 1:var i=IC;break;case 4:i=PC;break;default:i=zg}n=i.bind(null,e,n,t),i=void 0,!om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function up(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=mo(u),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}u=u.parentNode}}r=r.return}WE(function(){var f=s,p=Ng(n),g=[];e:{var _=wT.get(t);if(_!==void 0){var S=Bg,b=t;switch(t){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":S=jC;break;case"focusin":b="focus",S=np;break;case"focusout":b="blur",S=np;break;case"beforeblur":case"afterblur":S=np;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=bC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=$C;break;case gT:case vT:case _T:S=kC;break;case yT:S=WC;break;case"scroll":S=xC;break;case"wheel":S=GC;break;case"copy":case"cut":case"paste":S=OC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=wy}var A=(e&4)!==0,V=!A&&t==="scroll",x=A?_!==null?_+"Capture":null:_;A=[];for(var E=f,I;E!==null;){I=E;var F=I.stateNode;if(I.tag===5&&F!==null&&(I=F,x!==null&&(F=xu(E,x),F!=null&&A.push(Ou(E,F,I)))),V)break;E=E.return}0<A.length&&(_=new S(_,b,null,n,p),g.push({event:_,listeners:A}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",_&&n!==im&&(b=n.relatedTarget||n.fromElement)&&(mo(b)||b[Wi]))break e;if((S||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,S?(b=n.relatedTarget||n.toElement,S=f,b=b?mo(b):null,b!==null&&(V=jo(b),b!==V||b.tag!==5&&b.tag!==6)&&(b=null)):(S=null,b=f),S!==b)){if(A=_y,F="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(A=wy,F="onPointerLeave",x="onPointerEnter",E="pointer"),V=S==null?_:Ia(S),I=b==null?_:Ia(b),_=new A(F,E+"leave",S,n,p),_.target=V,_.relatedTarget=I,F=null,mo(p)===f&&(A=new A(x,E+"enter",b,n,p),A.target=I,A.relatedTarget=V,F=A),V=F,S&&b)t:{for(A=S,x=b,E=0,I=A;I;I=pa(I))E++;for(I=0,F=x;F;F=pa(F))I++;for(;0<E-I;)A=pa(A),E--;for(;0<I-E;)x=pa(x),I--;for(;E--;){if(A===x||x!==null&&A===x.alternate)break t;A=pa(A),x=pa(x)}A=null}else A=null;S!==null&&ky(g,_,S,A,!1),b!==null&&V!==null&&ky(g,V,b,A,!0)}}e:{if(_=f?Ia(f):window,S=_.nodeName&&_.nodeName.toLowerCase(),S==="select"||S==="input"&&_.type==="file")var U=eb;else if(Sy(_))if(dT)U=ib;else{U=nb;var H=tb}else(S=_.nodeName)&&S.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(U=rb);if(U&&(U=U(t,f))){cT(g,U,n,p);break e}H&&H(t,_,f),t==="focusout"&&(H=_._wrapperState)&&H.controlled&&_.type==="number"&&Jp(_,"number",_.value)}switch(H=f?Ia(f):window,t){case"focusin":(Sy(H)||H.contentEditable==="true")&&(Ta=H,dm=f,fu=null);break;case"focusout":fu=dm=Ta=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,by(g,n,p);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":by(g,n,p)}var O;if($g)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ea?lT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(aT&&n.locale!=="ko"&&(Ea||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ea&&(O=oT()):(As=p,jg="value"in As?As.value:As.textContent,Ea=!0)),H=Zd(f,w),0<H.length&&(w=new yy(w,t,null,n,p),g.push({event:w,listeners:H}),O?w.data=O:(O=uT(n),O!==null&&(w.data=O)))),(O=ZC?QC(t,n):YC(t,n))&&(f=Zd(f,"onBeforeInput"),0<f.length&&(p=new yy("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=O))}ET(g,e)})}function Ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xu(t,n),s!=null&&r.unshift(Ou(t,s,i)),s=xu(t,e),s!=null&&r.push(Ou(t,s,i))),t=t.return}return r}function pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ky(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=xu(n,s),c!=null&&a.unshift(Ou(n,c,u))):i||(c=xu(n,s),c!=null&&a.push(Ou(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var db=/\r\n?/g,hb=/\u0000|\uFFFD/g;function Ly(t){return(typeof t=="string"?t:""+t).replace(db,`
`).replace(hb,"")}function nd(t,e,n){if(e=Ly(e),Ly(t)!==e&&n)throw Error(oe(425))}function Qd(){}var fm=null,pm=null;function mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,pb=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(mb)}:gm;function mb(t){setTimeout(function(){throw t})}function cp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Au(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cl=Math.random().toString(36).slice(2),ri="__reactFiber$"+cl,Mu="__reactProps$"+cl,Wi="__reactContainer$"+cl,vm="__reactEvents$"+cl,gb="__reactListeners$"+cl,vb="__reactHandles$"+cl;function mo(t){var e=t[ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wi]||n[ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=My(t);t!==null;){if(n=t[ri])return n;t=My(t)}return e}t=n,n=t.parentNode}return null}function rc(t){return t=t[ri]||t[Wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Gh(t){return t[Mu]||null}var _m=[],Pa=-1;function Js(t){return{current:t}}function pt(t){0>Pa||(t.current=_m[Pa],_m[Pa]=null,Pa--)}function ct(t,e){Pa++,_m[Pa]=t.current,t.current=e}var Ks={},_n=Js(Ks),Bn=Js(!1),Po=Ks;function qa(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Un(t){return t=t.childContextTypes,t!=null}function Yd(){pt(Bn),pt(_n)}function Ny(t,e,n){if(_n.current!==Ks)throw Error(oe(168));ct(_n,e),ct(Bn,n)}function ST(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,tC(t)||"Unknown",i));return Pt({},n,r)}function Xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Po=_n.current,ct(_n,t),ct(Bn,Bn.current),!0}function Dy(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=ST(t,e,Po),r.__reactInternalMemoizedMergedChildContext=t,pt(Bn),pt(_n),ct(_n,t)):pt(Bn),ct(Bn,n)}var Mi=null,Kh=!1,dp=!1;function IT(t){Mi===null?Mi=[t]:Mi.push(t)}function _b(t){Kh=!0,IT(t)}function eo(){if(!dp&&Mi!==null){dp=!0;var t=0,e=rt;try{var n=Mi;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mi=null,Kh=!1}catch(i){throw Mi!==null&&(Mi=Mi.slice(t+1)),ZE(Dg,eo),i}finally{rt=e,dp=!1}}return null}var xa=[],Ca=0,Jd=null,eh=0,yr=[],wr=0,xo=null,Ni=1,Di="";function co(t,e){xa[Ca++]=eh,xa[Ca++]=Jd,Jd=t,eh=e}function PT(t,e,n){yr[wr++]=Ni,yr[wr++]=Di,yr[wr++]=xo,xo=t;var r=Ni;t=Di;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var s=32-Nr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ni=1<<32-Nr(e)+i|n<<i|r,Di=s+t}else Ni=1<<s|n<<i|r,Di=t}function Wg(t){t.return!==null&&(co(t,1),PT(t,1,0))}function qg(t){for(;t===Jd;)Jd=xa[--Ca],xa[Ca]=null,eh=xa[--Ca],xa[Ca]=null;for(;t===xo;)xo=yr[--wr],yr[wr]=null,Di=yr[--wr],yr[wr]=null,Ni=yr[--wr],yr[wr]=null}var ir=null,nr=null,yt=!1,Mr=null;function xT(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,nr=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xo!==null?{id:Ni,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ir=t,nr=null,!0):!1;default:return!1}}function ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wm(t){if(yt){var e=nr;if(e){var n=e;if(!Vy(t,e)){if(ym(t))throw Error(oe(418));e=Vs(n.nextSibling);var r=ir;e&&Vy(t,e)?xT(r,n):(t.flags=t.flags&-4097|2,yt=!1,ir=t)}}else{if(ym(t))throw Error(oe(418));t.flags=t.flags&-4097|2,yt=!1,ir=t}}}function Fy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function rd(t){if(t!==ir)return!1;if(!yt)return Fy(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mm(t.type,t.memoizedProps)),e&&(e=nr)){if(ym(t))throw CT(),Error(oe(418));for(;e;)xT(t,e),e=Vs(e.nextSibling)}if(Fy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nr=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nr=null}}else nr=ir?Vs(t.stateNode.nextSibling):null;return!0}function CT(){for(var t=nr;t;)t=Vs(t.nextSibling)}function Ga(){nr=ir=null,yt=!1}function Gg(t){Mr===null?Mr=[t]:Mr.push(t)}var yb=Ji.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function id(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zy(t){var e=t._init;return e(t._payload)}function bT(t){function e(x,E){if(t){var I=x.deletions;I===null?(x.deletions=[E],x.flags|=16):I.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=Bs(x,E),x.index=0,x.sibling=null,x}function s(x,E,I){return x.index=I,t?(I=x.alternate,I!==null?(I=I.index,I<E?(x.flags|=2,E):I):(x.flags|=2,E)):(x.flags|=1048576,E)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,E,I,F){return E===null||E.tag!==6?(E=_p(I,x.mode,F),E.return=x,E):(E=i(E,I),E.return=x,E)}function c(x,E,I,F){var U=I.type;return U===wa?p(x,E,I.props.children,F,I.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Es&&zy(U)===E.type)?(F=i(E,I.props),F.ref=$l(x,E,I),F.return=x,F):(F=bd(I.type,I.key,I.props,null,x.mode,F),F.ref=$l(x,E,I),F.return=x,F)}function f(x,E,I,F){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=yp(I,x.mode,F),E.return=x,E):(E=i(E,I.children||[]),E.return=x,E)}function p(x,E,I,F,U){return E===null||E.tag!==7?(E=To(I,x.mode,F,U),E.return=x,E):(E=i(E,I),E.return=x,E)}function g(x,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=_p(""+E,x.mode,I),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gc:return I=bd(E.type,E.key,E.props,null,x.mode,I),I.ref=$l(x,null,E),I.return=x,I;case ya:return E=yp(E,x.mode,I),E.return=x,E;case Es:var F=E._init;return g(x,F(E._payload),I)}if(Jl(E)||Fl(E))return E=To(E,x.mode,I,null),E.return=x,E;id(x,E)}return null}function _(x,E,I,F){var U=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:u(x,E,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Gc:return I.key===U?c(x,E,I,F):null;case ya:return I.key===U?f(x,E,I,F):null;case Es:return U=I._init,_(x,E,U(I._payload),F)}if(Jl(I)||Fl(I))return U!==null?null:p(x,E,I,F,null);id(x,I)}return null}function S(x,E,I,F,U){if(typeof F=="string"&&F!==""||typeof F=="number")return x=x.get(I)||null,u(E,x,""+F,U);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Gc:return x=x.get(F.key===null?I:F.key)||null,c(E,x,F,U);case ya:return x=x.get(F.key===null?I:F.key)||null,f(E,x,F,U);case Es:var H=F._init;return S(x,E,I,H(F._payload),U)}if(Jl(F)||Fl(F))return x=x.get(I)||null,p(E,x,F,U,null);id(E,F)}return null}function b(x,E,I,F){for(var U=null,H=null,O=E,w=E=0,C=null;O!==null&&w<I.length;w++){O.index>w?(C=O,O=null):C=O.sibling;var k=_(x,O,I[w],F);if(k===null){O===null&&(O=C);break}t&&O&&k.alternate===null&&e(x,O),E=s(k,E,w),H===null?U=k:H.sibling=k,H=k,O=C}if(w===I.length)return n(x,O),yt&&co(x,w),U;if(O===null){for(;w<I.length;w++)O=g(x,I[w],F),O!==null&&(E=s(O,E,w),H===null?U=O:H.sibling=O,H=O);return yt&&co(x,w),U}for(O=r(x,O);w<I.length;w++)C=S(O,x,w,I[w],F),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?w:C.key),E=s(C,E,w),H===null?U=C:H.sibling=C,H=C);return t&&O.forEach(function(D){return e(x,D)}),yt&&co(x,w),U}function A(x,E,I,F){var U=Fl(I);if(typeof U!="function")throw Error(oe(150));if(I=U.call(I),I==null)throw Error(oe(151));for(var H=U=null,O=E,w=E=0,C=null,k=I.next();O!==null&&!k.done;w++,k=I.next()){O.index>w?(C=O,O=null):C=O.sibling;var D=_(x,O,k.value,F);if(D===null){O===null&&(O=C);break}t&&O&&D.alternate===null&&e(x,O),E=s(D,E,w),H===null?U=D:H.sibling=D,H=D,O=C}if(k.done)return n(x,O),yt&&co(x,w),U;if(O===null){for(;!k.done;w++,k=I.next())k=g(x,k.value,F),k!==null&&(E=s(k,E,w),H===null?U=k:H.sibling=k,H=k);return yt&&co(x,w),U}for(O=r(x,O);!k.done;w++,k=I.next())k=S(O,x,w,k.value,F),k!==null&&(t&&k.alternate!==null&&O.delete(k.key===null?w:k.key),E=s(k,E,w),H===null?U=k:H.sibling=k,H=k);return t&&O.forEach(function(j){return e(x,j)}),yt&&co(x,w),U}function V(x,E,I,F){if(typeof I=="object"&&I!==null&&I.type===wa&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Gc:e:{for(var U=I.key,H=E;H!==null;){if(H.key===U){if(U=I.type,U===wa){if(H.tag===7){n(x,H.sibling),E=i(H,I.props.children),E.return=x,x=E;break e}}else if(H.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Es&&zy(U)===H.type){n(x,H.sibling),E=i(H,I.props),E.ref=$l(x,H,I),E.return=x,x=E;break e}n(x,H);break}else e(x,H);H=H.sibling}I.type===wa?(E=To(I.props.children,x.mode,F,I.key),E.return=x,x=E):(F=bd(I.type,I.key,I.props,null,x.mode,F),F.ref=$l(x,E,I),F.return=x,x=F)}return a(x);case ya:e:{for(H=I.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(x,E.sibling),E=i(E,I.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=yp(I,x.mode,F),E.return=x,x=E}return a(x);case Es:return H=I._init,V(x,E,H(I._payload),F)}if(Jl(I))return b(x,E,I,F);if(Fl(I))return A(x,E,I,F);id(x,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(x,E.sibling),E=i(E,I),E.return=x,x=E):(n(x,E),E=_p(I,x.mode,F),E.return=x,x=E),a(x)):n(x,E)}return V}var Ka=bT(!0),AT=bT(!1),th=Js(null),nh=null,ba=null,Kg=null;function Zg(){Kg=ba=nh=null}function Qg(t){var e=th.current;pt(th),t._currentValue=e}function Em(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fa(t,e){nh=t,Kg=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(Kg!==t)if(t={context:t,memoizedValue:e,next:null},ba===null){if(nh===null)throw Error(oe(308));ba=t,nh.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var go=null;function Yg(t){go===null?go=[t]:go.push(t)}function RT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yg(e)):(n.next=i.next,i.next=n),e.interleaved=n,qi(t,r)}function qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qi(t,n)}return i=r.interleaved,i===null?(e.next=e,Yg(r)):(e.next=i.next,i.next=e),r.interleaved=e,qi(t,n)}function Td(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}function jy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rh(t,e,n,r){var i=t.updateQueue;Ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?s=f:a.next=f,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;a=0,p=f=c=null,u=s;do{var _=u.lane,S=u.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=t,A=u;switch(_=e,S=n,A.tag){case 1:if(b=A.payload,typeof b=="function"){g=b.call(S,g,_);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=A.payload,_=typeof b=="function"?b.call(S,g,_):b,_==null)break e;g=Pt({},g,_);break e;case 2:Ts=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else S={eventTime:S,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=S,c=g):p=p.next=S,a|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bo|=a,t.lanes=a,t.memoizedState=g}}function By(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var ic={},ai=Js(ic),Nu=Js(ic),Du=Js(ic);function vo(t){if(t===ic)throw Error(oe(174));return t}function Jg(t,e){switch(ct(Du,e),ct(Nu,t),ct(ai,ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tm(e,t)}pt(ai),ct(ai,e)}function Za(){pt(ai),pt(Nu),pt(Du)}function LT(t){vo(Du.current);var e=vo(ai.current),n=tm(e,t.type);e!==n&&(ct(Nu,t),ct(ai,n))}function ev(t){Nu.current===t&&(pt(ai),pt(Nu))}var St=Js(0);function ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hp=[];function tv(){for(var t=0;t<hp.length;t++)hp[t]._workInProgressVersionPrimary=null;hp.length=0}var Sd=Ji.ReactCurrentDispatcher,fp=Ji.ReactCurrentBatchConfig,Co=0,It=null,$t=null,Xt=null,sh=!1,pu=!1,Vu=0,wb=0;function dn(){throw Error(oe(321))}function nv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vr(t[n],e[n]))return!1;return!0}function rv(t,e,n,r,i,s){if(Co=s,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sd.current=t===null||t.memoizedState===null?Ib:Pb,t=n(r,i),pu){s=0;do{if(pu=!1,Vu=0,25<=s)throw Error(oe(301));s+=1,Xt=$t=null,e.updateQueue=null,Sd.current=xb,t=n(r,i)}while(pu)}if(Sd.current=oh,e=$t!==null&&$t.next!==null,Co=0,Xt=$t=It=null,sh=!1,e)throw Error(oe(300));return t}function iv(){var t=Vu!==0;return Vu=0,t}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?It.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Pr(){if($t===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Xt===null?It.memoizedState:Xt.next;if(e!==null)Xt=e,$t=t;else{if(t===null)throw Error(oe(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Xt===null?It.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Fu(t,e){return typeof e=="function"?e(t):e}function pp(t){var e=Pr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=$t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,c=null,f=s;do{var p=f.lane;if((Co&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=g,a=r):c=c.next=g,It.lanes|=p,bo|=p}f=f.next}while(f!==null&&f!==s);c===null?a=r:c.next=u,Vr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,It.lanes|=s,bo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mp(t){var e=Pr(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Vr(s,e.memoizedState)||(jn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OT(){}function MT(t,e){var n=It,r=Pr(),i=e(),s=!Vr(r.memoizedState,i);if(s&&(r.memoizedState=i,jn=!0),r=r.queue,sv(VT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,zu(9,DT.bind(null,n,r,i,e),void 0,null),Jt===null)throw Error(oe(349));Co&30||NT(n,e,i)}return i}function NT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DT(t,e,n,r){e.value=n,e.getSnapshot=r,FT(e)&&zT(t)}function VT(t,e,n){return n(function(){FT(e)&&zT(t)})}function FT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vr(t,n)}catch{return!0}}function zT(t){var e=qi(t,1);e!==null&&Dr(e,t,1,-1)}function Uy(t){var e=ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:t},e.queue=t,t=t.dispatch=Sb.bind(null,It,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jT(){return Pr().memoizedState}function Id(t,e,n,r){var i=ni();It.flags|=t,i.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function Zh(t,e,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if($t!==null){var a=$t.memoizedState;if(s=a.destroy,r!==null&&nv(r,a.deps)){i.memoizedState=zu(e,n,s,r);return}}It.flags|=t,i.memoizedState=zu(1|e,n,s,r)}function $y(t,e){return Id(8390656,8,t,e)}function sv(t,e){return Zh(2048,8,t,e)}function BT(t,e){return Zh(4,2,t,e)}function UT(t,e){return Zh(4,4,t,e)}function $T(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HT(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4,4,$T.bind(null,e,t),n)}function ov(){}function WT(t,e){var n=Pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qT(t,e){var n=Pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GT(t,e,n){return Co&21?(Vr(n,e)||(n=XE(),It.lanes|=n,bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function Eb(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=fp.transition;fp.transition={};try{t(!1),e()}finally{rt=n,fp.transition=r}}function KT(){return Pr().memoizedState}function Tb(t,e,n){var r=js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZT(t))QT(e,n);else if(n=RT(t,e,n,r),n!==null){var i=Cn();Dr(n,t,r,i),YT(n,e,r)}}function Sb(t,e,n){var r=js(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZT(t))QT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,Vr(u,a)){var c=e.interleaved;c===null?(i.next=i,Yg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=RT(t,e,i,r),n!==null&&(i=Cn(),Dr(n,t,r,i),YT(n,e,r))}}function ZT(t){var e=t.alternate;return t===It||e!==null&&e===It}function QT(t,e){pu=sh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}var oh={readContext:Ir,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},Ib={readContext:Ir,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:$y,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Id(4194308,4,$T.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Id(4194308,4,t,e)},useInsertionEffect:function(t,e){return Id(4,2,t,e)},useMemo:function(t,e){var n=ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ni();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tb.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:Uy,useDebugValue:ov,useDeferredValue:function(t){return ni().memoizedState=t},useTransition:function(){var t=Uy(!1),e=t[0];return t=Eb.bind(null,t[1]),ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,i=ni();if(yt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Jt===null)throw Error(oe(349));Co&30||NT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$y(VT.bind(null,r,s,t),[t]),r.flags|=2048,zu(9,DT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ni(),e=Jt.identifierPrefix;if(yt){var n=Di,r=Ni;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pb={readContext:Ir,useCallback:WT,useContext:Ir,useEffect:sv,useImperativeHandle:HT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:qT,useReducer:pp,useRef:jT,useState:function(){return pp(Fu)},useDebugValue:ov,useDeferredValue:function(t){var e=Pr();return GT(e,$t.memoizedState,t)},useTransition:function(){var t=pp(Fu)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:OT,useSyncExternalStore:MT,useId:KT,unstable_isNewReconciler:!1},xb={readContext:Ir,useCallback:WT,useContext:Ir,useEffect:sv,useImperativeHandle:HT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:qT,useReducer:mp,useRef:jT,useState:function(){return mp(Fu)},useDebugValue:ov,useDeferredValue:function(t){var e=Pr();return $t===null?e.memoizedState=t:GT(e,$t.memoizedState,t)},useTransition:function(){var t=mp(Fu)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:OT,useSyncExternalStore:MT,useId:KT,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qh={isMounted:function(t){return(t=t._reactInternals)?jo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=js(t),s=ji(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fs(t,s,i),e!==null&&(Dr(e,t,i,r),Td(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=js(t),s=ji(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fs(t,s,i),e!==null&&(Dr(e,t,i,r),Td(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=js(t),i=ji(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fs(t,i,r),e!==null&&(Dr(e,t,r,n),Td(e,t,r))}};function Hy(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ku(n,r)||!ku(i,s):!0}function XT(t,e,n){var r=!1,i=Ks,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=Un(e)?Po:_n.current,r=e.contextTypes,s=(r=r!=null)?qa(t,i):Ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qh.enqueueReplaceState(e,e.state,null)}function Sm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=Un(e)?Po:_n.current,i.context=qa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qh.enqueueReplaceState(i,i.state,null),rh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=eC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Cb=typeof WeakMap=="function"?WeakMap:Map;function JT(t,e,n){n=ji(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lh||(lh=!0,Mm=r),Im(t,e)},n}function eS(t,e,n){n=ji(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Im(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Im(t,e),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function qy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Cb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Bb.bind(null,t,e,n),e.then(t,t))}function Gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ky(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ji(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var bb=Ji.ReactCurrentOwner,jn=!1;function xn(t,e,n,r){e.child=t===null?AT(e,null,n,r):Ka(e,t.child,n,r)}function Zy(t,e,n,r,i){n=n.render;var s=e.ref;return Fa(e,i),r=rv(t,e,n,r,s,i),n=iv(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gi(t,e,i)):(yt&&n&&Wg(e),e.flags|=1,xn(t,e,r,i),e.child)}function Qy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tS(t,e,s,r,i)):(t=bd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(a,r)&&t.ref===e.ref)return Gi(t,e,i)}return e.flags|=1,t=Bs(s,r),t.ref=e.ref,t.return=e,e.child=t}function tS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ku(s,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,Gi(t,e,i)}return Pm(t,e,n,r,i)}function nS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Ra,Jn),Jn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(Ra,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ct(Ra,Jn),Jn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ct(Ra,Jn),Jn|=r;return xn(t,e,i,n),e.child}function rS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,n,r,i){var s=Un(n)?Po:_n.current;return s=qa(e,s),Fa(e,i),n=rv(t,e,n,r,s,i),r=iv(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gi(t,e,i)):(yt&&r&&Wg(e),e.flags|=1,xn(t,e,n,i),e.child)}function Yy(t,e,n,r,i){if(Un(n)){var s=!0;Xd(e)}else s=!1;if(Fa(e,i),e.stateNode===null)Pd(t,e),XT(e,n,r),Sm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ir(f):(f=Un(n)?Po:_n.current,f=qa(e,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==f)&&Wy(e,a,r,f),Ts=!1;var _=e.memoizedState;a.state=_,rh(e,r,a,i),c=e.memoizedState,u!==r||_!==c||Bn.current||Ts?(typeof p=="function"&&(Tm(e,n,p,r),c=e.memoizedState),(u=Ts||Hy(e,n,u,r,_,c,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=f,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,kT(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:kr(e.type,u),a.props=f,g=e.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ir(c):(c=Un(n)?Po:_n.current,c=qa(e,c));var S=n.getDerivedStateFromProps;(p=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||_!==c)&&Wy(e,a,r,c),Ts=!1,_=e.memoizedState,a.state=_,rh(e,r,a,i);var b=e.memoizedState;u!==g||_!==b||Bn.current||Ts?(typeof S=="function"&&(Tm(e,n,S,r),b=e.memoizedState),(f=Ts||Hy(e,n,f,r,_,b,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return xm(t,e,n,r,s,i)}function xm(t,e,n,r,i,s){rS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Dy(e,n,!1),Gi(t,e,s);r=e.stateNode,bb.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ka(e,t.child,null,s),e.child=Ka(e,null,u,s)):xn(t,e,u,s),e.memoizedState=r.state,i&&Dy(e,n,!0),e.child}function iS(t){var e=t.stateNode;e.pendingContext?Ny(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ny(t,e.context,!1),Jg(t,e.containerInfo)}function Xy(t,e,n,r,i){return Ga(),Gg(i),e.flags|=256,xn(t,e,n,r),e.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function sS(t,e,n){var r=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(St,i&1),t===null)return wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Jh(a,r,0,null),t=To(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bm(n),e.memoizedState=Cm,t):av(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Ab(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Bs(u,s):(s=To(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?bm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Cm,r}return s=t.child,t=s.sibling,r=Bs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function av(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sd(t,e,n,r){return r!==null&&Gg(r),Ka(e,t.child,null,n),t=av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ab(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=gp(Error(oe(422))),sd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jh({mode:"visible",children:r.children},i,0,null),s=To(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ka(e,t.child,null,a),e.child.memoizedState=bm(a),e.memoizedState=Cm,s);if(!(e.mode&1))return sd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(oe(419)),r=gp(s,r,void 0),sd(t,e,a,r)}if(u=(a&t.childLanes)!==0,jn||u){if(r=Jt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qi(t,i),Dr(r,t,i,-1))}return fv(),r=gp(Error(oe(421))),sd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ub.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nr=Vs(i.nextSibling),ir=e,yt=!0,Mr=null,t!==null&&(yr[wr++]=Ni,yr[wr++]=Di,yr[wr++]=xo,Ni=t.id,Di=t.overflow,xo=e),e=av(e,r.children),e.flags|=4096,e)}function Jy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Em(t.return,e,n)}function vp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xn(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,n,e);else if(t.tag===19)Jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(St,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ih(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ih(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vp(e,!0,n,null,s);break;case"together":vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rb(t,e,n){switch(e.tag){case 3:iS(e),Ga();break;case 5:LT(e);break;case 1:Un(e.type)&&Xd(e);break;case 4:Jg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ct(th,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?sS(t,e,n):(ct(St,St.current&1),t=Gi(t,e,n),t!==null?t.sibling:null);ct(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,nS(t,e,n)}return Gi(t,e,n)}var aS,Am,lS,uS;aS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};lS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(ai.current);var s=null;switch(n){case"input":i=Yp(t,i),r=Yp(t,r),s=[];break;case"select":i=Pt({},i,{value:void 0}),r=Pt({},r,{value:void 0}),s=[];break;case"textarea":i=em(t,i),r=em(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qd)}nm(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Iu.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Iu.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ht("scroll",t),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};uS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hl(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kb(t,e,n){var r=e.pendingProps;switch(qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return Un(e.type)&&Yd(),hn(e),null;case 3:return r=e.stateNode,Za(),pt(Bn),pt(_n),tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(Vm(Mr),Mr=null))),Am(t,e),hn(e),null;case 5:ev(e);var i=vo(Du.current);if(n=e.type,t!==null&&e.stateNode!=null)lS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return hn(e),null}if(t=vo(ai.current),rd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ri]=e,r[Mu]=s,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<tu.length;i++)ht(tu[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":ly(r,s),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ht("invalid",r);break;case"textarea":cy(r,s),ht("invalid",r)}nm(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&nd(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&nd(r.textContent,u,t),i=["children",""+u]):Iu.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ht("scroll",r)}switch(n){case"input":Kc(r),uy(r,s,!0);break;case"textarea":Kc(r),dy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ri]=e,t[Mu]=r,aS(t,e,!1,!1),e.stateNode=t;e:{switch(a=rm(n,r),n){case"dialog":ht("cancel",t),ht("close",t),i=r;break;case"iframe":case"object":case"embed":ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<tu.length;i++)ht(tu[i],t);i=r;break;case"source":ht("error",t),i=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=r;break;case"details":ht("toggle",t),i=r;break;case"input":ly(t,r),i=Yp(t,r),ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pt({},r,{value:void 0}),ht("invalid",t);break;case"textarea":cy(t,r),i=em(t,r),ht("invalid",t);break;default:i=r}nm(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?jE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&FE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pu(t,c):typeof c=="number"&&Pu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Iu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ht("scroll",t):c!=null&&kg(t,s,c,a))}switch(n){case"input":Kc(t),uy(t,r,!1);break;case"textarea":Kc(t),dy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ma(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)uS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=vo(Du.current),vo(ai.current),rd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ri]=e,(s=r.nodeValue!==n)&&(t=ir,t!==null))switch(t.tag){case 3:nd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ri]=e,e.stateNode=r}return hn(e),null;case 13:if(pt(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&nr!==null&&e.mode&1&&!(e.flags&128))CT(),Ga(),e.flags|=98560,s=!1;else if(s=rd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[ri]=e}else Ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),s=!1}else Mr!==null&&(Vm(Mr),Mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?Ht===0&&(Ht=3):fv())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Za(),Am(t,e),t===null&&Lu(e.stateNode.containerInfo),hn(e),null;case 10:return Qg(e.type._context),hn(e),null;case 17:return Un(e.type)&&Yd(),hn(e),null;case 19:if(pt(St),s=e.memoizedState,s===null)return hn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Hl(s,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ih(t),a!==null){for(e.flags|=128,Hl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nt()>Ya&&(e.flags|=128,r=!0,Hl(s,!1),e.lanes=4194304)}else{if(!r)if(t=ih(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!yt)return hn(e),null}else 2*Nt()-s.renderingStartTime>Ya&&n!==1073741824&&(e.flags|=128,r=!0,Hl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,n=St.current,ct(St,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return hv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function Lb(t,e){switch(qg(e),e.tag){case 1:return Un(e.type)&&Yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Za(),pt(Bn),pt(_n),tv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ev(e),null;case 13:if(pt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(St),null;case 4:return Za(),null;case 10:return Qg(e.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var od=!1,mn=!1,Ob=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function Rm(t,e,n){try{n()}catch(r){At(t,e,r)}}var ew=!1;function Mb(t,e){if(fm=Gd,t=pT(),Hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,f=0,p=0,g=t,_=null;t:for(;;){for(var S;g!==n||i!==0&&g.nodeType!==3||(u=a+i),g!==s||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(S=g.firstChild)!==null;)_=g,g=S;for(;;){if(g===t)break t;if(_===n&&++f===i&&(u=a),_===s&&++p===r&&(c=a),(S=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=S}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pm={focusedElem:t,selectionRange:n},Gd=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var A=b.memoizedProps,V=b.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?A:kr(e.type,A),V);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(F){At(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return b=ew,ew=!1,b}function mu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rm(e,n,s)}i=i.next}while(i!==r)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function km(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cS(t){var e=t.alternate;e!==null&&(t.alternate=null,cS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ri],delete e[Mu],delete e[vm],delete e[gb],delete e[vb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dS(t){return t.tag===5||t.tag===3||t.tag===4}function tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qd));else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}var nn=null,Lr=!1;function vs(t,e,n){for(n=n.child;n!==null;)hS(t,e,n),n=n.sibling}function hS(t,e,n){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount($h,n)}catch{}switch(n.tag){case 5:mn||Aa(n,e);case 6:var r=nn,i=Lr;nn=null,vs(t,e,n),nn=r,Lr=i,nn!==null&&(Lr?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Lr?(t=nn,n=n.stateNode,t.nodeType===8?cp(t.parentNode,n):t.nodeType===1&&cp(t,n),Au(t)):cp(nn,n.stateNode));break;case 4:r=nn,i=Lr,nn=n.stateNode.containerInfo,Lr=!0,vs(t,e,n),nn=r,Lr=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Rm(n,e,a),i=i.next}while(i!==r)}vs(t,e,n);break;case 1:if(!mn&&(Aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){At(n,e,u)}vs(t,e,n);break;case 21:vs(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,vs(t,e,n),mn=r):vs(t,e,n);break;default:vs(t,e,n)}}function nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ob),e.forEach(function(r){var i=$b.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:nn=u.stateNode,Lr=!1;break e;case 3:nn=u.stateNode.containerInfo,Lr=!0;break e;case 4:nn=u.stateNode.containerInfo,Lr=!0;break e}u=u.return}if(nn===null)throw Error(oe(160));hS(s,a,i),nn=null,Lr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){At(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fS(e,t),e=e.sibling}function fS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rr(e,t),ti(t),r&4){try{mu(3,t,t.return),Yh(3,t)}catch(A){At(t,t.return,A)}try{mu(5,t,t.return)}catch(A){At(t,t.return,A)}}break;case 1:Rr(e,t),ti(t),r&512&&n!==null&&Aa(n,n.return);break;case 5:if(Rr(e,t),ti(t),r&512&&n!==null&&Aa(n,n.return),t.flags&32){var i=t.stateNode;try{Pu(i,"")}catch(A){At(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&NE(i,s),rm(u,a);var f=rm(u,s);for(a=0;a<c.length;a+=2){var p=c[a],g=c[a+1];p==="style"?jE(i,g):p==="dangerouslySetInnerHTML"?FE(i,g):p==="children"?Pu(i,g):kg(i,p,g,f)}switch(u){case"input":Xp(i,s);break;case"textarea":DE(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Ma(i,!!s.multiple,S,!1):_!==!!s.multiple&&(s.defaultValue!=null?Ma(i,!!s.multiple,s.defaultValue,!0):Ma(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mu]=s}catch(A){At(t,t.return,A)}}break;case 6:if(Rr(e,t),ti(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){At(t,t.return,A)}}break;case 3:if(Rr(e,t),ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(A){At(t,t.return,A)}break;case 4:Rr(e,t),ti(t);break;case 13:Rr(e,t),ti(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cv=Nt())),r&4&&nw(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(f=mn)||p,Rr(e,t),mn=f):Rr(e,t),ti(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(fe=t,p=t.child;p!==null;){for(g=fe=p;fe!==null;){switch(_=fe,S=_.child,_.tag){case 0:case 11:case 14:case 15:mu(4,_,_.return);break;case 1:Aa(_,_.return);var b=_.stateNode;if(typeof b.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(A){At(r,n,A)}}break;case 5:Aa(_,_.return);break;case 22:if(_.memoizedState!==null){iw(g);continue}}S!==null?(S.return=_,fe=S):iw(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=zE("display",a))}catch(A){At(t,t.return,A)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(A){At(t,t.return,A)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Rr(e,t),ti(t),r&4&&nw(t);break;case 21:break;default:Rr(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dS(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pu(i,""),r.flags&=-33);var s=tw(t);Om(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=tw(t);Lm(t,u,a);break;default:throw Error(oe(161))}}catch(c){At(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nb(t,e,n){fe=t,pS(t)}function pS(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||od;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||mn;u=od;var f=mn;if(od=a,(mn=c)&&!f)for(fe=i;fe!==null;)a=fe,c=a.child,a.tag===22&&a.memoizedState!==null?sw(i):c!==null?(c.return=a,fe=c):sw(i);for(;s!==null;)fe=s,pS(s),s=s.sibling;fe=i,od=u,mn=f}rw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):rw(t)}}function rw(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&By(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}By(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Au(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}mn||e.flags&512&&km(e)}catch(_){At(e,e.return,_)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function iw(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function sw(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yh(4,e)}catch(c){At(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){At(e,i,c)}}var s=e.return;try{km(e)}catch(c){At(e,s,c)}break;case 5:var a=e.return;try{km(e)}catch(c){At(e,a,c)}}}catch(c){At(e,e.return,c)}if(e===t){fe=null;break}var u=e.sibling;if(u!==null){u.return=e.return,fe=u;break}fe=e.return}}var Db=Math.ceil,ah=Ji.ReactCurrentDispatcher,lv=Ji.ReactCurrentOwner,Tr=Ji.ReactCurrentBatchConfig,Ye=0,Jt=null,jt=null,an=0,Jn=0,Ra=Js(0),Ht=0,ju=null,bo=0,Xh=0,uv=0,gu=null,Fn=null,cv=0,Ya=1/0,Oi=null,lh=!1,Mm=null,zs=null,ad=!1,Rs=null,uh=0,vu=0,Nm=null,xd=-1,Cd=0;function Cn(){return Ye&6?Nt():xd!==-1?xd:xd=Nt()}function js(t){return t.mode&1?Ye&2&&an!==0?an&-an:yb.transition!==null?(Cd===0&&(Cd=XE()),Cd):(t=rt,t!==0||(t=window.event,t=t===void 0?16:sT(t.type)),t):1}function Dr(t,e,n,r){if(50<vu)throw vu=0,Nm=null,Error(oe(185));tc(t,n,r),(!(Ye&2)||t!==Jt)&&(t===Jt&&(!(Ye&2)&&(Xh|=n),Ht===4&&Is(t,an)),$n(t,r),n===1&&Ye===0&&!(e.mode&1)&&(Ya=Nt()+500,Kh&&eo()))}function $n(t,e){var n=t.callbackNode;yC(t,e);var r=qd(t,t===Jt?an:0);if(r===0)n!==null&&py(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&py(n),e===1)t.tag===0?_b(ow.bind(null,t)):IT(ow.bind(null,t)),pb(function(){!(Ye&6)&&eo()}),n=null;else{switch(JE(r)){case 1:n=Dg;break;case 4:n=QE;break;case 16:n=Wd;break;case 536870912:n=YE;break;default:n=Wd}n=TS(n,mS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mS(t,e){if(xd=-1,Cd=0,Ye&6)throw Error(oe(327));var n=t.callbackNode;if(za()&&t.callbackNode!==n)return null;var r=qd(t,t===Jt?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ch(t,r);else{e=r;var i=Ye;Ye|=2;var s=vS();(Jt!==t||an!==e)&&(Oi=null,Ya=Nt()+500,Eo(t,e));do try{zb();break}catch(u){gS(t,u)}while(!0);Zg(),ah.current=s,Ye=i,jt!==null?e=0:(Jt=null,an=0,e=Ht)}if(e!==0){if(e===2&&(i=lm(t),i!==0&&(r=i,e=Dm(t,i))),e===1)throw n=ju,Eo(t,0),Is(t,r),$n(t,Nt()),n;if(e===6)Is(t,r);else{if(i=t.current.alternate,!(r&30)&&!Vb(i)&&(e=ch(t,r),e===2&&(s=lm(t),s!==0&&(r=s,e=Dm(t,s))),e===1))throw n=ju,Eo(t,0),Is(t,r),$n(t,Nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:ho(t,Fn,Oi);break;case 3:if(Is(t,r),(r&130023424)===r&&(e=cv+500-Nt(),10<e)){if(qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gm(ho.bind(null,t,Fn,Oi),e);break}ho(t,Fn,Oi);break;case 4:if(Is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Nr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Db(r/1960))-r,10<r){t.timeoutHandle=gm(ho.bind(null,t,Fn,Oi),r);break}ho(t,Fn,Oi);break;case 5:ho(t,Fn,Oi);break;default:throw Error(oe(329))}}}return $n(t,Nt()),t.callbackNode===n?mS.bind(null,t):null}function Dm(t,e){var n=gu;return t.current.memoizedState.isDehydrated&&(Eo(t,e).flags|=256),t=ch(t,e),t!==2&&(e=Fn,Fn=n,e!==null&&Vm(e)),t}function Vm(t){Fn===null?Fn=t:Fn.push.apply(Fn,t)}function Vb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~uv,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function ow(t){if(Ye&6)throw Error(oe(327));za();var e=qd(t,0);if(!(e&1))return $n(t,Nt()),null;var n=ch(t,e);if(t.tag!==0&&n===2){var r=lm(t);r!==0&&(e=r,n=Dm(t,r))}if(n===1)throw n=ju,Eo(t,0),Is(t,e),$n(t,Nt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ho(t,Fn,Oi),$n(t,Nt()),null}function dv(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(Ya=Nt()+500,Kh&&eo())}}function Ao(t){Rs!==null&&Rs.tag===0&&!(Ye&6)&&za();var e=Ye;Ye|=1;var n=Tr.transition,r=rt;try{if(Tr.transition=null,rt=1,t)return t()}finally{rt=r,Tr.transition=n,Ye=e,!(Ye&6)&&eo()}}function hv(){Jn=Ra.current,pt(Ra)}function Eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fb(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yd();break;case 3:Za(),pt(Bn),pt(_n),tv();break;case 5:ev(r);break;case 4:Za();break;case 13:pt(St);break;case 19:pt(St);break;case 10:Qg(r.type._context);break;case 22:case 23:hv()}n=n.return}if(Jt=t,jt=t=Bs(t.current,null),an=Jn=e,Ht=0,ju=null,uv=Xh=bo=0,Fn=gu=null,go!==null){for(e=0;e<go.length;e++)if(n=go[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}go=null}return t}function gS(t,e){do{var n=jt;try{if(Zg(),Sd.current=oh,sh){for(var r=It.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sh=!1}if(Co=0,Xt=$t=It=null,pu=!1,Vu=0,lv.current=null,n===null||n.return===null){Ht=1,ju=e,jt=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=an,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=u,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=Gy(a);if(S!==null){S.flags&=-257,Ky(S,a,u,s,e),S.mode&1&&qy(s,f,e),e=S,c=f;var b=e.updateQueue;if(b===null){var A=new Set;A.add(c),e.updateQueue=A}else b.add(c);break e}else{if(!(e&1)){qy(s,f,e),fv();break e}c=Error(oe(426))}}else if(yt&&u.mode&1){var V=Gy(a);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Ky(V,a,u,s,e),Gg(Qa(c,u));break e}}s=c=Qa(c,u),Ht!==4&&(Ht=2),gu===null?gu=[s]:gu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=JT(s,c,e);jy(s,x);break e;case 1:u=c;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(zs===null||!zs.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=eS(s,u,e);jy(s,F);break e}}s=s.return}while(s!==null)}yS(n)}catch(U){e=U,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(!0)}function vS(){var t=ah.current;return ah.current=oh,t===null?oh:t}function fv(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Jt===null||!(bo&268435455)&&!(Xh&268435455)||Is(Jt,an)}function ch(t,e){var n=Ye;Ye|=2;var r=vS();(Jt!==t||an!==e)&&(Oi=null,Eo(t,e));do try{Fb();break}catch(i){gS(t,i)}while(!0);if(Zg(),Ye=n,ah.current=r,jt!==null)throw Error(oe(261));return Jt=null,an=0,Ht}function Fb(){for(;jt!==null;)_S(jt)}function zb(){for(;jt!==null&&!cC();)_S(jt)}function _S(t){var e=ES(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?yS(t):jt=e,lv.current=null}function yS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Lb(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,jt=null;return}}else if(n=kb(n,e,Jn),n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Ht===0&&(Ht=5)}function ho(t,e,n){var r=rt,i=Tr.transition;try{Tr.transition=null,rt=1,jb(t,e,n,r)}finally{Tr.transition=i,rt=r}return null}function jb(t,e,n,r){do za();while(Rs!==null);if(Ye&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wC(t,s),t===Jt&&(jt=Jt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,TS(Wd,function(){return za(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tr.transition,Tr.transition=null;var a=rt;rt=1;var u=Ye;Ye|=4,lv.current=null,Mb(t,n),fS(n,t),ob(pm),Gd=!!fm,pm=fm=null,t.current=n,Nb(n),dC(),Ye=u,rt=a,Tr.transition=s}else t.current=n;if(ad&&(ad=!1,Rs=t,uh=i),s=t.pendingLanes,s===0&&(zs=null),pC(n.stateNode),$n(t,Nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lh)throw lh=!1,t=Mm,Mm=null,t;return uh&1&&t.tag!==0&&za(),s=t.pendingLanes,s&1?t===Nm?vu++:(vu=0,Nm=t):vu=0,eo(),null}function za(){if(Rs!==null){var t=JE(uh),e=Tr.transition,n=rt;try{if(Tr.transition=null,rt=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,uh=0,Ye&6)throw Error(oe(331));var i=Ye;for(Ye|=4,fe=t.current;fe!==null;){var s=fe,a=s.child;if(fe.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(fe=f;fe!==null;){var p=fe;switch(p.tag){case 0:case 11:case 15:mu(8,p,s)}var g=p.child;if(g!==null)g.return=p,fe=g;else for(;fe!==null;){p=fe;var _=p.sibling,S=p.return;if(cS(p),p===f){fe=null;break}if(_!==null){_.return=S,fe=_;break}fe=S}}}var b=s.alternate;if(b!==null){var A=b.child;if(A!==null){b.child=null;do{var V=A.sibling;A.sibling=null,A=V}while(A!==null)}}fe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,fe=a;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mu(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,fe=x;break e}fe=s.return}}var E=t.current;for(fe=E;fe!==null;){a=fe;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,fe=I;else e:for(a=E;fe!==null;){if(u=fe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Yh(9,u)}}catch(U){At(u,u.return,U)}if(u===a){fe=null;break e}var F=u.sibling;if(F!==null){F.return=u.return,fe=F;break e}fe=u.return}}if(Ye=i,eo(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot($h,t)}catch{}r=!0}return r}finally{rt=n,Tr.transition=e}}return!1}function aw(t,e,n){e=Qa(n,e),e=JT(t,e,1),t=Fs(t,e,1),e=Cn(),t!==null&&(tc(t,1,e),$n(t,e))}function At(t,e,n){if(t.tag===3)aw(t,t,n);else for(;e!==null;){if(e.tag===3){aw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){t=Qa(n,t),t=eS(e,t,1),e=Fs(e,t,1),t=Cn(),e!==null&&(tc(e,1,t),$n(e,t));break}}e=e.return}}function Bb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,Jt===t&&(an&n)===n&&(Ht===4||Ht===3&&(an&130023424)===an&&500>Nt()-cv?Eo(t,0):uv|=n),$n(t,e)}function wS(t,e){e===0&&(t.mode&1?(e=Yc,Yc<<=1,!(Yc&130023424)&&(Yc=4194304)):e=1);var n=Cn();t=qi(t,e),t!==null&&(tc(t,e,n),$n(t,n))}function Ub(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wS(t,n)}function $b(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),wS(t,n)}var ES;ES=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,Rb(t,e,n);jn=!!(t.flags&131072)}else jn=!1,yt&&e.flags&1048576&&PT(e,eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pd(t,e),t=e.pendingProps;var i=qa(e,_n.current);Fa(e,n),i=rv(null,e,r,t,i,n);var s=iv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(r)?(s=!0,Xd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xg(e),i.updater=Qh,e.stateNode=i,i._reactInternals=e,Sm(e,r,t,n),e=xm(null,e,r,!0,s,n)):(e.tag=0,yt&&s&&Wg(e),xn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wb(r),t=kr(r,t),i){case 0:e=Pm(null,e,r,t,n);break e;case 1:e=Yy(null,e,r,t,n);break e;case 11:e=Zy(null,e,r,t,n);break e;case 14:e=Qy(null,e,r,kr(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Yy(t,e,r,i,n);case 3:e:{if(iS(e),t===null)throw Error(oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kT(t,e),rh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qa(Error(oe(423)),e),e=Xy(t,e,r,n,i);break e}else if(r!==i){i=Qa(Error(oe(424)),e),e=Xy(t,e,r,n,i);break e}else for(nr=Vs(e.stateNode.containerInfo.firstChild),ir=e,yt=!0,Mr=null,n=AT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ga(),r===i){e=Gi(t,e,n);break e}xn(t,e,r,n)}e=e.child}return e;case 5:return LT(e),t===null&&wm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,mm(r,i)?a=null:s!==null&&mm(r,s)&&(e.flags|=32),rS(t,e),xn(t,e,a,n),e.child;case 6:return t===null&&wm(e),null;case 13:return sS(t,e,n);case 4:return Jg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ka(e,null,r,n):xn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Zy(t,e,r,i,n);case 7:return xn(t,e,e.pendingProps,n),e.child;case 8:return xn(t,e,e.pendingProps.children,n),e.child;case 12:return xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ct(th,r._currentValue),r._currentValue=a,s!==null)if(Vr(s.value,a)){if(s.children===i.children&&!Bn.current){e=Gi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ji(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Em(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(oe(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Em(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}xn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fa(e,n),i=Ir(i),r=r(i),e.flags|=1,xn(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),Qy(t,e,r,i,n);case 15:return tS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Pd(t,e),e.tag=1,Un(r)?(t=!0,Xd(e)):t=!1,Fa(e,n),XT(e,r,i),Sm(e,r,i,n),xm(null,e,r,!0,t,n);case 19:return oS(t,e,n);case 22:return nS(t,e,n)}throw Error(oe(156,e.tag))};function TS(t,e){return ZE(t,e)}function Hb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new Hb(t,e,n,r)}function pv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wb(t){if(typeof t=="function")return pv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Og)return 11;if(t===Mg)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")pv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case wa:return To(n.children,i,s,e);case Lg:a=8,i|=8;break;case Gp:return t=Er(12,n,e,i|2),t.elementType=Gp,t.lanes=s,t;case Kp:return t=Er(13,n,e,i),t.elementType=Kp,t.lanes=s,t;case Zp:return t=Er(19,n,e,i),t.elementType=Zp,t.lanes=s,t;case LE:return Jh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RE:a=10;break e;case kE:a=9;break e;case Og:a=11;break e;case Mg:a=14;break e;case Es:a=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Er(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function To(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function Jh(t,e,n,r){return t=Er(22,t,r,e),t.elementType=LE,t.lanes=n,t.stateNode={isHidden:!1},t}function _p(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function yp(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mv(t,e,n,r,i,s,a,u,c){return t=new qb(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Er(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(s),t}function Gb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SS(t){if(!t)return Ks;t=t._reactInternals;e:{if(jo(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Un(n))return ST(t,n,e)}return e}function IS(t,e,n,r,i,s,a,u,c){return t=mv(n,r,!0,t,i,s,a,u,c),t.context=SS(null),n=t.current,r=Cn(),i=js(n),s=ji(r,i),s.callback=e??null,Fs(n,s,i),t.current.lanes=i,tc(t,i,r),$n(t,r),t}function ef(t,e,n,r){var i=e.current,s=Cn(),a=js(i);return n=SS(n),e.context===null?e.context=n:e.pendingContext=n,e=ji(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(i,e,a),t!==null&&(Dr(t,i,a,s),Td(t,i,a)),a}function dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gv(t,e){lw(t,e),(t=t.alternate)&&lw(t,e)}function Kb(){return null}var PS=typeof reportError=="function"?reportError:function(t){console.error(t)};function vv(t){this._internalRoot=t}tf.prototype.render=vv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));ef(t,e,null,null)};tf.prototype.unmount=vv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ao(function(){ef(null,t,null,null)}),e[Wi]=null}};function tf(t){this._internalRoot=t}tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=nT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&iT(t)}};function _v(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uw(){}function Zb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=dh(a);s.call(f)}}var a=IS(e,r,t,0,null,!1,!1,"",uw);return t._reactRootContainer=a,t[Wi]=a.current,Lu(t.nodeType===8?t.parentNode:t),Ao(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=dh(c);u.call(f)}}var c=mv(t,0,!1,null,null,!1,!1,"",uw);return t._reactRootContainer=c,t[Wi]=c.current,Lu(t.nodeType===8?t.parentNode:t),Ao(function(){ef(e,c,n,r)}),c}function rf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=dh(a);u.call(c)}}ef(e,a,t,i)}else a=Zb(n,e,t,i,r);return dh(a)}eT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Vg(e,n|1),$n(e,Nt()),!(Ye&6)&&(Ya=Nt()+500,eo()))}break;case 13:Ao(function(){var r=qi(t,1);if(r!==null){var i=Cn();Dr(r,t,1,i)}}),gv(t,1)}};Fg=function(t){if(t.tag===13){var e=qi(t,134217728);if(e!==null){var n=Cn();Dr(e,t,134217728,n)}gv(t,134217728)}};tT=function(t){if(t.tag===13){var e=js(t),n=qi(t,e);if(n!==null){var r=Cn();Dr(n,t,e,r)}gv(t,e)}};nT=function(){return rt};rT=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};sm=function(t,e,n){switch(e){case"input":if(Xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gh(r);if(!i)throw Error(oe(90));ME(r),Xp(r,i)}}}break;case"textarea":DE(t,n);break;case"select":e=n.value,e!=null&&Ma(t,!!n.multiple,e,!1)}};$E=dv;HE=Ao;var Qb={usingClientEntryPoint:!1,Events:[rc,Ia,Gh,BE,UE,dv]},Wl={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yb={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GE(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||Kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{$h=ld.inject(Yb),oi=ld}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(e))throw Error(oe(200));return Gb(t,e,null,n)};ar.createRoot=function(t,e){if(!_v(t))throw Error(oe(299));var n=!1,r="",i=PS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mv(t,1,!1,null,null,n,!1,r,i),t[Wi]=e.current,Lu(t.nodeType===8?t.parentNode:t),new vv(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=GE(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return Ao(t)};ar.hydrate=function(t,e,n){if(!nf(e))throw Error(oe(200));return rf(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!_v(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=PS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=IS(e,null,t,1,n??null,i,!1,s,a),t[Wi]=e.current,Lu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tf(e)};ar.render=function(t,e,n){if(!nf(e))throw Error(oe(200));return rf(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!nf(t))throw Error(oe(40));return t._reactRootContainer?(Ao(function(){rf(null,null,t,!1,function(){t._reactRootContainer=null,t[Wi]=null})}),!0):!1};ar.unstable_batchedUpdates=dv;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nf(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return rf(t,e,n,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(t){console.error(t)}}xS(),xE.exports=ar;var sf=xE.exports;const CS=Ig(sf),Xb=pE({__proto__:null,default:CS},[sf]);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tt(){return Tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tt.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const cw="popstate";function Jb(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return Bu("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sc(i)}return tA(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eA(){return Math.random().toString(36).substr(2,8)}function dw(t,e){return{usr:t.state,key:t.key,idx:e}}function Bu(t,e,n,r){return n===void 0&&(n=null),Tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?to(e):e,{state:n,key:e&&e.key||r||eA()})}function sc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=zt.Pop,c=null,f=p();f==null&&(f=0,a.replaceState(Tt({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function g(){u=zt.Pop;let V=p(),x=V==null?null:V-f;f=V,c&&c({action:u,location:A.location,delta:x})}function _(V,x){u=zt.Push;let E=Bu(A.location,V,x);f=p()+1;let I=dw(E,f),F=A.createHref(E);try{a.pushState(I,"",F)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(F)}s&&c&&c({action:u,location:A.location,delta:1})}function S(V,x){u=zt.Replace;let E=Bu(A.location,V,x);f=p();let I=dw(E,f),F=A.createHref(E);a.replaceState(I,"",F),s&&c&&c({action:u,location:A.location,delta:0})}function b(V){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof V=="string"?V:sc(V);return E=E.replace(/ $/,"%20"),We(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let A={get action(){return u},get location(){return t(i,a)},listen(V){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(cw,g),c=V,()=>{i.removeEventListener(cw,g),c=null}},createHref(V){return e(i,V)},createURL:b,encodeLocation(V){let x=b(V);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:S,go(V){return a.go(V)}};return A}var lt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lt||(lt={}));const nA=new Set(["lazy","caseSensitive","path","id","index","children"]);function rA(t){return t.index===!0}function Uu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,String(s)],u=typeof i.id=="string"?i.id:a.join("-");if(We(i.index!==!0||!i.children,"Cannot specify children on an index route"),We(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),rA(i)){let c=Tt({},i,e(i),{id:u});return r[u]=c,c}else{let c=Tt({},i,e(i),{id:u,children:void 0});return r[u]=c,i.children&&(c.children=Uu(i.children,e,a,r)),c}})}function po(t,e,n){return n===void 0&&(n="/"),Ad(t,e,n,!1)}function Ad(t,e,n,r){let i=typeof e=="string"?to(e):e,s=oc(i.pathname||"/",n);if(s==null)return null;let a=bS(t);sA(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=gA(s);u=pA(a[c],f,r)}return u}function iA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function bS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Us([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(We(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),bS(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:hA(f,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of AS(s.path))i(s,a,c)}),e}function AS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=AS(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function sA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oA=/^:[\w-]+$/,aA=3,lA=2,uA=1,cA=10,dA=-2,hw=t=>t==="*";function hA(t,e){let n=t.split("/"),r=n.length;return n.some(hw)&&(r+=dA),e&&(r+=lA),n.filter(i=>!hw(i)).reduce((i,s)=>i+(oA.test(s)?aA:s===""?uA:cA),r)}function fA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pA(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=fw({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),_=c.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=fw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Us([s,g.pathname]),pathnameBase:yA(Us([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Us([s,g.pathnameBase]))}return a}function fw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,p,g)=>{let{paramName:_,isOptional:S}=p;if(_==="*"){let A=u[g]||"";a=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const b=u[g];return S&&!b?f[_]=void 0:f[_]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function mA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:_A(n,e):e,search:wA(r),hash:EA(i)}}function _A(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kS(t,e){let n=RS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function LS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=to(t):(i=Tt({},t),We(!i.pathname||!i.pathname.includes("?"),wp("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),wp("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),wp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let c=vA(i,u),f=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const Us=t=>t.join("/").replace(/\/\/+/g,"/"),yA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class hh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function of(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OS=["post","put","patch","delete"],TA=new Set(OS),SA=["get",...OS],IA=new Set(SA),PA=new Set([301,302,303,307,308]),xA=new Set([307,308]),Ep={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},CA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ql={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),MS="remix-router-transitions";function AA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;i=W=>({hasErrorBoundary:z(W)})}else i=bA;let s={},a=Uu(t.routes,i,void 0,s),u,c=t.basename||"/",f=t.unstable_dataStrategy||NA,p=t.unstable_patchRoutesOnNavigation,g=Tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),_=null,S=new Set,b=1e3,A=new Set,V=null,x=null,E=null,I=t.hydrationData!=null,F=po(a,t.history.location,c),U=null;if(F==null&&!p){let z=Pn(404,{pathname:t.history.location.pathname}),{matches:W,route:Z}=Tw(a);F=W,U={[Z.id]:z}}F&&!t.hydrationData&&Ct(F,a,t.history.location.pathname).active&&(F=null);let H;if(F)if(F.some(z=>z.route.lazy))H=!1;else if(!F.some(z=>z.route.loader))H=!0;else if(g.v7_partialHydration){let z=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null,Z=ee=>ee.route.loader?typeof ee.route.loader=="function"&&ee.route.loader.hydrate===!0?!1:z&&z[ee.route.id]!==void 0||W&&W[ee.route.id]!==void 0:!0;if(W){let ee=F.findIndex(ce=>W[ce.route.id]!==void 0);H=F.slice(0,ee+1).every(Z)}else H=F.every(Z)}else H=t.hydrationData!=null;else if(H=!1,F=[],g.v7_partialHydration){let z=Ct(null,a,t.history.location.pathname);z.active&&z.matches&&(F=z.matches)}let O,w={historyAction:t.history.action,location:t.history.location,matches:F,initialized:H,navigation:Ep,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||U,fetchers:new Map,blockers:new Map},C=zt.Pop,k=!1,D,j=!1,M=new Map,re=null,he=!1,Se=!1,Fe=[],K=new Set,ie=new Map,J=0,ye=-1,me=new Map,Pe=new Set,Me=new Map,Ce=new Map,Te=new Set,Xe=new Map,Ut=new Map,Ur=new Map,wn;function cr(){if(_=t.history.listen(z=>{let{action:W,location:Z,delta:ee}=z;if(wn){wn(),wn=void 0;return}Xa(Ut.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=_i({currentLocation:w.location,nextLocation:Z,historyAction:W});if(ce&&ee!=null){let we=new Promise(xe=>{wn=xe});t.history.go(ee*-1),Kn(ce,{state:"blocked",location:Z,proceed(){Kn(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),we.then(()=>t.history.go(ee))},reset(){let xe=new Map(w.blockers);xe.set(ce,ql),kt({blockers:xe})}});return}return Rn(W,Z)}),n){QA(e,M);let z=()=>YA(e,M);e.addEventListener("pagehide",z),re=()=>e.removeEventListener("pagehide",z)}return w.initialized||Rn(zt.Pop,w.location,{initialHydration:!0}),O}function xr(){_&&_(),re&&re(),S.clear(),D&&D.abort(),w.fetchers.forEach((z,W)=>Wr(W)),w.blockers.forEach((z,W)=>as(W))}function gi(z){return S.add(z),()=>S.delete(z)}function kt(z,W){W===void 0&&(W={}),w=Tt({},w,z);let Z=[],ee=[];g.v7_fetcherPersist&&w.fetchers.forEach((ce,we)=>{ce.state==="idle"&&(Te.has(we)?ee.push(we):Z.push(we))}),[...S].forEach(ce=>ce(w,{deletedFetchers:ee,unstable_viewTransitionOpts:W.viewTransitionOpts,unstable_flushSync:W.flushSync===!0})),g.v7_fetcherPersist&&(Z.forEach(ce=>w.fetchers.delete(ce)),ee.forEach(ce=>Wr(ce)))}function Gn(z,W,Z){var ee,ce;let{flushSync:we}=Z===void 0?{}:Z,xe=w.actionData!=null&&w.navigation.formMethod!=null&&Or(w.navigation.formMethod)&&w.navigation.state==="loading"&&((ee=z.state)==null?void 0:ee._isRedirect)!==!0,ae;W.actionData?Object.keys(W.actionData).length>0?ae=W.actionData:ae=null:xe?ae=w.actionData:ae=null;let ve=W.loaderData?ww(w.loaderData,W.loaderData,W.matches||[],W.errors):w.loaderData,ge=w.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((Ge,tt)=>ge.set(tt,ql)));let _e=k===!0||w.navigation.formMethod!=null&&Or(w.navigation.formMethod)&&((ce=z.state)==null?void 0:ce._isRedirect)!==!0;u&&(a=u,u=void 0),he||C===zt.Pop||(C===zt.Push?t.history.push(z,z.state):C===zt.Replace&&t.history.replace(z,z.state));let Ue;if(C===zt.Pop){let Ge=M.get(w.location.pathname);Ge&&Ge.has(z.pathname)?Ue={currentLocation:w.location,nextLocation:z}:M.has(z.pathname)&&(Ue={currentLocation:z,nextLocation:w.location})}else if(j){let Ge=M.get(w.location.pathname);Ge?Ge.add(z.pathname):(Ge=new Set([z.pathname]),M.set(w.location.pathname,Ge)),Ue={currentLocation:w.location,nextLocation:z}}kt(Tt({},W,{actionData:ae,loaderData:ve,historyAction:C,location:z,initialized:!0,navigation:Ep,revalidation:"idle",restoreScrollPosition:Ei(z,W.matches||w.matches),preventScrollReset:_e,blockers:ge}),{viewTransitionOpts:Ue,flushSync:we===!0}),C=zt.Pop,k=!1,j=!1,he=!1,Se=!1,Fe=[]}async function ts(z,W){if(typeof z=="number"){t.history.go(z);return}let Z=Fm(w.location,w.matches,c,g.v7_prependBasename,z,g.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ee,submission:ce,error:we}=pw(g.v7_normalizeFormMethod,!1,Z,W),xe=w.location,ae=Bu(w.location,ee,W&&W.state);ae=Tt({},ae,t.history.encodeLocation(ae));let ve=W&&W.replace!=null?W.replace:void 0,ge=zt.Push;ve===!0?ge=zt.Replace:ve===!1||ce!=null&&Or(ce.formMethod)&&ce.formAction===w.location.pathname+w.location.search&&(ge=zt.Replace);let _e=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ue=(W&&W.unstable_flushSync)===!0,Ge=_i({currentLocation:xe,nextLocation:ae,historyAction:ge});if(Ge){Kn(Ge,{state:"blocked",location:ae,proceed(){Kn(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),ts(z,W)},reset(){let tt=new Map(w.blockers);tt.set(Ge,ql),kt({blockers:tt})}});return}return await Rn(ge,ae,{submission:ce,pendingError:we,preventScrollReset:_e,replace:W&&W.replace,enableViewTransition:W&&W.unstable_viewTransition,flushSync:Ue})}function so(){if(is(),kt({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Rn(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Rn(C||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:j===!0})}}async function Rn(z,W,Z){D&&D.abort(),D=null,C=z,he=(Z&&Z.startUninterruptedRevalidation)===!0,wi(w.location,w.matches),k=(Z&&Z.preventScrollReset)===!0,j=(Z&&Z.enableViewTransition)===!0;let ee=u||a,ce=Z&&Z.overrideNavigation,we=po(ee,W,c),xe=(Z&&Z.flushSync)===!0,ae=Ct(we,ee,W.pathname);if(ae.active&&ae.matches&&(we=ae.matches),!we){let{error:je,notFoundMatches:dt,route:ut}=yi(W.pathname);Gn(W,{matches:dt,loaderData:{},errors:{[ut.id]:je}},{flushSync:xe});return}if(w.initialized&&!Se&&BA(w.location,W)&&!(Z&&Z.submission&&Or(Z.submission.formMethod))){Gn(W,{matches:we},{flushSync:xe});return}D=new AbortController;let ve=ma(t.history,W,D.signal,Z&&Z.submission),ge;if(Z&&Z.pendingError)ge=[ka(we).route.id,{type:lt.error,error:Z.pendingError}];else if(Z&&Z.submission&&Or(Z.submission.formMethod)){let je=await qo(ve,W,Z.submission,we,ae.active,{replace:Z.replace,flushSync:xe});if(je.shortCircuited)return;if(je.pendingActionResult){let[dt,ut]=je.pendingActionResult;if(er(ut)&&of(ut.error)&&ut.error.status===404){D=null,Gn(W,{matches:je.matches,loaderData:{},errors:{[dt]:ut.error}});return}}we=je.matches||we,ge=je.pendingActionResult,ce=Tp(W,Z.submission),xe=!1,ae.active=!1,ve=ma(t.history,ve.url,ve.signal)}let{shortCircuited:_e,matches:Ue,loaderData:Ge,errors:tt}=await ns(ve,W,we,ae.active,ce,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,xe,ge);_e||(D=null,Gn(W,Tt({matches:Ue||we},Ew(ge),{loaderData:Ge,errors:tt})))}async function qo(z,W,Z,ee,ce,we){we===void 0&&(we={}),is();let xe=KA(W,Z);if(kt({navigation:xe},{flushSync:we.flushSync===!0}),ce){let ge=await Ti(ee,W.pathname,z.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let{boundaryId:_e,error:Ue}=On(W.pathname,ge);return{matches:ge.partialMatches,pendingActionResult:[_e,{type:lt.error,error:Ue}]}}else if(ge.matches)ee=ge.matches;else{let{notFoundMatches:_e,error:Ue,route:Ge}=yi(W.pathname);return{matches:_e,pendingActionResult:[Ge.id,{type:lt.error,error:Ue}]}}}let ae,ve=nu(ee,W);if(!ve.route.action&&!ve.route.lazy)ae={type:lt.error,error:Pn(405,{method:z.method,pathname:W.pathname,routeId:ve.route.id})};else if(ae=(await mt("action",w,z,[ve],ee,null))[ve.route.id],z.signal.aborted)return{shortCircuited:!0};if(_o(ae)){let ge;return we&&we.replace!=null?ge=we.replace:ge=vw(ae.response.headers.get("Location"),new URL(z.url),c)===w.location.pathname+w.location.search,await st(z,ae,!0,{submission:Z,replace:ge}),{shortCircuited:!0}}if(ks(ae))throw Pn(400,{type:"defer-action"});if(er(ae)){let ge=ka(ee,ve.route.id);return(we&&we.replace)!==!0&&(C=zt.Push),{matches:ee,pendingActionResult:[ge.route.id,ae]}}return{matches:ee,pendingActionResult:[ve.route.id,ae]}}async function ns(z,W,Z,ee,ce,we,xe,ae,ve,ge,_e){let Ue=ce||Tp(W,we),Ge=we||xe||Iw(Ue),tt=!he&&(!g.v7_partialHydration||!ve);if(ee){if(tt){let be=vi(_e);kt(Tt({navigation:Ue},be!==void 0?{actionData:be}:{}),{flushSync:ge})}let ue=await Ti(Z,W.pathname,z.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let{boundaryId:be,error:Lt}=On(W.pathname,ue);return{matches:ue.partialMatches,loaderData:{},errors:{[be]:Lt}}}else if(ue.matches)Z=ue.matches;else{let{error:be,notFoundMatches:Lt,route:Je}=yi(W.pathname);return{matches:Lt,loaderData:{},errors:{[Je.id]:be}}}}let je=u||a,[dt,ut]=mw(t.history,w,Z,Ge,W,g.v7_partialHydration&&ve===!0,g.v7_skipActionErrorRevalidation,Se,Fe,K,Te,Me,Pe,je,c,_e);if(ls(ue=>!(Z&&Z.some(be=>be.route.id===ue))||dt&&dt.some(be=>be.route.id===ue)),ye=++J,dt.length===0&&ut.length===0){let ue=qr();return Gn(W,Tt({matches:Z,loaderData:{},errors:_e&&er(_e[1])?{[_e[0]]:_e[1].error}:null},Ew(_e),ue?{fetchers:new Map(w.fetchers)}:{}),{flushSync:ge}),{shortCircuited:!0}}if(tt){let ue={};if(!ee){ue.navigation=Ue;let be=vi(_e);be!==void 0&&(ue.actionData=be)}ut.length>0&&(ue.fetchers=Go(ut)),kt(ue,{flushSync:ge})}ut.forEach(ue=>{ie.has(ue.key)&&En(ue.key),ue.controller&&ie.set(ue.key,ue.controller)});let Kr=()=>ut.forEach(ue=>En(ue.key));D&&D.signal.addEventListener("abort",Kr);let{loaderResults:Tn,fetcherResults:Nn}=await $r(w,Z,dt,ut,z);if(z.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Kr),ut.forEach(ue=>ie.delete(ue.key));let Gt=ud(Tn);if(Gt)return await st(z,Gt.result,!0,{replace:ae}),{shortCircuited:!0};if(Gt=ud(Nn),Gt)return Pe.add(Gt.key),await st(z,Gt.result,!0,{replace:ae}),{shortCircuited:!0};let{loaderData:dr,errors:tn}=yw(w,Z,dt,Tn,_e,ut,Nn,Xe);Xe.forEach((ue,be)=>{ue.subscribe(Lt=>{(Lt||ue.done)&&Xe.delete(be)})}),g.v7_partialHydration&&ve&&w.errors&&Object.entries(w.errors).filter(ue=>{let[be]=ue;return!dt.some(Lt=>Lt.route.id===be)}).forEach(ue=>{let[be,Lt]=ue;tn=Object.assign(tn||{},{[be]:Lt})});let Zr=qr(),Qr=os(ye),Zn=Zr||Qr||ut.length>0;return Tt({matches:Z,loaderData:dr,errors:tn},Zn?{fetchers:new Map(w.fetchers)}:{})}function vi(z){if(z&&!er(z[1]))return{[z[0]]:z[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Go(z){return z.forEach(W=>{let Z=w.fetchers.get(W.key),ee=Gl(void 0,Z?Z.data:void 0);w.fetchers.set(W.key,ee)}),new Map(w.fetchers)}function rs(z,W,Z,ee){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has(z)&&En(z);let ce=(ee&&ee.unstable_flushSync)===!0,we=u||a,xe=Fm(w.location,w.matches,c,g.v7_prependBasename,Z,g.v7_relativeSplatPath,W,ee==null?void 0:ee.relative),ae=po(we,xe,c),ve=Ct(ae,we,xe);if(ve.active&&ve.matches&&(ae=ve.matches),!ae){Ln(z,W,Pn(404,{pathname:xe}),{flushSync:ce});return}let{path:ge,submission:_e,error:Ue}=pw(g.v7_normalizeFormMethod,!0,xe,ee);if(Ue){Ln(z,W,Ue,{flushSync:ce});return}let Ge=nu(ae,ge);if(k=(ee&&ee.preventScrollReset)===!0,_e&&Or(_e.formMethod)){oo(z,W,ge,Ge,ae,ve.active,ce,_e);return}Me.set(z,{routeId:W,path:ge}),Ko(z,W,ge,Ge,ae,ve.active,ce,_e)}async function oo(z,W,Z,ee,ce,we,xe,ae){is(),Me.delete(z);function ve(Je){if(!Je.route.action&&!Je.route.lazy){let Kt=Pn(405,{method:ae.formMethod,pathname:Z,routeId:W});return Ln(z,W,Kt,{flushSync:xe}),!0}return!1}if(!we&&ve(ee))return;let ge=w.fetchers.get(z);kn(z,ZA(ae,ge),{flushSync:xe});let _e=new AbortController,Ue=ma(t.history,Z,_e.signal,ae);if(we){let Je=await Ti(ce,Z,Ue.signal);if(Je.type==="aborted")return;if(Je.type==="error"){let{error:Kt}=On(Z,Je);Ln(z,W,Kt,{flushSync:xe});return}else if(Je.matches){if(ce=Je.matches,ee=nu(ce,Z),ve(ee))return}else{Ln(z,W,Pn(404,{pathname:Z}),{flushSync:xe});return}}ie.set(z,_e);let Ge=J,je=(await mt("action",w,Ue,[ee],ce,z))[ee.route.id];if(Ue.signal.aborted){ie.get(z)===_e&&ie.delete(z);return}if(g.v7_fetcherPersist&&Te.has(z)){if(_o(je)||er(je)){kn(z,ws(void 0));return}}else{if(_o(je))if(ie.delete(z),ye>Ge){kn(z,ws(void 0));return}else return Pe.add(z),kn(z,Gl(ae)),st(Ue,je,!1,{fetcherSubmission:ae});if(er(je)){Ln(z,W,je.error);return}}if(ks(je))throw Pn(400,{type:"defer-action"});let dt=w.navigation.location||w.location,ut=ma(t.history,dt,_e.signal),Kr=u||a,Tn=w.navigation.state!=="idle"?po(Kr,w.navigation.location,c):w.matches;We(Tn,"Didn't find any matches after fetcher action");let Nn=++J;me.set(z,Nn);let Gt=Gl(ae,je.data);w.fetchers.set(z,Gt);let[dr,tn]=mw(t.history,w,Tn,ae,dt,!1,g.v7_skipActionErrorRevalidation,Se,Fe,K,Te,Me,Pe,Kr,c,[ee.route.id,je]);tn.filter(Je=>Je.key!==z).forEach(Je=>{let Kt=Je.key,cs=w.fetchers.get(Kt),Ne=Gl(void 0,cs?cs.data:void 0);w.fetchers.set(Kt,Ne),ie.has(Kt)&&En(Kt),Je.controller&&ie.set(Kt,Je.controller)}),kt({fetchers:new Map(w.fetchers)});let Zr=()=>tn.forEach(Je=>En(Je.key));_e.signal.addEventListener("abort",Zr);let{loaderResults:Qr,fetcherResults:Zn}=await $r(w,Tn,dr,tn,ut);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",Zr),me.delete(z),ie.delete(z),tn.forEach(Je=>ie.delete(Je.key));let ue=ud(Qr);if(ue)return st(ut,ue.result,!1);if(ue=ud(Zn),ue)return Pe.add(ue.key),st(ut,ue.result,!1);let{loaderData:be,errors:Lt}=yw(w,Tn,dr,Qr,void 0,tn,Zn,Xe);if(w.fetchers.has(z)){let Je=ws(je.data);w.fetchers.set(z,Je)}os(Nn),w.navigation.state==="loading"&&Nn>ye?(We(C,"Expected pending action"),D&&D.abort(),Gn(w.navigation.location,{matches:Tn,loaderData:be,errors:Lt,fetchers:new Map(w.fetchers)})):(kt({errors:Lt,loaderData:ww(w.loaderData,be,Tn,Lt),fetchers:new Map(w.fetchers)}),Se=!1)}async function Ko(z,W,Z,ee,ce,we,xe,ae){let ve=w.fetchers.get(z);kn(z,Gl(ae,ve?ve.data:void 0),{flushSync:xe});let ge=new AbortController,_e=ma(t.history,Z,ge.signal);if(we){let je=await Ti(ce,Z,_e.signal);if(je.type==="aborted")return;if(je.type==="error"){let{error:dt}=On(Z,je);Ln(z,W,dt,{flushSync:xe});return}else if(je.matches)ce=je.matches,ee=nu(ce,Z);else{Ln(z,W,Pn(404,{pathname:Z}),{flushSync:xe});return}}ie.set(z,ge);let Ue=J,tt=(await mt("loader",w,_e,[ee],ce,z))[ee.route.id];if(ks(tt)&&(tt=await wv(tt,_e.signal,!0)||tt),ie.get(z)===ge&&ie.delete(z),!_e.signal.aborted){if(Te.has(z)){kn(z,ws(void 0));return}if(_o(tt))if(ye>Ue){kn(z,ws(void 0));return}else{Pe.add(z),await st(_e,tt,!1);return}if(er(tt)){Ln(z,W,tt.error);return}We(!ks(tt),"Unhandled fetcher deferred data"),kn(z,ws(tt.data))}}async function st(z,W,Z,ee){let{submission:ce,fetcherSubmission:we,replace:xe}=ee===void 0?{}:ee;W.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let ae=W.response.headers.get("Location");We(ae,"Expected a Location header on the redirect Response"),ae=vw(ae,new URL(z.url),c);let ve=Bu(w.location,ae,{_isRedirect:!0});if(n){let je=!1;if(W.response.headers.has("X-Remix-Reload-Document"))je=!0;else if(yv.test(ae)){const dt=t.history.createURL(ae);je=dt.origin!==e.location.origin||oc(dt.pathname,c)==null}if(je){xe?e.location.replace(ae):e.location.assign(ae);return}}D=null;let ge=xe===!0||W.response.headers.has("X-Remix-Replace")?zt.Replace:zt.Push,{formMethod:_e,formAction:Ue,formEncType:Ge}=w.navigation;!ce&&!we&&_e&&Ue&&Ge&&(ce=Iw(w.navigation));let tt=ce||we;if(xA.has(W.response.status)&&tt&&Or(tt.formMethod))await Rn(ge,ve,{submission:Tt({},tt,{formAction:ae}),preventScrollReset:k,enableViewTransition:Z?j:void 0});else{let je=Tp(ve,ce);await Rn(ge,ve,{overrideNavigation:je,fetcherSubmission:we,preventScrollReset:k,enableViewTransition:Z?j:void 0})}}async function mt(z,W,Z,ee,ce,we){let xe,ae={};try{xe=await DA(f,z,W,Z,ee,ce,we,s,i)}catch(ve){return ee.forEach(ge=>{ae[ge.route.id]={type:lt.error,error:ve}}),ae}for(let[ve,ge]of Object.entries(xe))if($A(ge)){let _e=ge.result;ae[ve]={type:lt.redirect,response:zA(_e,Z,ve,ce,c,g.v7_relativeSplatPath)}}else ae[ve]=await FA(ge);return ae}async function $r(z,W,Z,ee,ce){let we=z.matches,xe=mt("loader",z,ce,Z,W,null),ae=Promise.all(ee.map(async _e=>{if(_e.matches&&_e.match&&_e.controller){let Ge=(await mt("loader",z,ma(t.history,_e.path,_e.controller.signal),[_e.match],_e.matches,_e.key))[_e.match.route.id];return{[_e.key]:Ge}}else return Promise.resolve({[_e.key]:{type:lt.error,error:Pn(404,{pathname:_e.path})}})})),ve=await xe,ge=(await ae).reduce((_e,Ue)=>Object.assign(_e,Ue),{});return await Promise.all([qA(W,ve,ce.signal,we,z.loaderData),GA(W,ge,ee)]),{loaderResults:ve,fetcherResults:ge}}function is(){Se=!0,Fe.push(...ls()),Me.forEach((z,W)=>{ie.has(W)&&(K.add(W),En(W))})}function kn(z,W,Z){Z===void 0&&(Z={}),w.fetchers.set(z,W),kt({fetchers:new Map(w.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Ln(z,W,Z,ee){ee===void 0&&(ee={});let ce=ka(w.matches,W);Wr(z),kt({errors:{[ce.route.id]:Z},fetchers:new Map(w.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Hr(z){return g.v7_fetcherPersist&&(Ce.set(z,(Ce.get(z)||0)+1),Te.has(z)&&Te.delete(z)),w.fetchers.get(z)||CA}function Wr(z){let W=w.fetchers.get(z);ie.has(z)&&!(W&&W.state==="loading"&&me.has(z))&&En(z),Me.delete(z),me.delete(z),Pe.delete(z),Te.delete(z),K.delete(z),w.fetchers.delete(z)}function ss(z){if(g.v7_fetcherPersist){let W=(Ce.get(z)||0)-1;W<=0?(Ce.delete(z),Te.add(z)):Ce.set(z,W)}else Wr(z);kt({fetchers:new Map(w.fetchers)})}function En(z){let W=ie.get(z);We(W,"Expected fetch controller: "+z),W.abort(),ie.delete(z)}function Zo(z){for(let W of z){let Z=Hr(W),ee=ws(Z.data);w.fetchers.set(W,ee)}}function qr(){let z=[],W=!1;for(let Z of Pe){let ee=w.fetchers.get(Z);We(ee,"Expected fetcher: "+Z),ee.state==="loading"&&(Pe.delete(Z),z.push(Z),W=!0)}return Zo(z),W}function os(z){let W=[];for(let[Z,ee]of me)if(ee<z){let ce=w.fetchers.get(Z);We(ce,"Expected fetcher: "+Z),ce.state==="loading"&&(En(Z),me.delete(Z),W.push(Z))}return Zo(W),W.length>0}function Qo(z,W){let Z=w.blockers.get(z)||ql;return Ut.get(z)!==W&&Ut.set(z,W),Z}function as(z){w.blockers.delete(z),Ut.delete(z)}function Kn(z,W){let Z=w.blockers.get(z)||ql;We(Z.state==="unblocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="proceeding"||Z.state==="blocked"&&W.state==="unblocked"||Z.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+W.state);let ee=new Map(w.blockers);ee.set(z,W),kt({blockers:ee})}function _i(z){let{currentLocation:W,nextLocation:Z,historyAction:ee}=z;if(Ut.size===0)return;Ut.size>1&&Xa(!1,"A router only supports one blocker at a time");let ce=Array.from(Ut.entries()),[we,xe]=ce[ce.length-1],ae=w.blockers.get(we);if(!(ae&&ae.state==="proceeding")&&xe({currentLocation:W,nextLocation:Z,historyAction:ee}))return we}function yi(z){let W=Pn(404,{pathname:z}),Z=u||a,{matches:ee,route:ce}=Tw(Z);return ls(),{notFoundMatches:ee,route:ce,error:W}}function On(z,W){return{boundaryId:ka(W.partialMatches).route.id,error:Pn(400,{type:"route-discovery",pathname:z,message:W.error!=null&&"message"in W.error?W.error:String(W.error)})}}function ls(z){let W=[];return Xe.forEach((Z,ee)=>{(!z||z(ee))&&(Z.cancel(),W.push(ee),Xe.delete(ee))}),W}function us(z,W,Z){if(V=z,E=W,x=Z||null,!I&&w.navigation===Ep){I=!0;let ee=Ei(w.location,w.matches);ee!=null&&kt({restoreScrollPosition:ee})}return()=>{V=null,E=null,x=null}}function ao(z,W){return x&&x(z,W.map(ee=>iA(ee,w.loaderData)))||z.key}function wi(z,W){if(V&&E){let Z=ao(z,W);V[Z]=E()}}function Ei(z,W){if(V){let Z=ao(z,W),ee=V[Z];if(typeof ee=="number")return ee}return null}function Ct(z,W,Z){if(p){if(A.has(Z))return{active:!1,matches:z};if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:Ad(W,Z,c,!0)}}else return{active:!0,matches:Ad(W,Z,c,!0)||[]}}return{active:!1,matches:null}}async function Ti(z,W,Z){let ee=z;for(;;){let ce=u==null,we=u||a;try{await OA(p,W,ee,we,s,i,Ur,Z)}catch(ve){return{type:"error",error:ve,partialMatches:ee}}finally{ce&&(a=[...a])}if(Z.aborted)return{type:"aborted"};let xe=po(we,W,c);if(xe)return Gr(W,A),{type:"success",matches:xe};let ae=Ad(we,W,c,!0);if(!ae||ee.length===ae.length&&ee.every((ve,ge)=>ve.route.id===ae[ge].route.id))return Gr(W,A),{type:"success",matches:null};ee=ae}}function Gr(z,W){if(W.size>=b){let Z=W.values().next().value;W.delete(Z)}W.add(z)}function Si(z){s={},u=Uu(z,i,void 0,s)}function Mn(z,W){let Z=u==null;DS(z,W,u||a,s,i),Z&&(a=[...a],kt({}))}return O={get basename(){return c},get future(){return g},get state(){return w},get routes(){return a},get window(){return e},initialize:cr,subscribe:gi,enableScrollRestoration:us,navigate:ts,fetch:rs,revalidate:so,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:Hr,deleteFetcher:ss,dispose:xr,getBlocker:Qo,deleteBlocker:as,patchRoutes:Mn,_internalFetchControllers:ie,_internalActiveDeferreds:Xe,_internalSetRoutes:Si},O}function RA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Fm(t,e,n,r,i,s,a,u){let c,f;if(a){c=[];for(let g of e)if(c.push(g),g.route.id===a){f=g;break}}else c=e,f=e[e.length-1];let p=LS(i||".",kS(c,s),oc(t.pathname,n)||t.pathname,u==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&f&&f.route.index&&!Ev(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Us([n,p.pathname])),sc(p)}function pw(t,e,n,r){if(!r||!RA(r))return{path:n};if(r.formMethod&&!WA(r.formMethod))return{path:n,error:Pn(405,{method:r.formMethod})};let i=()=>({path:n,error:Pn(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),u=VS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Or(a))return i();let _=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((S,b)=>{let[A,V]=b;return""+S+A+"="+V+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:_}}}else if(r.formEncType==="application/json"){if(!Or(a))return i();try{let _=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:u,formEncType:r.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}We(typeof FormData=="function","FormData is not available in this environment");let c,f;if(r.formData)c=zm(r.formData),f=r.formData;else if(r.body instanceof FormData)c=zm(r.body),f=r.body;else if(r.body instanceof URLSearchParams)c=r.body,f=_w(c);else if(r.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(r.body),f=_w(c)}catch{return i()}let p={formMethod:a,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Or(p.formMethod))return{path:n,submission:p};let g=to(n);return e&&g.search&&Ev(g.search)&&c.append("index",""),g.search="?"+c,{path:sc(g),submission:p}}function kA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function mw(t,e,n,r,i,s,a,u,c,f,p,g,_,S,b,A){let V=A?er(A[1])?A[1].error:A[1].data:void 0,x=t.createURL(e.location),E=t.createURL(i),I=A&&er(A[1])?A[0]:void 0,F=I?kA(n,I):n,U=A?A[1].statusCode:void 0,H=a&&U&&U>=400,O=F.filter((C,k)=>{let{route:D}=C;if(D.lazy)return!0;if(D.loader==null)return!1;if(s)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(LA(e.loaderData,e.matches[k],C)||c.some(re=>re===C.route.id))return!0;let j=e.matches[k],M=C;return gw(C,Tt({currentUrl:x,currentParams:j.params,nextUrl:E,nextParams:M.params},r,{actionResult:V,actionStatus:U,defaultShouldRevalidate:H?!1:u||x.pathname+x.search===E.pathname+E.search||x.search!==E.search||NS(j,M)}))}),w=[];return g.forEach((C,k)=>{if(s||!n.some(he=>he.route.id===C.routeId)||p.has(k))return;let D=po(S,C.path,b);if(!D){w.push({key:k,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(k),M=nu(D,C.path),re=!1;_.has(k)?re=!1:f.has(k)?(f.delete(k),re=!0):j&&j.state!=="idle"&&j.data===void 0?re=u:re=gw(M,Tt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:V,actionStatus:U,defaultShouldRevalidate:H?!1:u})),re&&w.push({key:k,routeId:C.routeId,path:C.path,matches:D,match:M,controller:new AbortController})}),[O,w]}function LA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function NS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function gw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function OA(t,e,n,r,i,s,a,u){let c=[e,...n.map(f=>f.route.id)].join("-");try{let f=a.get(c);f||(f=t({path:e,matches:n,patch:(p,g)=>{u.aborted||DS(p,g,r,i,s)}}),a.set(c,f)),f&&UA(f)&&await f}finally{a.delete(c)}}function DS(t,e,n,r,i){if(t){var s;let a=r[t];We(a,"No route found to patch children into: routeId = "+t);let u=Uu(e,i,[t,"patch",String(((s=a.children)==null?void 0:s.length)||"0")],r);a.children?a.children.push(...u):a.children=u}else{let a=Uu(e,i,["patch",String(n.length||"0")],r);n.push(...a)}}async function MA(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];We(i,"No route found in manifest");let s={};for(let a in r){let c=i[a]!==void 0&&a!=="hasErrorBoundary";Xa(!c,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!nA.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,Tt({},e(i),{lazy:void 0}))}async function NA(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[n[a].route.id]:s}),{})}async function DA(t,e,n,r,i,s,a,u,c,f){let p=s.map(S=>S.route.lazy?MA(S.route,c,u):void 0),g=s.map((S,b)=>{let A=p[b],V=i.some(E=>E.route.id===S.route.id);return Tt({},S,{shouldLoad:V,resolve:async E=>(E&&r.method==="GET"&&(S.route.lazy||S.route.loader)&&(V=!0),V?VA(e,r,S,A,E,f):Promise.resolve({type:lt.data,result:void 0}))})}),_=await t({matches:g,request:r,params:s[0].params,fetcherKey:a,context:f});try{await Promise.all(p)}catch{}return _}async function VA(t,e,n,r,i,s){let a,u,c=f=>{let p,g=new Promise((b,A)=>p=A);u=()=>p(),e.signal.addEventListener("abort",u);let _=b=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:s},...b!==void 0?[b]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(A=>_(A)):_())}}catch(b){return{type:"error",result:b}}})();return Promise.race([S,g])};try{let f=n.route[t];if(r)if(f){let p,[g]=await Promise.all([c(f).catch(_=>{p=_}),r]);if(p!==void 0)throw p;a=g}else if(await r,f=n.route[t],f)a=await c(f);else if(t==="action"){let p=new URL(e.url),g=p.pathname+p.search;throw Pn(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:lt.data,result:void 0};else if(f)a=await c(f);else{let p=new URL(e.url),g=p.pathname+p.search;throw Pn(404,{pathname:g})}We(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:lt.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function FA(t){let{result:e,type:n}=t;if(FS(e)){let f;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(p){return{type:lt.error,error:p}}return n===lt.error?{type:lt.error,error:new hh(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:lt.data,data:f,statusCode:e.status,headers:e.headers}}if(n===lt.error){if(Sw(e)){var r;if(e.data instanceof Error){var i;return{type:lt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new hh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:lt.error,error:e,statusCode:of(e)?e.status:void 0}}if(HA(e)){var s,a;return{type:lt.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(Sw(e)){var u,c;return{type:lt.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:lt.data,data:e}}function zA(t,e,n,r,i,s){let a=t.headers.get("Location");if(We(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!yv.test(a)){let u=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=Fm(new URL(e.url),u,i,!0,a,s),t.headers.set("Location",a)}return t}function vw(t,e,n){if(yv.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=oc(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function ma(t,e,n,r){let i=t.createURL(VS(e)).toString(),s={signal:n};if(r&&Or(r.formMethod)){let{formMethod:a,formEncType:u}=r;s.method=a.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=zm(r.formData):s.body=r.formData}return new Request(i,s)}function zm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function _w(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function jA(t,e,n,r,i){let s={},a=null,u,c=!1,f={},p=n&&er(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let _=g.route.id,S=e[_];if(We(!_o(S),"Cannot handle redirect results in processLoaderData"),er(S)){let b=S.error;p!==void 0&&(b=p,p=void 0),a=a||{};{let A=ka(t,_);a[A.route.id]==null&&(a[A.route.id]=b)}s[_]=void 0,c||(c=!0,u=of(S.error)?S.error.status:500),S.headers&&(f[_]=S.headers)}else ks(S)?(r.set(_,S.deferredData),s[_]=S.deferredData.data,S.statusCode!=null&&S.statusCode!==200&&!c&&(u=S.statusCode),S.headers&&(f[_]=S.headers)):(s[_]=S.data,S.statusCode&&S.statusCode!==200&&!c&&(u=S.statusCode),S.headers&&(f[_]=S.headers))}),p!==void 0&&n&&(a={[n[0]]:p},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:u||200,loaderHeaders:f}}function yw(t,e,n,r,i,s,a,u){let{loaderData:c,errors:f}=jA(e,r,i,u);return s.forEach(p=>{let{key:g,match:_,controller:S}=p,b=a[g];if(We(b,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(er(b)){let A=ka(t.matches,_==null?void 0:_.route.id);f&&f[A.route.id]||(f=Tt({},f,{[A.route.id]:b.error})),t.fetchers.delete(g)}else if(_o(b))We(!1,"Unhandled fetcher revalidation redirect");else if(ks(b))We(!1,"Unhandled fetcher deferred data");else{let A=ws(b.data);t.fetchers.set(g,A)}}),{loaderData:c,errors:f}}function ww(t,e,n,r){let i=Tt({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function Ew(t){return t?er(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ka(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Tw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Pn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,u="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(u="Bad Request",s==="route-discovery"?c='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+a):i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(u="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(u="Not Found",c='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new hh(t||500,u,new Error(c),!0)}function ud(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(_o(i))return{key:r,result:i}}}function VS(t){let e=typeof t=="string"?to(t):t;return sc(Tt({},e,{hash:""}))}function BA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function UA(t){return typeof t=="object"&&t!=null&&"then"in t}function $A(t){return FS(t.result)&&PA.has(t.result.status)}function ks(t){return t.type===lt.deferred}function er(t){return t.type===lt.error}function _o(t){return(t&&t.type)===lt.redirect}function Sw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function HA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function FS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function WA(t){return IA.has(t.toLowerCase())}function Or(t){return TA.has(t.toLowerCase())}async function qA(t,e,n,r,i){let s=Object.entries(e);for(let a=0;a<s.length;a++){let[u,c]=s[a],f=t.find(_=>(_==null?void 0:_.route.id)===u);if(!f)continue;let p=r.find(_=>_.route.id===f.route.id),g=p!=null&&!NS(p,f)&&(i&&i[f.route.id])!==void 0;ks(c)&&g&&await wv(c,n,!1).then(_=>{_&&(e[u]=_)})}}async function GA(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:a}=n[r],u=e[i];t.find(f=>(f==null?void 0:f.route.id)===s)&&ks(u)&&(We(a,"Expected an AbortController for revalidating fetcher deferred result"),await wv(u,a.signal,!0).then(f=>{f&&(e[i]=f)}))}}async function wv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:lt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:lt.error,error:i}}return{type:lt.data,data:t.deferredData.data}}}function Ev(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function nu(t,e){let n=typeof e=="string"?to(e).search:e.search;if(t[t.length-1].route.index&&Ev(n||""))return t[t.length-1];let r=RS(t);return r[r.length-1]}function Iw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Tp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function KA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Gl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ws(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function QA(t,e){try{let n=t.sessionStorage.getItem(MS);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function YA(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(MS,JSON.stringify(n))}catch(r){Xa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}const af=B.createContext(null),zS=B.createContext(null),lf=B.createContext(null),Tv=B.createContext(null),Bo=B.createContext({outlet:null,matches:[],isDataRoute:!1}),jS=B.createContext(null);function uf(){return B.useContext(Tv)!=null}function ac(){return uf()||We(!1),B.useContext(Tv).location}function BS(t){B.useContext(lf).static||B.useLayoutEffect(t)}function mi(){let{isDataRoute:t}=B.useContext(Bo);return t?uR():XA()}function XA(){uf()||We(!1);let t=B.useContext(af),{basename:e,future:n,navigator:r}=B.useContext(lf),{matches:i}=B.useContext(Bo),{pathname:s}=ac(),a=JSON.stringify(kS(i,n.v7_relativeSplatPath)),u=B.useRef(!1);return BS(()=>{u.current=!0}),B.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=LS(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Us([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,a,s,t])}function cf(){let{matches:t}=B.useContext(Bo),e=t[t.length-1];return e?e.params:{}}function JA(t,e,n,r){uf()||We(!1);let{navigator:i}=B.useContext(lf),{matches:s}=B.useContext(Bo),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=ac(),p;p=f;let g=p.pathname||"/",_=g;if(c!=="/"){let A=c.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=po(t,{pathname:_});return iR(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Us([c,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:Us([c,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r)}function eR(){let t=lR(),e=of(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const tR=B.createElement(eR,null);class nR extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Bo.Provider,{value:this.props.routeContext},B.createElement(jS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rR(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(af);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Bo.Provider,{value:e},r)}function iR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);p>=0||We(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:_,errors:S}=n,b=g.route.loader&&_[g.route.id]===void 0&&(!S||S[g.route.id]===void 0);if(g.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let S,b=!1,A=null,V=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,A=g.route.errorElement||tR,c&&(f<0&&_===0?(cR("route-fallback"),b=!0,V=null):f===_&&(b=!0,V=g.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,_+1)),E=()=>{let I;return S?I=A:b?I=V:g.route.Component?I=B.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=p,B.createElement(rR,{match:g,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:I})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?B.createElement(nR,{location:n.location,revalidation:n.revalidation,component:A,error:S,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var US=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(US||{}),ph=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ph||{});function sR(t){let e=B.useContext(af);return e||We(!1),e}function oR(t){let e=B.useContext(zS);return e||We(!1),e}function aR(t){let e=B.useContext(Bo);return e||We(!1),e}function $S(t){let e=aR(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function lR(){var t;let e=B.useContext(jS),n=oR(ph.UseRouteError),r=$S(ph.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uR(){let{router:t}=sR(US.UseNavigateStable),e=$S(ph.UseNavigateStable),n=B.useRef(!1);return BS(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fh({fromRouteId:e},s)))},[t,e])}const Pw={};function cR(t,e,n){Pw[t]||(Pw[t]=!0)}function dR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zt.Pop,navigator:s,static:a=!1,future:u}=t;uf()&&We(!1);let c=e.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:c,navigator:s,static:a,future:fh({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof r=="string"&&(r=to(r));let{pathname:p="/",search:g="",hash:_="",state:S=null,key:b="default"}=r,A=B.useMemo(()=>{let V=oc(p,c);return V==null?null:{location:{pathname:V,search:g,hash:_,state:S,key:b},navigationType:i}},[c,p,g,_,S,b,i]);return A==null?null:B.createElement(lf.Provider,{value:f},B.createElement(Tv.Provider,{children:n,value:A}))}new Promise(()=>{});function hR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:B.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:B.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:B.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}const fR="6";try{window.__reactRouterVersion=fR}catch{}function pR(t,e){return AA({basename:void 0,future:mh({},void 0,{v7_prependBasename:!0}),history:Jb({window:void 0}),hydrationData:mR(),routes:t,mapRouteProperties:hR,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function mR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=mh({},e,{errors:gR(e.errors)})),e}function gR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new hh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const vR=B.createContext({isTransitioning:!1}),_R=B.createContext(new Map),yR="startTransition",xw=B1[yR],wR="flushSync",Cw=Xb[wR];function ER(t){xw?xw(t):t()}function Kl(t){Cw?Cw(t):t()}let TR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function SR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=B.useState(n.state),[a,u]=B.useState(),[c,f]=B.useState({isTransitioning:!1}),[p,g]=B.useState(),[_,S]=B.useState(),[b,A]=B.useState(),V=B.useRef(new Map),{v7_startTransition:x}=r||{},E=B.useCallback(w=>{x?ER(w):w()},[x]),I=B.useCallback((w,C)=>{let{deletedFetchers:k,unstable_flushSync:D,unstable_viewTransitionOpts:j}=C;k.forEach(re=>V.current.delete(re)),w.fetchers.forEach((re,he)=>{re.data!==void 0&&V.current.set(he,re.data)});let M=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!j||M){D?Kl(()=>s(w)):E(()=>s(w));return}if(D){Kl(()=>{_&&(p&&p.resolve(),_.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let re=n.window.document.startViewTransition(()=>{Kl(()=>s(w))});re.finished.finally(()=>{Kl(()=>{g(void 0),S(void 0),u(void 0),f({isTransitioning:!1})})}),Kl(()=>S(re));return}_?(p&&p.resolve(),_.skipTransition(),A({state:w,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(u(w),f({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[n.window,_,p,V,E]);B.useLayoutEffect(()=>n.subscribe(I),[n,I]),B.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new TR)},[c]),B.useEffect(()=>{if(p&&a&&n.window){let w=a,C=p.promise,k=n.window.document.startViewTransition(async()=>{E(()=>s(w)),await C});k.finished.finally(()=>{g(void 0),S(void 0),u(void 0),f({isTransitioning:!1})}),S(k)}},[E,a,p,n.window]),B.useEffect(()=>{p&&a&&i.location.key===a.location.key&&p.resolve()},[p,_,i.location,a]),B.useEffect(()=>{!c.isTransitioning&&b&&(u(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),A(void 0))},[c.isTransitioning,b]),B.useEffect(()=>{},[]);let F=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,C,k)=>n.navigate(w,{state:C,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(w,C,k)=>n.navigate(w,{replace:!0,state:C,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),U=n.basename||"/",H=B.useMemo(()=>({router:n,navigator:F,static:!1,basename:U}),[n,F,U]),O=B.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return B.createElement(B.Fragment,null,B.createElement(af.Provider,{value:H},B.createElement(zS.Provider,{value:i},B.createElement(_R.Provider,{value:V.current},B.createElement(vR.Provider,{value:c},B.createElement(dR,{basename:U,location:i.location,navigationType:i.historyAction,navigator:F,future:O},i.initialized||n.future.v7_partialHydration?B.createElement(IR,{routes:n.routes,future:n.future,state:i}):e))))),null)}const IR=B.memo(PR);function PR(t){let{routes:e,future:n,state:r}=t;return JA(e,void 0,r,n)}var bw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bw||(bw={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));const xR=({label:t,onClick:e})=>P.jsx("button",{className:"btn_primary",onClick:e,children:t}),CR=({label:t,onClick:e})=>P.jsx("button",{className:"btn_secondary",onClick:e,children:t}),Sv=({showPrimary:t=!0,showSecondary:e=!0})=>{const n=mi(),r=()=>{n("/login")},i=()=>{n("/signup")};return P.jsxs("div",{children:[t&&P.jsx(xR,{label:"LOGIN",onClick:r}),e&&P.jsx(CR,{label:"SIGN UP",onClick:i})]})},Iv=()=>{const[t,e]=B.useState(!1);return B.useEffect(()=>{const n=()=>{e(window.scrollY>0)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),t},bR=()=>{const t=Iv();return P.jsxs("nav",{className:`nav_bar1 ${t?"scrolled":""}`,children:[P.jsx("h1",{className:"app_names",children:"Eventix"}),P.jsxs("ul",{className:"nav_linkss",children:[P.jsx("li",{children:P.jsx("a",{href:"/",children:"ABOUT US"})}),P.jsx("li",{children:P.jsx("a",{href:"/about",children:"SUPPORT"})})]}),P.jsx("div",{className:"nav_buttonss",children:P.jsx(Sv,{})})]})},Sp=({texts:t,colors:e=[],fontWeights:n=[],imageUrl:r,imageAlt:i=t.join(" "),customClass:s=""})=>P.jsxs("div",{className:`section_containers ${s}`,children:[P.jsx("div",{className:"text_containers",children:P.jsx("h1",{className:"titless",children:t.map((a,u)=>P.jsxs("span",{className:"text_items",style:{color:e[u]||"#0E0D35",fontWeight:n[u]||"normal"},children:[a,a==="you"&&P.jsx("br",{})]},u))})}),P.jsx("div",{className:"image_containers",children:P.jsx("img",{src:r,alt:i})})]}),AR=[{text:"Our benefits",backgroundColor:"#F24B4B"},{text:"Our benefits",backgroundColor:"#FFAA00"},{text:"Our benefits",backgroundColor:"#00B78C"}],RR=()=>P.jsx("div",{className:"benefits_container",children:AR.map((t,e)=>P.jsx("div",{className:"benefit_item",style:{backgroundColor:t.backgroundColor},children:P.jsx("h1",{children:t.text})},e))}),kR=()=>P.jsx("div",{className:"final_section",children:P.jsxs("h1",{className:"section_title",children:[P.jsx("span",{className:"final_word",style:{color:"#FFAA00"},children:"Share "}),P.jsx("span",{className:"final_word",style:{color:"#0E0D35"},children:"a "}),P.jsx("span",{className:"final_word",style:{color:"#00B78C"},children:"group fund"}),P.jsx("br",{className:"normal"}),P.jsx("span",{className:"final_word",style:{color:"#0E0D35",fontWeight:"normal"},children:" with other"}),P.jsx("span",{className:"final_word",style:{color:"#F24B4B"},children:" guests"})]})}),LR=()=>{const[t,e]=B.useState({section1:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg1%20section.webp?alt=media&token=33e36a3a-7fce-4dcd-b840-487944f215e1",section3:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2Fimg%20seccion3.webp?alt=media&token=52e6830d-1b95-484a-93fa-72f3ad8ee98d"}),n=()=>{const r=window.innerWidth<=375;e(r?{section1:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2Fimg%20seccion1-mobile.webp?alt=media&token=f9e71a0f-63f6-48d0-8c02-c27a19cdc419",section3:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2Fimg%20seccion3-mobile.webp?alt=media&token=a1c635fd-5da7-4b1e-a132-cd8f92f2e13d"}:{section1:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg1%20section.webp?alt=media&token=33e36a3a-7fce-4dcd-b840-487944f215e1",section3:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2Fimg%20seccion3.webp?alt=media&token=52e6830d-1b95-484a-93fa-72f3ad8ee98d"})};return B.useEffect(()=>(n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[]),P.jsxs("div",{children:[P.jsx(Sp,{texts:["Send","and","receive","invitations"],fontWeights:["semi-bold","normal","semi-bold","bold"],imageUrl:t.section1,colors:["#00B78C","#0E0D35","#FFAA00","#0E0D35"],customClass:"first_sections"}),P.jsx(RR,{}),P.jsx(Sp,{texts:["Choose","the","best","day","and","location"],fontWeights:["semi-bold","normal","semi-bold","semi-bold","normal","semi-bold"],imageUrl:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2Fimg%20seccion2.webp?alt=media&token=b2b51c8c-9ef8-4a0a-89bc-9a5b6e04d04f",colors:["#FFFF","#FFFF","#0E0D35","#0E0D35","#FFFF"],customClass:"second_sections"}),P.jsx(Sp,{texts:["All","what","you","need","in","the","same","place"],fontWeights:["semi-bold","normal","semi-bold","semi-bold","normal","normal","semi-bold","semi-bold"],imageUrl:t.section3,colors:["#F24B4B","#0E0D35","#FFAA00","#0E0D35","#0E0D35","#0E0D35","#00B78C","#00B78C"],customClass:"third_sections"}),P.jsx(kR,{})]})},OR=()=>P.jsxs("footer",{className:"footer_container",children:[P.jsxs("h1",{className:"footer_titles",children:[P.jsx("span",{className:"footer_words",style:{color:"#F24B4B"},children:"Join"}),P.jsx("span",{className:"footer_words",style:{color:"#0E0D35"},children:"us"}),P.jsx("span",{className:"footer_words",style:{color:"#FFAA00"},children:"now"}),P.jsx("span",{className:"footer_words",style:{color:"#00B78C"},children:"!"})]}),P.jsx(Sv,{showPrimary:!1,showSecondary:!0}),P.jsxs("div",{children:[P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2Fimg%20seccion%205.webp?alt=media&token=7be62c6b-eea9-4be1-9a1b-f9718106fc99",alt:"Footer",className:"footer_image"}),P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2Fimg%20seccion5-mobile.webp?alt=media&token=8ddaa2f4-c38a-42a2-a6a3-ffdff08d842e",alt:"Footer",className:"footer_image_responsive"}),P.jsx("div",{className:"footer_green-box"})]})]});function Rw(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Pv(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Rw(e[n])&&Rw(t[n])&&Object.keys(e[n]).length>0&&Pv(t[n],e[n])})}const HS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Bi(){const t=typeof document<"u"?document:{};return Pv(t,HS),t}const MR={document:HS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ur(){const t=typeof window<"u"?window:{};return Pv(t,MR),t}function NR(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function DR(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function jm(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function gh(){return Date.now()}function VR(t){const e=ur();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function FR(t,e){e===void 0&&(e="x");const n=ur();let r,i,s;const a=VR(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(u=>u.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function cd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function zR(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function tr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!zR(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,a=i.length;s<a;s+=1){const u=i[s],c=Object.getOwnPropertyDescriptor(r,u);c!==void 0&&c.enumerable&&(cd(t[u])&&cd(r[u])?r[u].__swiper__?t[u]=r[u]:tr(t[u],r[u]):!cd(t[u])&&cd(r[u])?(t[u]={},r[u].__swiper__?t[u]=r[u]:tr(t[u],r[u])):t[u]=r[u])}}}return t}function dd(t,e,n){t.style.setProperty(e,n)}function WS(t){let{swiper:e,targetPosition:n,side:r}=t;const i=ur(),s=-e.translate;let a=null,u;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const f=n>s?"next":"prev",p=(_,S)=>f==="next"&&_>=S||f==="prev"&&_<=S,g=()=>{u=new Date().getTime(),a===null&&(a=u);const _=Math.max(Math.min((u-a)/c,1),0),S=.5-Math.cos(_*Math.PI)/2;let b=s+S*(n-s);if(p(b,n)&&(b=n),e.wrapperEl.scrollTo({[r]:b}),p(b,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:b})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(g)};g()}function ii(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(r=>r.matches(e)):n}function jR(t,e){const n=e.contains(t);return!n&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(t):n}function vh(t){try{console.warn(t);return}catch{}}function _h(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:NR(e)),n}function BR(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function UR(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ls(t,e){return ur().getComputedStyle(t,null).getPropertyValue(e)}function yh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function qS(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Bm(t,e,n){const r=ur();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ki(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Ip;function $R(){const t=ur(),e=Bi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function GS(){return Ip||(Ip=$R()),Ip}let Pp;function HR(t){let{userAgent:e}=t===void 0?{}:t;const n=GS(),r=ur(),i=r.navigator.platform,s=e||r.navigator.userAgent,a={ios:!1,android:!1},u=r.screen.width,c=r.screen.height,f=s.match(/(Android);?[\s\/]+([\d.]+)?/);let p=s.match(/(iPad).*OS\s([\d_]+)/);const g=s.match(/(iPod)(.*OS\s([\d_]+))?/),_=!p&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=i==="Win32";let b=i==="MacIntel";const A=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&b&&n.touch&&A.indexOf(`${u}x${c}`)>=0&&(p=s.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),b=!1),f&&!S&&(a.os="android",a.android=!0),(p||_||g)&&(a.os="ios",a.ios=!0),a}function KS(t){return t===void 0&&(t={}),Pp||(Pp=HR(t)),Pp}let xp;function WR(){const t=ur(),e=KS();let n=!1;function r(){const u=t.navigator.userAgent.toLowerCase();return u.indexOf("safari")>=0&&u.indexOf("chrome")<0&&u.indexOf("android")<0}if(r()){const u=String(t.navigator.userAgent);if(u.includes("Version/")){const[c,f]=u.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));n=c<16||c===16&&f<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),a=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function qR(){return xp||(xp=WR()),xp}function GR(t){let{swiper:e,on:n,emit:r}=t;const i=ur();let s=null,a=null;const u=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(g=>{a=i.requestAnimationFrame(()=>{const{width:_,height:S}=e;let b=_,A=S;g.forEach(V=>{let{contentBoxSize:x,contentRect:E,target:I}=V;I&&I!==e.el||(b=E?E.width:(x[0]||x).inlineSize,A=E?E.height:(x[0]||x).blockSize)}),(b!==_||A!==S)&&u()})}),s.observe(e.el))},f=()=>{a&&i.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},p=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",u),i.addEventListener("orientationchange",p)}),n("destroy",()=>{f(),i.removeEventListener("resize",u),i.removeEventListener("orientationchange",p)})}function KR(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],a=ur(),u=function(p,g){g===void 0&&(g={});const _=a.MutationObserver||a.WebkitMutationObserver,S=new _(b=>{if(e.__preventObserver__)return;if(b.length===1){i("observerUpdate",b[0]);return}const A=function(){i("observerUpdate",b[0])};a.requestAnimationFrame?a.requestAnimationFrame(A):a.setTimeout(A,0)});S.observe(p,{attributes:typeof g.attributes>"u"?!0:g.attributes,childList:e.isElement||(typeof g.childList>"u"?!0:g).childList,characterData:typeof g.characterData>"u"?!0:g.characterData}),s.push(S)},c=()=>{if(e.params.observer){if(e.params.observeParents){const p=qS(e.hostEl);for(let g=0;g<p.length;g+=1)u(p[g])}u(e.hostEl,{childList:e.params.observeSlideChildren}),u(e.wrapperEl,{attributes:!1})}},f=()=>{s.forEach(p=>{p.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",f)}var ZR={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(f=>{f.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(f=>{f.apply(r,n)})}),t}};function QR(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ls(r,"padding-left")||0,10)-parseInt(Ls(r,"padding-right")||0,10),n=n-parseInt(Ls(r,"padding-top")||0,10)-parseInt(Ls(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function YR(){const t=this;function e(k,D){return parseFloat(k.getPropertyValue(t.getDirectionLabel(D))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:u}=t,c=t.virtual&&n.virtual.enabled,f=c?t.virtual.slides.length:t.slides.length,p=ii(i,`.${t.params.slideClass}, swiper-slide`),g=c?t.virtual.slides.length:p.length;let _=[];const S=[],b=[];let A=n.slidesOffsetBefore;typeof A=="function"&&(A=n.slidesOffsetBefore.call(t));let V=n.slidesOffsetAfter;typeof V=="function"&&(V=n.slidesOffsetAfter.call(t));const x=t.snapGrid.length,E=t.slidesGrid.length;let I=n.spaceBetween,F=-A,U=0,H=0;if(typeof s>"u")return;typeof I=="string"&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*s:typeof I=="string"&&(I=parseFloat(I)),t.virtualSize=-I,p.forEach(k=>{a?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(dd(r,"--swiper-centered-offset-before",""),dd(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(p):t.grid&&t.grid.unsetSlides();let w;const C=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<g;k+=1){w=0;let D;if(p[k]&&(D=p[k]),O&&t.grid.updateSlide(k,D,p),!(p[k]&&Ls(D,"display")==="none")){if(n.slidesPerView==="auto"){C&&(p[k].style[t.getDirectionLabel("width")]="");const j=getComputedStyle(D),M=D.style.transform,re=D.style.webkitTransform;if(M&&(D.style.transform="none"),re&&(D.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?Bm(D,"width"):Bm(D,"height");else{const he=e(j,"width"),Se=e(j,"padding-left"),Fe=e(j,"padding-right"),K=e(j,"margin-left"),ie=e(j,"margin-right"),J=j.getPropertyValue("box-sizing");if(J&&J==="border-box")w=he+K+ie;else{const{clientWidth:ye,offsetWidth:me}=D;w=he+Se+Fe+K+ie+(me-ye)}}M&&(D.style.transform=M),re&&(D.style.webkitTransform=re),n.roundLengths&&(w=Math.floor(w))}else w=(s-(n.slidesPerView-1)*I)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),p[k]&&(p[k].style[t.getDirectionLabel("width")]=`${w}px`);p[k]&&(p[k].swiperSlideSize=w),b.push(w),n.centeredSlides?(F=F+w/2+U/2+I,U===0&&k!==0&&(F=F-s/2-I),k===0&&(F=F-s/2-I),Math.abs(F)<1/1e3&&(F=0),n.roundLengths&&(F=Math.floor(F)),H%n.slidesPerGroup===0&&_.push(F),S.push(F)):(n.roundLengths&&(F=Math.floor(F)),(H-Math.min(t.params.slidesPerGroupSkip,H))%t.params.slidesPerGroup===0&&_.push(F),S.push(F),F=F+w+I),t.virtualSize+=w+I,U=w,H+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+V,a&&u&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+I}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+I}px`),O&&t.grid.updateWrapperSize(w,_),!n.centeredSlides){const k=[];for(let D=0;D<_.length;D+=1){let j=_[D];n.roundLengths&&(j=Math.floor(j)),_[D]<=t.virtualSize-s&&k.push(j)}_=k,Math.floor(t.virtualSize-s)-Math.floor(_[_.length-1])>1&&_.push(t.virtualSize-s)}if(c&&n.loop){const k=b[0]+I;if(n.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),j=k*n.slidesPerGroup;for(let M=0;M<D;M+=1)_.push(_[_.length-1]+j)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)n.slidesPerGroup===1&&_.push(_[_.length-1]+k),S.push(S[S.length-1]+k),t.virtualSize+=k}if(_.length===0&&(_=[0]),I!==0){const k=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");p.filter((D,j)=>!n.cssMode||n.loop?!0:j!==p.length-1).forEach(D=>{D.style[k]=`${I}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;b.forEach(j=>{k+=j+(I||0)}),k-=I;const D=k>s?k-s:0;_=_.map(j=>j<=0?-A:j>D?D+V:j)}if(n.centerInsufficientSlides){let k=0;b.forEach(j=>{k+=j+(I||0)}),k-=I;const D=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(k+D<s){const j=(s-k-D)/2;_.forEach((M,re)=>{_[re]=M-j}),S.forEach((M,re)=>{S[re]=M+j})}}if(Object.assign(t,{slides:p,snapGrid:_,slidesGrid:S,slidesSizesGrid:b}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){dd(r,"--swiper-centered-offset-before",`${-_[0]}px`),dd(r,"--swiper-centered-offset-after",`${t.size/2-b[b.length-1]/2}px`);const k=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(j=>j+k),t.slidesGrid=t.slidesGrid.map(j=>j+D)}if(g!==f&&t.emit("slidesLengthChange"),_.length!==x&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),S.length!==E&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,D=t.el.classList.contains(k);g<=n.maxBackfaceHiddenSlides?D||t.el.classList.add(k):D&&t.el.classList.remove(k)}}function XR(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=u=>r?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{n.push(u)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const u=e.activeIndex+s;if(u>e.slides.length&&!r)break;n.push(a(u))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const u=n[s].offsetHeight;i=u>i?u:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function JR(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const kw=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function ek(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=n.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let c=0;c<r.length;c+=1){const f=r[c];let p=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=r[0].swiperSlideOffset);const g=(a+(n.centeredSlides?e.minTranslate():0)-p)/(f.swiperSlideSize+u),_=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-p)/(f.swiperSlideSize+u),S=-(a-p),b=S+e.slidesSizesGrid[c],A=S>=0&&S<=e.size-e.slidesSizesGrid[c],V=S>=0&&S<e.size-1||b>1&&b<=e.size||S<=0&&b>=e.size;V&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(c)),kw(f,V,n.slideVisibleClass),kw(f,A,n.slideFullyVisibleClass),f.progress=i?-g:g,f.originalProgress=i?-_:_}}function tk(t){const e=this;if(typeof t>"u"){const p=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*p||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:u}=e;const c=s,f=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const p=Math.abs(t-e.minTranslate())<1,g=Math.abs(t-e.maxTranslate())<1;s=p||i<=0,a=g||i>=1,p&&(i=0),g&&(i=1)}if(n.loop){const p=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[p],S=e.slidesGrid[g],b=e.slidesGrid[e.slidesGrid.length-1],A=Math.abs(t);A>=_?u=(A-_)/b:u=(A+b-S)/b,u>1&&(u-=1)}Object.assign(e,{progress:i,progressLoop:u,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(c&&!s||f&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const Cp=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function nk(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,u=g=>ii(r,`.${n.slideClass}${g}, swiper-slide${g}`)[0];let c,f,p;if(s)if(n.loop){let g=i-t.virtual.slidesBefore;g<0&&(g=t.virtual.slides.length+g),g>=t.virtual.slides.length&&(g-=t.virtual.slides.length),c=u(`[data-swiper-slide-index="${g}"]`)}else c=u(`[data-swiper-slide-index="${i}"]`);else a?(c=e.filter(g=>g.column===i)[0],p=e.filter(g=>g.column===i+1)[0],f=e.filter(g=>g.column===i-1)[0]):c=e[i];c&&(a||(p=UR(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p&&(p=e[0]),f=BR(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(g=>{Cp(g,g===c,n.slideActiveClass),Cp(g,g===p,n.slideNextClass),Cp(g,g===f,n.slidePrevClass)}),t.emitSlidesClasses()}const Rd=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},bp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Um=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,u=[a-e];u.push(...Array.from({length:e}).map((c,f)=>a+r+f)),t.slides.forEach((c,f)=>{u.includes(c.column)&&bp(t,f)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const u=(a%n+n)%n;(u<i||u>s)&&bp(t,u)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&bp(t,a)};function rk(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function ik(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:u}=e;let c=t,f;const p=S=>{let b=S-e.virtual.slidesBefore;return b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),b};if(typeof c>"u"&&(c=rk(e)),r.indexOf(n)>=0)f=r.indexOf(n);else{const S=Math.min(i.slidesPerGroupSkip,c);f=S+Math.floor((c-S)/i.slidesPerGroup)}if(f>=r.length&&(f=r.length-1),c===s&&!e.params.loop){f!==u&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=p(c);return}const g=e.grid&&i.grid&&i.grid.rows>1;let _;if(e.virtual&&i.virtual.enabled&&i.loop)_=p(c);else if(g){const S=e.slides.filter(A=>A.column===c)[0];let b=parseInt(S.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(e.slides.indexOf(S),0)),_=Math.floor(b/i.grid.rows)}else if(e.slides[c]){const S=e.slides[c].getAttribute("data-swiper-slide-index");S?_=parseInt(S,10):_=c}else _=c;Object.assign(e,{previousSnapIndex:u,snapIndex:f,previousRealIndex:a,realIndex:_,previousIndex:s,activeIndex:c}),e.initialized&&Um(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function sk(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(u=>{!i&&u.matches&&u.matches(`.${r.slideClass}, swiper-slide`)&&(i=u)});let s=!1,a;if(i){for(let u=0;u<n.slides.length;u+=1)if(n.slides[u]===i){s=!0,a=u;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var ok={updateSize:QR,updateSlides:YR,updateAutoHeight:XR,updateSlidesOffset:JR,updateSlidesProgress:ek,updateProgress:tk,updateSlidesClasses:nk,updateActiveIndex:ik,updateClickedSlide:sk};function ak(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=FR(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function lk(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let u=0,c=0;const f=0;n.isHorizontal()?u=r?-t:t:c=t,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||(n.isHorizontal()?u-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${u}px, ${c}px, ${f}px)`);let p;const g=n.maxTranslate()-n.minTranslate();g===0?p=0:p=(t-n.minTranslate())/g,p!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function uk(){return-this.snapGrid[0]}function ck(){return-this.snapGrid[this.snapGrid.length-1]}function dk(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:a,wrapperEl:u}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),f=s.maxTranslate();let p;if(r&&t>c?p=c:r&&t<f?p=f:p=t,s.updateProgress(p),a.cssMode){const g=s.isHorizontal();if(e===0)u[g?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return WS({swiper:s,targetPosition:-p,side:g?"left":"top"}),!0;u.scrollTo({[g?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(_){!s||s.destroyed||_.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var hk={getTranslate:ak,setTranslate:lk,minTranslate:uk,maxTranslate:ck,translateTo:dk};function fk(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function ZS(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:a}=e;let u=r;if(u||(s>a?u="next":s<a?u="prev":u="reset"),e.emit(`transition${i}`),n&&s!==a){if(u==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),u==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function pk(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),ZS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function mk(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),ZS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var gk={setTransition:fk,transitionStart:pk,transitionEnd:mk};function vk(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:u,snapGrid:c,slidesGrid:f,previousIndex:p,activeIndex:g,rtlTranslate:_,wrapperEl:S,enabled:b}=s;if(!b&&!r&&!i||s.destroyed||s.animating&&u.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const A=Math.min(s.params.slidesPerGroupSkip,a);let V=A+Math.floor((a-A)/s.params.slidesPerGroup);V>=c.length&&(V=c.length-1);const x=-c[V];if(u.normalizeSlideIndex)for(let U=0;U<f.length;U+=1){const H=-Math.floor(x*100),O=Math.floor(f[U]*100),w=Math.floor(f[U+1]*100);typeof f[U+1]<"u"?H>=O&&H<w-(w-O)/2?a=U:H>=O&&H<w&&(a=U+1):H>=O&&(a=U)}if(s.initialized&&a!==g&&(!s.allowSlideNext&&(_?x>s.translate&&x>s.minTranslate():x<s.translate&&x<s.minTranslate())||!s.allowSlidePrev&&x>s.translate&&x>s.maxTranslate()&&(g||0)!==a))return!1;a!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(x);let E;a>g?E="next":a<g?E="prev":E="reset";const I=s.virtual&&s.params.virtual.enabled;if(!(I&&i)&&(_&&-x===s.translate||!_&&x===s.translate))return s.updateActiveIndex(a),u.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),u.effect!=="slide"&&s.setTranslate(x),E!=="reset"&&(s.transitionStart(n,E),s.transitionEnd(n,E)),!1;if(u.cssMode){const U=s.isHorizontal(),H=_?x:-x;if(e===0)I&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),I&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{S[U?"scrollLeft":"scrollTop"]=H})):S[U?"scrollLeft":"scrollTop"]=H,I&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return WS({swiper:s,targetPosition:H,side:U?"left":"top"}),!0;S.scrollTo({[U?"left":"top"]:H,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(x),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,E),e===0?s.transitionEnd(n,E):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(H){!s||s.destroyed||H.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,E))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function _k(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let u;if(s){const _=a*i.params.grid.rows;u=i.slides.filter(S=>S.getAttribute("data-swiper-slide-index")*1===_)[0].column}else u=i.getSlideIndexByData(a);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:f}=i.params;let p=i.params.slidesPerView;p==="auto"?p=i.slidesPerViewDynamic():(p=Math.ceil(parseFloat(i.params.slidesPerView,10)),f&&p%2===0&&(p=p+1));let g=c-u<p;if(f&&(g=g||u<Math.ceil(p/2)),r&&f&&i.params.slidesPerView!=="auto"&&!s&&(g=!1),g){const _=f?u<i.activeIndex?"prev":"next":u-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?u+1:u-c+1,slideRealIndex:_==="next"?i.realIndex:void 0})}if(s){const _=a*i.params.grid.rows;a=i.slides.filter(S=>S.getAttribute("data-swiper-slide-index")*1===_)[0].column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function yk(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let u=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(u=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:u,f=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!f&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function wk(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:u,enabled:c,animating:f}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const p=r.virtual&&i.virtual.enabled;if(i.loop){if(f&&!p&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const g=u?r.translate:-r.translate;function _(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const S=_(g),b=s.map(x=>_(x));let A=s[b.indexOf(S)-1];if(typeof A>"u"&&i.cssMode){let x;s.forEach((E,I)=>{S>=E&&(x=I)}),typeof x<"u"&&(A=s[x>0?x-1:x])}let V=0;if(typeof A<"u"&&(V=a.indexOf(A),V<0&&(V=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(V=V-r.slidesPerViewDynamic("previous",!0)+1,V=Math.max(V,0))),i.rewind&&r.isBeginning){const x=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(x,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(V,t,e,n)}),!0;return r.slideTo(V,t,e,n)}function Ek(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Tk(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),u=a+Math.floor((s-a)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[u]){const f=i.snapGrid[u],p=i.snapGrid[u+1];c-f>(p-f)*r&&(s+=i.params.slidesPerGroup)}else{const f=i.snapGrid[u-1],p=i.snapGrid[u];c-f<=(p-f)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function Sk(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(ii(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),jm(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(ii(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),jm(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var Ik={slideTo:vk,slideToLoop:_k,slideNext:yk,slidePrev:wk,slideReset:Ek,slideToClosest:Tk,slideToClickedSlide:Sk};function Pk(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{ii(r,`.${n.slideClass}, swiper-slide`).forEach((g,_)=>{g.setAttribute("data-swiper-slide-index",_)})},s=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(s?n.grid.rows:1),u=e.slides.length%a!==0,c=s&&e.slides.length%n.grid.rows!==0,f=p=>{for(let g=0;g<p;g+=1){const _=e.isElement?_h("swiper-slide",[n.slideBlankClass]):_h("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(_)}};if(u){if(n.loopAddBlankSlides){const p=a-e.slides.length%a;f(p),e.recalcSlides(),e.updateSlides()}else vh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(n.loopAddBlankSlides){const p=n.grid.rows-e.slides.length%n.grid.rows;f(p),e.recalcSlides(),e.updateSlides()}else vh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function xk(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:a,byMousewheel:u}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:f,allowSlidePrev:p,allowSlideNext:g,slidesEl:_,params:S}=c,{centeredSlides:b}=S;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&S.virtual.enabled){n&&(!S.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):S.centeredSlides&&c.snapIndex<S.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=p,c.allowSlideNext=g,c.emit("loopFix");return}let A=S.slidesPerView;A==="auto"?A=c.slidesPerViewDynamic():(A=Math.ceil(parseFloat(S.slidesPerView,10)),b&&A%2===0&&(A=A+1));const V=S.slidesPerGroupAuto?A:S.slidesPerGroup;let x=V;x%V!==0&&(x+=V-x%V),x+=S.loopAdditionalSlides,c.loopedSlides=x;const E=c.grid&&S.grid&&S.grid.rows>1;f.length<A+x?vh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):E&&S.grid.fill==="row"&&vh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const I=[],F=[];let U=c.activeIndex;typeof s>"u"?s=c.getSlideIndex(f.filter(M=>M.classList.contains(S.slideActiveClass))[0]):U=s;const H=r==="next"||!r,O=r==="prev"||!r;let w=0,C=0;const k=E?Math.ceil(f.length/S.grid.rows):f.length,j=(E?f[s].column:s)+(b&&typeof i>"u"?-A/2+.5:0);if(j<x){w=Math.max(x-j,V);for(let M=0;M<x-j;M+=1){const re=M-Math.floor(M/k)*k;if(E){const he=k-re-1;for(let Se=f.length-1;Se>=0;Se-=1)f[Se].column===he&&I.push(Se)}else I.push(k-re-1)}}else if(j+A>k-x){C=Math.max(j-(k-x*2),V);for(let M=0;M<C;M+=1){const re=M-Math.floor(M/k)*k;E?f.forEach((he,Se)=>{he.column===re&&F.push(Se)}):F.push(re)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),O&&I.forEach(M=>{f[M].swiperLoopMoveDOM=!0,_.prepend(f[M]),f[M].swiperLoopMoveDOM=!1}),H&&F.forEach(M=>{f[M].swiperLoopMoveDOM=!0,_.append(f[M]),f[M].swiperLoopMoveDOM=!1}),c.recalcSlides(),S.slidesPerView==="auto"?c.updateSlides():E&&(I.length>0&&O||F.length>0&&H)&&c.slides.forEach((M,re)=>{c.grid.updateSlide(re,M,c.slides)}),S.watchSlidesProgress&&c.updateSlidesOffset(),n){if(I.length>0&&O){if(typeof e>"u"){const M=c.slidesGrid[U],he=c.slidesGrid[U+w]-M;u?c.setTranslate(c.translate-he):(c.slideTo(U+Math.ceil(w),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-he,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-he))}else if(i){const M=E?I.length/S.grid.rows:I.length;c.slideTo(c.activeIndex+M,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(F.length>0&&H)if(typeof e>"u"){const M=c.slidesGrid[U],he=c.slidesGrid[U-C]-M;u?c.setTranslate(c.translate-he):(c.slideTo(U-C,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-he,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-he))}else{const M=E?F.length/S.grid.rows:F.length;c.slideTo(c.activeIndex-M,0,!1,!0)}}if(c.allowSlidePrev=p,c.allowSlideNext=g,c.controller&&c.controller.control&&!a){const M={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(re=>{!re.destroyed&&re.params.loop&&re.loopFix({...M,slideTo:re.params.slidesPerView===S.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...M,slideTo:c.controller.control.params.slidesPerView===S.slidesPerView?n:!1})}c.emit("loopFix")}function Ck(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var bk={loopCreate:Pk,loopFix:xk,loopDestroy:Ck};function Ak(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Rk(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var kk={setGrabCursor:Ak,unsetGrabCursor:Rk};function Lk(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Bi()||r===ur())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function Lw(t,e,n){const r=ur(),{params:i}=t,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Ok(t){const e=this,n=Bi();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Lw(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:u}=e;if(!u||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!jR(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const f=!!s.noSwipingClass&&s.noSwipingClass!=="",p=r.composedPath?r.composedPath():r.path;f&&r.target&&r.target.shadowRoot&&p&&(c=p[0]);const g=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(_?Lk(g,c):c.closest(g))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const S=a.currentX,b=a.currentY;if(!Lw(e,r,S))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=S,a.startY=b,i.touchStartTime=gh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let A=!0;c.matches(i.focusableElements)&&(A=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const V=A&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||V)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Mk(t){const e=Bi(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:u}=n;if(!u||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let f;if(c.type==="touchmove"){if(f=[...c.changedTouches].filter(H=>H.identifier===r.touchId)[0],!f||f.identifier!==r.touchId)return}else f=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const p=f.pageX,g=f.pageY;if(c.preventedByNestedSwiper){s.startX=p,s.startY=g;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:p,startY:g,currentX:p,currentY:g}),r.touchStartTime=gh());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(g<s.startY&&n.translate<=n.maxTranslate()||g>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(p<s.startX&&n.translate<=n.maxTranslate()||p>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=p,s.currentY=g;const _=s.currentX-s.startX,S=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(_**2+S**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let H;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:_*_+S*S>=25&&(H=Math.atan2(Math.abs(S),Math.abs(_))*180/Math.PI,r.isScrolling=n.isHorizontal()?H>i.touchAngle:90-H>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let b=n.isHorizontal()?_:S,A=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(b=Math.abs(b)*(a?1:-1),A=Math.abs(A)*(a?1:-1)),s.diff=b,b*=i.touchRatio,a&&(b=-b,A=-A);const V=n.touchesDirection;n.swipeDirection=b>0?"prev":"next",n.touchesDirection=A>0?"prev":"next";const x=n.params.loop&&!i.cssMode,E=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(x&&E&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(H)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let I;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&V!==n.touchesDirection&&x&&E&&Math.abs(b)>=1){Object.assign(s,{startX:p,startY:g,currentX:p,currentY:g,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=b+r.startTranslate;let F=!0,U=i.resistanceRatio;if(i.touchReleaseOnEdges&&(U=0),b>0?(x&&E&&!I&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(F=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+b)**U))):b<0&&(x&&E&&!I&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(F=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-b)**U))),F&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(b)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Nk(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(U=>U.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:u,rtlTranslate:c,slidesGrid:f,enabled:p}=e;if(!p||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=gh(),_=g-n.touchStartTime;if(e.allowClick){const U=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(U&&U[0]||r.target,U),e.emit("tap click",r),_<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=gh(),jm(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||u.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let S;if(a.followFinger?S=c?e.translate:-e.translate:S=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:S});return}const b=S>=-e.maxTranslate()&&!e.params.loop;let A=0,V=e.slidesSizesGrid[0];for(let U=0;U<f.length;U+=U<a.slidesPerGroupSkip?1:a.slidesPerGroup){const H=U<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof f[U+H]<"u"?(b||S>=f[U]&&S<f[U+H])&&(A=U,V=f[U+H]-f[U]):(b||S>=f[U])&&(A=U,V=f[f.length-1]-f[f.length-2])}let x=null,E=null;a.rewind&&(e.isBeginning?E=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(x=0));const I=(S-f[A])/V,F=A<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(_>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(I>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?x:A+F):e.slideTo(A)),e.swipeDirection==="prev"&&(I>1-a.longSwipesRatio?e.slideTo(A+F):E!==null&&I<0&&Math.abs(I)>a.longSwipesRatio?e.slideTo(E):e.slideTo(A))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(A+F):e.slideTo(A):(e.swipeDirection==="next"&&e.slideTo(x!==null?x:A+F),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:A))}}function Ow(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const u=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!u?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Dk(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Vk(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Fk(t){const e=this;Rd(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function zk(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const QS=(t,e)=>{const n=Bi(),{params:r,el:i,wrapperEl:s,device:a}=t,u=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",f=e;!i||typeof i=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:u}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:u}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:u}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ow,!0):t[f]("observerUpdate",Ow,!0),i[c]("load",t.onLoad,{capture:!0}))};function jk(){const t=this,{params:e}=t;t.onTouchStart=Ok.bind(t),t.onTouchMove=Mk.bind(t),t.onTouchEnd=Nk.bind(t),t.onDocumentTouchStart=zk.bind(t),e.cssMode&&(t.onScroll=Vk.bind(t)),t.onClick=Dk.bind(t),t.onLoad=Fk.bind(t),QS(t,"on")}function Bk(){QS(this,"off")}var Uk={attachEvents:jk,detachEvents:Bk};const Mw=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function $k(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||t.originalParams,f=Mw(t,r),p=Mw(t,c),g=t.params.grabCursor,_=c.grabCursor,S=r.enabled;f&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!_?t.unsetGrabCursor():!g&&_&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(I=>{if(typeof c[I]>"u")return;const F=r[I]&&r[I].enabled,U=c[I]&&c[I].enabled;F&&!U&&t[I].disable(),!F&&U&&t[I].enable()});const b=c.direction&&c.direction!==r.direction,A=r.loop&&(c.slidesPerView!==r.slidesPerView||b),V=r.loop;b&&n&&t.changeDirection(),tr(t.params,c);const x=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),S&&!x?t.disable():!S&&x&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),n&&(A?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!V&&E?(t.loopCreate(e),t.updateSlides()):V&&!E&&t.loopDestroy()),t.emit("breakpoint",c)}function Hk(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=ur(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const c=parseFloat(u.substr(1));return{value:s*c,point:u}}return{value:u,point:u}});a.sort((u,c)=>parseInt(u.value,10)-parseInt(c.value,10));for(let u=0;u<a.length;u+=1){const{point:c,value:f}=a[u];e==="window"?i.matchMedia(`(min-width: ${f}px)`).matches&&(r=c):f<=n.clientWidth&&(r=c)}return r||"max"}var Wk={setBreakpoint:$k,getBreakpoint:Hk};function qk(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Gk(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=qk(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function Kk(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Zk={addClasses:Gk,removeClasses:Kk};function Qk(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Yk={checkOverflow:Qk},$m={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Xk(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){tr(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){tr(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),tr(e,r)}}const Ap={eventsEmitter:ZR,update:ok,translate:hk,transition:gk,slide:Ik,loop:bk,grabCursor:kk,events:Uk,breakpoints:Wk,checkOverflow:Yk,classes:Zk},Rp={};let xv=class Li{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=tr({},n),e&&!n.el&&(n.el=e);const a=Bi();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const p=[];return a.querySelectorAll(n.el).forEach(g=>{const _=tr({},n,{el:g});p.push(new Li(_))}),p}const u=this;u.__swiper__=!0,u.support=GS(),u.device=KS({userAgent:n.userAgent}),u.browser=qR(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],n.modules&&Array.isArray(n.modules)&&u.modules.push(...n.modules);const c={};u.modules.forEach(p=>{p({params:n,swiper:u,extendParams:Xk(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const f=tr({},$m,c);return u.params=tr({},f,Rp,n),u.originalParams=tr({},u.params),u.passedParams=tr({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach(p=>{u.on(p,u.params.on[p])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=ii(n,`.${r.slideClass}, swiper-slide`),s=yh(i[0]);return yh(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ii(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:u,size:c,activeIndex:f}=r;let p=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let g=s[f]?Math.ceil(s[f].swiperSlideSize):0,_;for(let S=f+1;S<s.length;S+=1)s[S]&&!_&&(g+=Math.ceil(s[S].swiperSlideSize),p+=1,g>c&&(_=!0));for(let S=f-1;S>=0;S-=1)s[S]&&!_&&(g+=s[S].swiperSlideSize,p+=1,g>c&&(_=!0))}else if(e==="current")for(let g=f+1;g<s.length;g+=1)(n?a[g]+u[g]-a[f]<c:a[g]-a[f]<c)&&(p+=1);else for(let g=f-1;g>=0;g-=1)a[f]-a[g]<c&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Rd(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):ii(r,i())[0];return!a&&n.params.createElements&&(a=_h("div",n.params.wrapperClass),r.append(a),ii(r,`.${n.params.slideClass}`).forEach(u=>{a.append(u)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ls(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ls(r,"direction")==="rtl"),wrongRTL:Ls(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Rd(n,s):s.addEventListener("load",a=>{Rd(n,a.target)})}),Um(n),n.initialized=!0,Um(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:a,slides:u}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),u&&u.length&&u.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),DR(r)),r.destroyed=!0),null}static extendDefaults(e){tr(Rp,e)}static get extendedDefaults(){return Rp}static get defaults(){return $m}static installModule(e){Li.prototype.__modules__||(Li.prototype.__modules__=[]);const n=Li.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Li.installModule(n)),Li):(Li.installModule(e),Li)}};Object.keys(Ap).forEach(t=>{Object.keys(Ap[t]).forEach(e=>{xv.prototype[e]=Ap[t][e]})});xv.use([GR,KR]);const YS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ro(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ja(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ro(e[r])&&Ro(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ja(t[r],e[r]):t[r]=e[r]})}function XS(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function JS(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function eI(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function tI(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Jk(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function eL(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:u,paginationEl:c}=t;const f=i.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:p,pagination:g,navigation:_,scrollbar:S,virtual:b,thumbs:A}=e;let V,x,E,I,F,U,H,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(V=!0),i.includes("controller")&&r.controller&&r.controller.control&&p.controller&&!p.controller.control&&(x=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(p.pagination||p.pagination===!1)&&g&&!g.el&&(E=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||u)&&(p.scrollbar||p.scrollbar===!1)&&S&&!S.el&&(I=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(p.navigation||p.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(F=!0);const w=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),p[C].prevEl=void 0,p[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),p[C].el=void 0,e[C].el=void 0))};i.includes("loop")&&e.isElement&&(p.loop&&!r.loop?U=!0:!p.loop&&r.loop?H=!0:O=!0),f.forEach(C=>{if(Ro(p[C])&&Ro(r[C]))Object.assign(p[C],r[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in r[C]&&!r[C].enabled&&w(C);else{const k=r[C];(k===!0||k===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?k===!1&&w(C):p[C]=r[C]}}),f.includes("controller")&&!x&&e.controller&&e.controller.control&&p.controller&&p.controller.control&&(e.controller.control=p.controller.control),i.includes("children")&&n&&b&&p.virtual.enabled?(b.slides=n,b.update(!0)):i.includes("virtual")&&b&&p.virtual.enabled&&(n&&(b.slides=n),b.update(!0)),i.includes("children")&&n&&p.loop&&(O=!0),V&&A.init()&&A.update(!0),x&&(e.controller.control=p.controller.control),E&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(p.pagination.el=c),g.init(),g.render(),g.update()),I&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-scrollbar"),u.part.add("scrollbar"),e.el.appendChild(u)),u&&(p.scrollbar.el=u),S.init(),S.updateSize(),S.setTranslate()),F&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),s&&(p.navigation.nextEl=s),a&&(p.navigation.prevEl=a),_.init(),_.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(U||O)&&e.loopDestroy(),(H||O)&&e.loopCreate(),e.update()}function tL(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};ja(n,$m),n._emitClasses=!0,n.init=!1;const s={},a=YS.map(c=>c.replace(/_/,"")),u=Object.assign({},t);return Object.keys(u).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?Ro(t[c])?(n[c]={},i[c]={},ja(n[c],t[c]),ja(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function nL(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:a,swiper:u}=t;XS(e)&&r&&i&&(u.params.navigation.nextEl=r,u.originalParams.navigation.nextEl=r,u.params.navigation.prevEl=i,u.originalParams.navigation.prevEl=i),JS(e)&&s&&(u.params.pagination.el=s,u.originalParams.pagination.el=s),eI(e)&&a&&(u.params.scrollbar.el=a,u.originalParams.scrollbar.el=a),u.init(n)}function rL(t,e,n,r,i){const s=[];if(!e)return s;const a=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),f=n.map(i);c.join("")!==f.join("")&&a("children"),r.length!==n.length&&a("children")}return YS.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Ro(t[c])&&Ro(e[c])){const f=Object.keys(t[c]),p=Object.keys(e[c]);f.length!==p.length?a(c):(f.forEach(g=>{t[c][g]!==e[c][g]&&a(c)}),p.forEach(g=>{t[c][g]!==e[c][g]&&a(c)}))}else t[c]!==e[c]&&a(c)}),s}const iL=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}function nI(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function rI(t){const e=[];return _t.Children.toArray(t).forEach(n=>{nI(n)?e.push(n):n.props&&n.props.children&&rI(n.props.children).forEach(r=>e.push(r))}),e}function sL(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return _t.Children.toArray(t).forEach(r=>{if(nI(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=rI(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function oL(t,e,n){if(!n)return null;const r=p=>{let g=p;return p<0?g=e.length+p:g>=e.length&&(g=g-e.length),g},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,u=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,f=[];for(let p=u;p<c;p+=1)p>=s&&p<=a&&f.push(e[r(p)]);return f.map((p,g)=>_t.cloneElement(p,{swiper:t,style:i,key:p.props.virtualIndex||p.key||`slide-${g}`}))}function _u(t,e){return typeof window>"u"?B.useEffect(t,e):B.useLayoutEffect(t,e)}const Nw=B.createContext(null),aL=B.createContext(null),lc=B.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:a,...u}=t===void 0?{}:t,c=!1;const[f,p]=B.useState("swiper"),[g,_]=B.useState(null),[S,b]=B.useState(!1),A=B.useRef(!1),V=B.useRef(null),x=B.useRef(null),E=B.useRef(null),I=B.useRef(null),F=B.useRef(null),U=B.useRef(null),H=B.useRef(null),O=B.useRef(null),{params:w,passedParams:C,rest:k,events:D}=tL(u),{slides:j,slots:M}=sL(s),re=()=>{b(!S)};Object.assign(w.on,{_containerClasses(ie,J){p(J)}});const he=()=>{Object.assign(w.on,D),c=!0;const ie={...w};if(delete ie.wrapperClass,x.current=new xv(ie),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=j;const J={cache:!1,slides:j,renderExternal:_,renderExternalUpdate:!1};ja(x.current.params.virtual,J),ja(x.current.originalParams.virtual,J)}};V.current||he(),x.current&&x.current.on("_beforeBreakpoint",re);const Se=()=>{c||!D||!x.current||Object.keys(D).forEach(ie=>{x.current.on(ie,D[ie])})},Fe=()=>{!D||!x.current||Object.keys(D).forEach(ie=>{x.current.off(ie,D[ie])})};B.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",re)}),B.useEffect(()=>{!A.current&&x.current&&(x.current.emitSlidesClasses(),A.current=!0)}),_u(()=>{if(e&&(e.current=V.current),!!V.current)return x.current.destroyed&&he(),nL({el:V.current,nextEl:F.current,prevEl:U.current,paginationEl:H.current,scrollbarEl:O.current,swiper:x.current},w),a&&!x.current.destroyed&&a(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),_u(()=>{Se();const ie=rL(C,E.current,j,I.current,J=>J.key);return E.current=C,I.current=j,ie.length&&x.current&&!x.current.destroyed&&eL({swiper:x.current,slides:j,passedParams:C,changedParams:ie,nextEl:F.current,prevEl:U.current,scrollbarEl:O.current,paginationEl:H.current}),()=>{Fe()}}),_u(()=>{iL(x.current)},[g]);function K(){return w.virtual?oL(x.current,j,g):j.map((ie,J)=>_t.cloneElement(ie,{swiper:x.current,swiperSlideIndex:J}))}return _t.createElement(r,wh({ref:V,className:tI(`${f}${n?` ${n}`:""}`)},k),_t.createElement(aL.Provider,{value:x.current},M["container-start"],_t.createElement(i,{className:Jk(w.wrapperClass)},M["wrapper-start"],K(),M["wrapper-end"]),XS(w)&&_t.createElement(_t.Fragment,null,_t.createElement("div",{ref:U,className:"swiper-button-prev"}),_t.createElement("div",{ref:F,className:"swiper-button-next"})),eI(w)&&_t.createElement("div",{ref:O,className:"swiper-scrollbar"}),JS(w)&&_t.createElement("div",{ref:H,className:"swiper-pagination"}),M["container-end"]))});lc.displayName="Swiper";const ko=B.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:a,lazy:u,virtualIndex:c,swiperSlideIndex:f,...p}=t===void 0?{}:t;const g=B.useRef(null),[_,S]=B.useState("swiper-slide"),[b,A]=B.useState(!1);function V(F,U,H){U===g.current&&S(H)}_u(()=>{if(typeof f<"u"&&(g.current.swiperSlideIndex=f),e&&(e.current=g.current),!(!g.current||!s)){if(s.destroyed){_!=="swiper-slide"&&S("swiper-slide");return}return s.on("_slideClass",V),()=>{s&&s.off("_slideClass",V)}}}),_u(()=>{s&&g.current&&!s.destroyed&&S(s.getSlideClasses(g.current))},[s]);const x={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},E=()=>typeof r=="function"?r(x):r,I=()=>{A(!0)};return _t.createElement(n,wh({ref:g,className:tI(`${_}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:I},p),a&&_t.createElement(Nw.Provider,{value:x},_t.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},E(),u&&!b&&_t.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&_t.createElement(Nw.Provider,{value:x},E(),u&&!b&&_t.createElement("div",{className:"swiper-lazy-preloader"})))});ko.displayName="SwiperSlide";function lL(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=ii(t.el,`.${r[i]}`)[0];s||(s=_h("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function Zl(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function uL(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let a,u=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(E,I){const{bulletActiveClass:F}=e.params.pagination;E&&(E=E[`${I==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${F}-${I}`),E=E[`${I==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${F}-${I}-${I}`)))}function p(E,I,F){if(E=E%F,I=I%F,I===E+1)return"next";if(I===E-1)return"previous"}function g(E){const I=E.target.closest(Zl(e.params.pagination.bulletClass));if(!I)return;E.preventDefault();const F=yh(I)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===F)return;const U=p(e.realIndex,F,e.slides.length);U==="next"?e.slideNext():U==="previous"?e.slidePrev():e.slideToLoop(F)}else e.slideTo(F)}function _(){const E=e.rtl,I=e.params.pagination;if(c())return;let F=e.pagination.el;F=ki(F);let U,H;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,w=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(H=e.previousRealIndex||0,U=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(U=e.snapIndex,H=e.previousSnapIndex):(H=e.previousIndex||0,U=e.activeIndex||0),I.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let k,D,j;if(I.dynamicBullets&&(a=Bm(C[0],e.isHorizontal()?"width":"height"),F.forEach(M=>{M.style[e.isHorizontal()?"width":"height"]=`${a*(I.dynamicMainBullets+4)}px`}),I.dynamicMainBullets>1&&H!==void 0&&(u+=U-(H||0),u>I.dynamicMainBullets-1?u=I.dynamicMainBullets-1:u<0&&(u=0)),k=Math.max(U-u,0),D=k+(Math.min(C.length,I.dynamicMainBullets)-1),j=(D+k)/2),C.forEach(M=>{const re=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(he=>`${I.bulletActiveClass}${he}`)].map(he=>typeof he=="string"&&he.includes(" ")?he.split(" "):he).flat();M.classList.remove(...re)}),F.length>1)C.forEach(M=>{const re=yh(M);re===U?M.classList.add(...I.bulletActiveClass.split(" ")):e.isElement&&M.setAttribute("part","bullet"),I.dynamicBullets&&(re>=k&&re<=D&&M.classList.add(...`${I.bulletActiveClass}-main`.split(" ")),re===k&&f(M,"prev"),re===D&&f(M,"next"))});else{const M=C[U];if(M&&M.classList.add(...I.bulletActiveClass.split(" ")),e.isElement&&C.forEach((re,he)=>{re.setAttribute("part",he===U?"bullet-active":"bullet")}),I.dynamicBullets){const re=C[k],he=C[D];for(let Se=k;Se<=D;Se+=1)C[Se]&&C[Se].classList.add(...`${I.bulletActiveClass}-main`.split(" "));f(re,"prev"),f(he,"next")}}if(I.dynamicBullets){const M=Math.min(C.length,I.dynamicMainBullets+4),re=(a*M-a)/2-j*a,he=E?"right":"left";C.forEach(Se=>{Se.style[e.isHorizontal()?he:"top"]=`${re}px`})}}F.forEach((C,k)=>{if(I.type==="fraction"&&(C.querySelectorAll(Zl(I.currentClass)).forEach(D=>{D.textContent=I.formatFractionCurrent(U+1)}),C.querySelectorAll(Zl(I.totalClass)).forEach(D=>{D.textContent=I.formatFractionTotal(w)})),I.type==="progressbar"){let D;I.progressbarOpposite?D=e.isHorizontal()?"vertical":"horizontal":D=e.isHorizontal()?"horizontal":"vertical";const j=(U+1)/w;let M=1,re=1;D==="horizontal"?M=j:re=j,C.querySelectorAll(Zl(I.progressbarFillClass)).forEach(he=>{he.style.transform=`translate3d(0,0,0) scaleX(${M}) scaleY(${re})`,he.style.transitionDuration=`${e.params.speed}ms`})}I.type==="custom"&&I.renderCustom?(C.innerHTML=I.renderCustom(e,U+1,w),k===0&&i("paginationRender",C)):(k===0&&i("paginationRender",C),i("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](I.lockClass)})}function S(){const E=e.params.pagination;if(c())return;const I=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let F=e.pagination.el;F=ki(F);let U="";if(E.type==="bullets"){let H=e.params.loop?Math.ceil(I/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&H>I&&(H=I);for(let O=0;O<H;O+=1)E.renderBullet?U+=E.renderBullet.call(e,O,E.bulletClass):U+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?U=E.renderFraction.call(e,E.currentClass,E.totalClass):U=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?U=E.renderProgressbar.call(e,E.progressbarFillClass):U=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],F.forEach(H=>{E.type!=="custom"&&(H.innerHTML=U||""),E.type==="bullets"&&e.pagination.bullets.push(...H.querySelectorAll(Zl(E.bulletClass)))}),E.type!=="custom"&&i("paginationRender",F[0])}function b(){e.params.pagination=lL(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let I;typeof E.el=="string"&&e.isElement&&(I=e.el.querySelector(E.el)),!I&&typeof E.el=="string"&&(I=[...document.querySelectorAll(E.el)]),I||(I=E.el),!(!I||I.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(I)&&I.length>1&&(I=[...e.el.querySelectorAll(E.el)],I.length>1&&(I=I.filter(F=>qS(F,".swiper")[0]===e.el)[0])),Array.isArray(I)&&I.length===1&&(I=I[0]),Object.assign(e.pagination,{el:I}),I=ki(I),I.forEach(F=>{E.type==="bullets"&&E.clickable&&F.classList.add(...(E.clickableClass||"").split(" ")),F.classList.add(E.modifierClass+E.type),F.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(F.classList.add(`${E.modifierClass}${E.type}-dynamic`),u=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&F.classList.add(E.progressbarOppositeClass),E.clickable&&F.addEventListener("click",g),e.enabled||F.classList.add(E.lockClass)}))}function A(){const E=e.params.pagination;if(c())return;let I=e.pagination.el;I&&(I=ki(I),I.forEach(F=>{F.classList.remove(E.hiddenClass),F.classList.remove(E.modifierClass+E.type),F.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(F.classList.remove(...(E.clickableClass||"").split(" ")),F.removeEventListener("click",g))})),e.pagination.bullets&&e.pagination.bullets.forEach(F=>F.classList.remove(...E.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:I}=e.pagination;I=ki(I),I.forEach(F=>{F.classList.remove(E.horizontalClass,E.verticalClass),F.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?x():(b(),S(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{S(),_()}),r("destroy",()=>{A()}),r("enable disable",()=>{let{el:E}=e.pagination;E&&(E=ki(E),E.forEach(I=>I.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(E,I)=>{const F=I.target,U=ki(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&U&&U.length>0&&!F.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&F===e.navigation.nextEl||e.navigation.prevEl&&F===e.navigation.prevEl))return;const H=U[0].classList.contains(e.params.pagination.hiddenClass);i(H===!0?"paginationShow":"paginationHide"),U.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const V=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=ki(E),E.forEach(I=>I.classList.remove(e.params.pagination.paginationDisabledClass))),b(),S(),_()},x=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=ki(E),E.forEach(I=>I.classList.add(e.params.pagination.paginationDisabledClass))),A()};Object.assign(e.pagination,{enable:V,disable:x,render:S,update:_,init:b,destroy:A})}function cL(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,u,c=s&&s.autoplay?s.autoplay.delay:3e3,f=s&&s.autoplay?s.autoplay.delay:3e3,p,g=new Date().getTime(),_,S,b,A,V,x,E;function I(K){!e||e.destroyed||!e.wrapperEl||K.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",I),!(E||K.detail&&K.detail.bySwiperTouchMove)&&k())}const F=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(f=p,_=!1);const K=e.autoplay.paused?p:g+f-new Date().getTime();e.autoplay.timeLeft=K,i("autoplayTimeLeft",K,K/c),u=requestAnimationFrame(()=>{F()})},U=()=>{let K;return e.virtual&&e.params.virtual.enabled?K=e.slides.filter(J=>J.classList.contains("swiper-slide-active"))[0]:K=e.slides[e.activeIndex],K?parseInt(K.getAttribute("data-swiper-autoplay"),10):void 0},H=K=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(u),F();let ie=typeof K>"u"?e.params.autoplay.delay:K;c=e.params.autoplay.delay,f=e.params.autoplay.delay;const J=U();!Number.isNaN(J)&&J>0&&typeof K>"u"&&(ie=J,c=J,f=J),p=ie;const ye=e.params.speed,me=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ye,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ye,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ye,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ye,!0,!0),i("autoplay")),e.params.cssMode&&(g=new Date().getTime(),requestAnimationFrame(()=>{H()})))};return ie>0?(clearTimeout(a),a=setTimeout(()=>{me()},ie)):requestAnimationFrame(()=>{me()}),ie},O=()=>{g=new Date().getTime(),e.autoplay.running=!0,H(),i("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(u),i("autoplayStop")},C=(K,ie)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),K||(x=!0);const J=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",I):k()};if(e.autoplay.paused=!0,ie){V&&(p=e.params.autoplay.delay),V=!1,J();return}p=(p||e.params.autoplay.delay)-(new Date().getTime()-g),!(e.isEnd&&p<0&&!e.params.loop)&&(p<0&&(p=0),J())},k=()=>{e.isEnd&&p<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(g=new Date().getTime(),x?(x=!1,H(p)):H(),e.autoplay.paused=!1,i("autoplayResume"))},D=()=>{if(e.destroyed||!e.autoplay.running)return;const K=Bi();K.visibilityState==="hidden"&&(x=!0,C(!0)),K.visibilityState==="visible"&&k()},j=K=>{K.pointerType==="mouse"&&(x=!0,E=!0,!(e.animating||e.autoplay.paused)&&C(!0))},M=K=>{K.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&k())},re=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",j),e.el.addEventListener("pointerleave",M))},he=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",j),e.el.removeEventListener("pointerleave",M))},Se=()=>{Bi().addEventListener("visibilitychange",D)},Fe=()=>{Bi().removeEventListener("visibilitychange",D)};r("init",()=>{e.params.autoplay.enabled&&(re(),Se(),O())}),r("destroy",()=>{he(),Fe(),e.autoplay.running&&w()}),r("_freeModeStaticRelease",()=>{(b||x)&&k()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():C(!0,!0)}),r("beforeTransitionStart",(K,ie,J)=>{e.destroyed||!e.autoplay.running||(J||!e.params.autoplay.disableOnInteraction?C(!0,!0):w())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}S=!0,b=!1,x=!1,A=setTimeout(()=>{x=!0,b=!0,C(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!S)){if(clearTimeout(A),clearTimeout(a),e.params.autoplay.disableOnInteraction){b=!1,S=!1;return}b&&e.params.cssMode&&k(),b=!1,S=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(V=!0)}),Object.assign(e.autoplay,{start:O,stop:w,pause:C,resume:k})}const dL=()=>{const[t,e]=B.useState(window.innerWidth<768);B.useEffect(()=>{const r=()=>{e(window.innerWidth<768)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);const n=[{title:"Eventix",text:"Organize, create, and manage",image:t?"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg1%20caruseel%20mob.webp?alt=media&token=1a40d335-808e-4a34-b4b4-10b91b3a4065":"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg1%20caruusel.webp?alt=media&token=33ae14cc-287d-42c0-a2a6-a9171f6bed6a"},{title:"Eventix",text:"Organize, create, and manage",image:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg2%20carrusel.webp?alt=media&token=be71b30c-5834-4e3e-bc63-df308450fe8b"},{title:"Eventix",text:"Organize, create, and manage",image:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/ImgLanding%2FImg3%20carrusel.webp?alt=media&token=6a6cd5f1-8505-401c-87ee-10af252c08da"}];return P.jsx(lc,{pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},modules:[uL,cL],className:"mySwiper",children:n.map((r,i)=>P.jsx(ko,{children:P.jsxs("div",{className:"banner-slide",style:{backgroundImage:`linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), 
                                linear-gradient(to bottom, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 1)), 
                                url(${r.image})`,backgroundSize:"cover",backgroundPosition:"center",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center"},children:[P.jsx("h1",{id:"banner_title",children:r.title}),P.jsx("p",{className:"banner_text",children:r.text}),P.jsx(Sv,{showPrimary:!1,showSecondary:!0})]})},i))})},hL=()=>P.jsxs("div",{className:"landing-screen",children:[P.jsx(bR,{}),P.jsx(dL,{}),P.jsx(LR,{}),P.jsx(OR,{})]});var Dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},sI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|f>>6,S=f&63;c||(S=64,a||(_=64)),r.push(n[p],n[g],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||g==null)throw new pL;const _=s<<2|u>>4;if(r.push(_),f!==64){const S=u<<4&240|f>>2;if(r.push(S),g!==64){const b=f<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mL=function(t){const e=iI(t);return sI.encodeByteArray(e,!0)},Eh=function(t){return mL(t).replace(/\./g,"")},oI=function(t){try{return sI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>gL().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof Dw>"u")return;const t=Dw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oI(t[1]);return e&&JSON.parse(e)},df=()=>{try{return vL()||_L()||yL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aI=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wL=t=>{const e=aI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lI=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config},uI=t=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function IL(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bL(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AL(){return!IL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RL(){try{return typeof indexedDB=="object"}catch{return!1}}function kL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LL,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?OL(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new es(i,u,r)}}function OL(t,e){return t.replace(ML,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ML=/\{\$([^}]+)}/g;function NL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Vw(s)&&Vw(a)){if(!Th(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ru(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DL(t,e){const n=new VL(t,e);return n.subscribe.bind(n)}class VL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kp),i.error===void 0&&(i.error=kp),i.complete===void 0&&(i.complete=kp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BL(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jL(t){return t===fo?void 0:t}function BL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const $L={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},HL=Ke.INFO,WL={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},qL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=HL,this._logHandler=qL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const GL=(t,e)=>e.some(n=>t instanceof n);let Fw,zw;function KL(){return Fw||(Fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZL(){return zw||(zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cI=new WeakMap,Hm=new WeakMap,dI=new WeakMap,Lp=new WeakMap,bv=new WeakMap;function QL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n($s(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cI.set(n,t)}).catch(()=>{}),bv.set(e,t),e}function YL(t){if(Hm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Hm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XL(t){Wm=t(Wm)}function JL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Op(this),e,...n);return dI.set(r,e.sort?e.sort():[e]),$s(r)}:ZL().includes(t)?function(...e){return t.apply(Op(this),e),$s(cI.get(this))}:function(...e){return $s(t.apply(Op(this),e))}}function eO(t){return typeof t=="function"?JL(t):(t instanceof IDBTransaction&&YL(t),GL(t,KL())?new Proxy(t,Wm):t)}function $s(t){if(t instanceof IDBRequest)return QL(t);if(Lp.has(t))return Lp.get(t);const e=eO(t);return e!==t&&(Lp.set(t,e),bv.set(e,t)),e}const Op=t=>bv.get(t);function tO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=$s(a);return r&&a.addEventListener("upgradeneeded",c=>{r($s(a.result),c.oldVersion,c.newVersion,$s(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const nO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],Mp=new Map;function jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nO.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Mp.set(e,s),s}XL(t=>({...t,get:(e,n,r)=>jw(e,n)||t.get(e,n,r),has:(e,n)=>!!jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",Bw="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Cv("@firebase/app"),oO="@firebase/app-compat",aO="@firebase/analytics-compat",lO="@firebase/analytics",uO="@firebase/app-check-compat",cO="@firebase/app-check",dO="@firebase/auth",hO="@firebase/auth-compat",fO="@firebase/database",pO="@firebase/data-connect",mO="@firebase/database-compat",gO="@firebase/functions",vO="@firebase/functions-compat",_O="@firebase/installations",yO="@firebase/installations-compat",wO="@firebase/messaging",EO="@firebase/messaging-compat",TO="@firebase/performance",SO="@firebase/performance-compat",IO="@firebase/remote-config",PO="@firebase/remote-config-compat",xO="@firebase/storage",CO="@firebase/storage-compat",bO="@firebase/firestore",AO="@firebase/vertexai-preview",RO="@firebase/firestore-compat",kO="firebase",LO="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",OO={[qm]:"fire-core",[oO]:"fire-core-compat",[lO]:"fire-analytics",[aO]:"fire-analytics-compat",[cO]:"fire-app-check",[uO]:"fire-app-check-compat",[dO]:"fire-auth",[hO]:"fire-auth-compat",[fO]:"fire-rtdb",[pO]:"fire-data-connect",[mO]:"fire-rtdb-compat",[gO]:"fire-fn",[vO]:"fire-fn-compat",[_O]:"fire-iid",[yO]:"fire-iid-compat",[wO]:"fire-fcm",[EO]:"fire-fcm-compat",[TO]:"fire-perf",[SO]:"fire-perf-compat",[IO]:"fire-rc",[PO]:"fire-rc-compat",[xO]:"fire-gcs",[CO]:"fire-gcs-compat",[bO]:"fire-fst",[RO]:"fire-fst-compat",[AO]:"fire-vertex","fire-js":"fire-js",[kO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,MO=new Map,Km=new Map;function Uw(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ja(t){const e=t.name;if(Km.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,t);for(const n of Sh.values())Uw(n,t);for(const n of MO.values())Uw(n,t);return!0}function Av(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new uc("app","Firebase",NO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=LO;function hI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hs.create("bad-app-name",{appName:String(i)});if(n||(n=lI()),!n)throw Hs.create("no-options");const s=Sh.get(i);if(s){if(Th(n,s.options)&&Th(r,s.config))return s;throw Hs.create("duplicate-app",{appName:i})}const a=new UL(i);for(const c of Km.values())a.addComponent(c);const u=new DO(n,r,a);return Sh.set(i,u),u}function fI(t=Gm){const e=Sh.get(t);if(!e&&t===Gm&&lI())return hI();if(!e)throw Hs.create("no-app",{appName:t});return e}function Ws(t,e,n){var r;let i=(r=OO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(u.join(" "));return}Ja(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="firebase-heartbeat-database",FO=1,$u="firebase-heartbeat-store";let Np=null;function pI(){return Np||(Np=tO(VO,FO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),Np}async function zO(t){try{const n=(await pI()).transaction($u),r=await n.objectStore($u).get(mI(t));return await n.done,r}catch(e){if(e instanceof es)Ki.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(n.message)}}}async function $w(t,e){try{const r=(await pI()).transaction($u,"readwrite");await r.objectStore($u).put(e,mI(t)),await r.done}catch(n){if(n instanceof es)Ki.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(r.message)}}}function mI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=1024,BO=30*24*60*60*1e3;class UO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=BO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hw(),{heartbeatsToSend:r,unsentEntries:i}=$O(this._heartbeatsCache.heartbeats),s=Eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ki.warn(n),""}}}function Hw(){return new Date().toISOString().substring(0,10)}function $O(t,e=jO){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Ww(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ww(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RL()?kL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ww(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){Ja(new Lo("platform-logger",e=>new iO(e),"PRIVATE")),Ja(new Lo("heartbeat",e=>new UO(e),"PRIVATE")),Ws(qm,Bw,t),Ws(qm,Bw,"esm2017"),Ws("fire-js","")}WO("");var qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var So,gI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function C(){}C.prototype=w.prototype,O.D=w.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(k,D,j){for(var M=Array(arguments.length-2),re=2;re<arguments.length;re++)M[re-2]=arguments[re];return w.prototype[D].apply(k,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,w,C){C||(C=0);var k=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)k[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;16>D;++D)k[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=O.g[0],C=O.g[1],D=O.g[2];var j=O.g[3],M=w+(j^C&(D^j))+k[0]+3614090360&4294967295;w=C+(M<<7&4294967295|M>>>25),M=j+(D^w&(C^D))+k[1]+3905402710&4294967295,j=w+(M<<12&4294967295|M>>>20),M=D+(C^j&(w^C))+k[2]+606105819&4294967295,D=j+(M<<17&4294967295|M>>>15),M=C+(w^D&(j^w))+k[3]+3250441966&4294967295,C=D+(M<<22&4294967295|M>>>10),M=w+(j^C&(D^j))+k[4]+4118548399&4294967295,w=C+(M<<7&4294967295|M>>>25),M=j+(D^w&(C^D))+k[5]+1200080426&4294967295,j=w+(M<<12&4294967295|M>>>20),M=D+(C^j&(w^C))+k[6]+2821735955&4294967295,D=j+(M<<17&4294967295|M>>>15),M=C+(w^D&(j^w))+k[7]+4249261313&4294967295,C=D+(M<<22&4294967295|M>>>10),M=w+(j^C&(D^j))+k[8]+1770035416&4294967295,w=C+(M<<7&4294967295|M>>>25),M=j+(D^w&(C^D))+k[9]+2336552879&4294967295,j=w+(M<<12&4294967295|M>>>20),M=D+(C^j&(w^C))+k[10]+4294925233&4294967295,D=j+(M<<17&4294967295|M>>>15),M=C+(w^D&(j^w))+k[11]+2304563134&4294967295,C=D+(M<<22&4294967295|M>>>10),M=w+(j^C&(D^j))+k[12]+1804603682&4294967295,w=C+(M<<7&4294967295|M>>>25),M=j+(D^w&(C^D))+k[13]+4254626195&4294967295,j=w+(M<<12&4294967295|M>>>20),M=D+(C^j&(w^C))+k[14]+2792965006&4294967295,D=j+(M<<17&4294967295|M>>>15),M=C+(w^D&(j^w))+k[15]+1236535329&4294967295,C=D+(M<<22&4294967295|M>>>10),M=w+(D^j&(C^D))+k[1]+4129170786&4294967295,w=C+(M<<5&4294967295|M>>>27),M=j+(C^D&(w^C))+k[6]+3225465664&4294967295,j=w+(M<<9&4294967295|M>>>23),M=D+(w^C&(j^w))+k[11]+643717713&4294967295,D=j+(M<<14&4294967295|M>>>18),M=C+(j^w&(D^j))+k[0]+3921069994&4294967295,C=D+(M<<20&4294967295|M>>>12),M=w+(D^j&(C^D))+k[5]+3593408605&4294967295,w=C+(M<<5&4294967295|M>>>27),M=j+(C^D&(w^C))+k[10]+38016083&4294967295,j=w+(M<<9&4294967295|M>>>23),M=D+(w^C&(j^w))+k[15]+3634488961&4294967295,D=j+(M<<14&4294967295|M>>>18),M=C+(j^w&(D^j))+k[4]+3889429448&4294967295,C=D+(M<<20&4294967295|M>>>12),M=w+(D^j&(C^D))+k[9]+568446438&4294967295,w=C+(M<<5&4294967295|M>>>27),M=j+(C^D&(w^C))+k[14]+3275163606&4294967295,j=w+(M<<9&4294967295|M>>>23),M=D+(w^C&(j^w))+k[3]+4107603335&4294967295,D=j+(M<<14&4294967295|M>>>18),M=C+(j^w&(D^j))+k[8]+1163531501&4294967295,C=D+(M<<20&4294967295|M>>>12),M=w+(D^j&(C^D))+k[13]+2850285829&4294967295,w=C+(M<<5&4294967295|M>>>27),M=j+(C^D&(w^C))+k[2]+4243563512&4294967295,j=w+(M<<9&4294967295|M>>>23),M=D+(w^C&(j^w))+k[7]+1735328473&4294967295,D=j+(M<<14&4294967295|M>>>18),M=C+(j^w&(D^j))+k[12]+2368359562&4294967295,C=D+(M<<20&4294967295|M>>>12),M=w+(C^D^j)+k[5]+4294588738&4294967295,w=C+(M<<4&4294967295|M>>>28),M=j+(w^C^D)+k[8]+2272392833&4294967295,j=w+(M<<11&4294967295|M>>>21),M=D+(j^w^C)+k[11]+1839030562&4294967295,D=j+(M<<16&4294967295|M>>>16),M=C+(D^j^w)+k[14]+4259657740&4294967295,C=D+(M<<23&4294967295|M>>>9),M=w+(C^D^j)+k[1]+2763975236&4294967295,w=C+(M<<4&4294967295|M>>>28),M=j+(w^C^D)+k[4]+1272893353&4294967295,j=w+(M<<11&4294967295|M>>>21),M=D+(j^w^C)+k[7]+4139469664&4294967295,D=j+(M<<16&4294967295|M>>>16),M=C+(D^j^w)+k[10]+3200236656&4294967295,C=D+(M<<23&4294967295|M>>>9),M=w+(C^D^j)+k[13]+681279174&4294967295,w=C+(M<<4&4294967295|M>>>28),M=j+(w^C^D)+k[0]+3936430074&4294967295,j=w+(M<<11&4294967295|M>>>21),M=D+(j^w^C)+k[3]+3572445317&4294967295,D=j+(M<<16&4294967295|M>>>16),M=C+(D^j^w)+k[6]+76029189&4294967295,C=D+(M<<23&4294967295|M>>>9),M=w+(C^D^j)+k[9]+3654602809&4294967295,w=C+(M<<4&4294967295|M>>>28),M=j+(w^C^D)+k[12]+3873151461&4294967295,j=w+(M<<11&4294967295|M>>>21),M=D+(j^w^C)+k[15]+530742520&4294967295,D=j+(M<<16&4294967295|M>>>16),M=C+(D^j^w)+k[2]+3299628645&4294967295,C=D+(M<<23&4294967295|M>>>9),M=w+(D^(C|~j))+k[0]+4096336452&4294967295,w=C+(M<<6&4294967295|M>>>26),M=j+(C^(w|~D))+k[7]+1126891415&4294967295,j=w+(M<<10&4294967295|M>>>22),M=D+(w^(j|~C))+k[14]+2878612391&4294967295,D=j+(M<<15&4294967295|M>>>17),M=C+(j^(D|~w))+k[5]+4237533241&4294967295,C=D+(M<<21&4294967295|M>>>11),M=w+(D^(C|~j))+k[12]+1700485571&4294967295,w=C+(M<<6&4294967295|M>>>26),M=j+(C^(w|~D))+k[3]+2399980690&4294967295,j=w+(M<<10&4294967295|M>>>22),M=D+(w^(j|~C))+k[10]+4293915773&4294967295,D=j+(M<<15&4294967295|M>>>17),M=C+(j^(D|~w))+k[1]+2240044497&4294967295,C=D+(M<<21&4294967295|M>>>11),M=w+(D^(C|~j))+k[8]+1873313359&4294967295,w=C+(M<<6&4294967295|M>>>26),M=j+(C^(w|~D))+k[15]+4264355552&4294967295,j=w+(M<<10&4294967295|M>>>22),M=D+(w^(j|~C))+k[6]+2734768916&4294967295,D=j+(M<<15&4294967295|M>>>17),M=C+(j^(D|~w))+k[13]+1309151649&4294967295,C=D+(M<<21&4294967295|M>>>11),M=w+(D^(C|~j))+k[4]+4149444226&4294967295,w=C+(M<<6&4294967295|M>>>26),M=j+(C^(w|~D))+k[11]+3174756917&4294967295,j=w+(M<<10&4294967295|M>>>22),M=D+(w^(j|~C))+k[2]+718787259&4294967295,D=j+(M<<15&4294967295|M>>>17),M=C+(j^(D|~w))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+j&4294967295}r.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var C=w-this.blockSize,k=this.B,D=this.h,j=0;j<w;){if(D==0)for(;j<=C;)i(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<w;)if(k[D++]=O.charCodeAt(j++),D==this.blockSize){i(this,k),D=0;break}}else for(;j<w;)if(k[D++]=O[j++],D==this.blockSize){i(this,k),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var C=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=C&255,C/=256;for(this.u(O),O=Array(16),w=C=0;4>w;++w)for(var k=0;32>k;k+=8)O[C++]=this.g[w]>>>k&255;return O};function s(O,w){var C=u;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=w(O)}function a(O,w){this.h=w;for(var C=[],k=!0,D=O.length-1;0<=D;D--){var j=O[D]|0;k&&j==w||(C[D]=j,k=!1)}this.g=C}var u={};function c(O){return-128<=O&&128>O?s(O,function(w){return new a([w|0],0>w?-1:0)}):new a([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return V(f(-O));for(var w=[],C=1,k=0;O>=C;k++)w[k]=O/C|0,C*=4294967296;return new a(w,0)}function p(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return V(p(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(w,8)),k=g,D=0;D<O.length;D+=8){var j=Math.min(8,O.length-D),M=parseInt(O.substring(D,D+j),w);8>j?(j=f(Math.pow(w,j)),k=k.j(j).add(f(M))):(k=k.j(C),k=k.add(f(M)))}return k}var g=c(0),_=c(1),S=c(16777216);t=a.prototype,t.m=function(){if(A(this))return-V(this).m();for(var O=0,w=1,C=0;C<this.g.length;C++){var k=this.i(C);O+=(0<=k?k:4294967296+k)*w,w*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(A(this))return"-"+V(this).toString(O);for(var w=f(Math.pow(O,6)),C=this,k="";;){var D=F(C,w).g;C=x(C,D.j(w));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=D,b(C))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function A(O){return O.h==-1}t.l=function(O){return O=x(this,O),A(O)?-1:b(O)?0:1};function V(O){for(var w=O.g.length,C=[],k=0;k<w;k++)C[k]=~O.g[k];return new a(C,~O.h).add(_)}t.abs=function(){return A(this)?V(this):this},t.add=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],k=0,D=0;D<=w;D++){var j=k+(this.i(D)&65535)+(O.i(D)&65535),M=(j>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);k=M>>>16,j&=65535,M&=65535,C[D]=M<<16|j}return new a(C,C[C.length-1]&-2147483648?-1:0)};function x(O,w){return O.add(V(w))}t.j=function(O){if(b(this)||b(O))return g;if(A(this))return A(O)?V(this).j(V(O)):V(V(this).j(O));if(A(O))return V(this.j(V(O)));if(0>this.l(S)&&0>O.l(S))return f(this.m()*O.m());for(var w=this.g.length+O.g.length,C=[],k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<O.g.length;D++){var j=this.i(k)>>>16,M=this.i(k)&65535,re=O.i(D)>>>16,he=O.i(D)&65535;C[2*k+2*D]+=M*he,E(C,2*k+2*D),C[2*k+2*D+1]+=j*he,E(C,2*k+2*D+1),C[2*k+2*D+1]+=M*re,E(C,2*k+2*D+1),C[2*k+2*D+2]+=j*re,E(C,2*k+2*D+2)}for(k=0;k<w;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=w;k<2*w;k++)C[k]=0;return new a(C,0)};function E(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function I(O,w){this.g=O,this.h=w}function F(O,w){if(b(w))throw Error("division by zero");if(b(O))return new I(g,g);if(A(O))return w=F(V(O),w),new I(V(w.g),V(w.h));if(A(w))return w=F(O,V(w)),new I(V(w.g),w.h);if(30<O.g.length){if(A(O)||A(w))throw Error("slowDivide_ only works with positive integers.");for(var C=_,k=w;0>=k.l(O);)C=U(C),k=U(k);var D=H(C,1),j=H(k,1);for(k=H(k,2),C=H(C,2);!b(k);){var M=j.add(k);0>=M.l(O)&&(D=D.add(C),j=M),k=H(k,1),C=H(C,1)}return w=x(O,D.j(w)),new I(D,w)}for(D=g;0<=O.l(w);){for(C=Math.max(1,Math.floor(O.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=f(C),M=j.j(w);A(M)||0<M.l(O);)C-=k,j=f(C),M=j.j(w);b(j)&&(j=_),D=D.add(j),O=x(O,M)}return new I(D,O)}t.A=function(O){return F(this,O).h},t.and=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],k=0;k<w;k++)C[k]=this.i(k)&O.i(k);return new a(C,this.h&O.h)},t.or=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],k=0;k<w;k++)C[k]=this.i(k)|O.i(k);return new a(C,this.h|O.h)},t.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],k=0;k<w;k++)C[k]=this.i(k)^O.i(k);return new a(C,this.h^O.h)};function U(O){for(var w=O.g.length+1,C=[],k=0;k<w;k++)C[k]=O.i(k)<<1|O.i(k-1)>>>31;return new a(C,O.h)}function H(O,w){var C=w>>5;w%=32;for(var k=O.g.length-C,D=[],j=0;j<k;j++)D[j]=0<w?O.i(j+C)>>>w|O.i(j+C+1)<<32-w:O.i(j+C);return new a(D,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=p,So=a}).apply(typeof qw<"u"?qw:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vI,su,_I,kd,Zm,yI,wI,EI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var T=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var q=d[N];if(!(q in T))break e;T=T[q]}d=d[d.length-1],N=T[d],v=v(N),v!=N&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function s(d,v){d instanceof String&&(d+="");var T=0,N=!1,q={next:function(){if(!N&&T<d.length){var Y=T++;return{value:v(Y,d[Y]),done:!1}}return N=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return s(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function p(d,v,T){return d.call.apply(d.bind,arguments)}function g(d,v,T){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,N),d.apply(v,q)}}return function(){return d.apply(v,arguments)}}function _(d,v,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function S(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function b(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(N,q,Y){for(var le=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)le[nt-2]=arguments[nt];return v.prototype[q].apply(N,le)}}function A(d){const v=d.length;if(0<v){const T=Array(v);for(let N=0;N<v;N++)T[N]=d[N];return T}return[]}function V(d,v){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(c(N)){const q=d.length||0,Y=N.length||0;d.length=q+Y;for(let le=0;le<Y;le++)d[q+le]=N[le]}else d.push(N)}}class x{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function E(d){return/^[\s\xa0]*$/.test(d)}function I(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var U=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function H(d,v,T){for(const N in d)v.call(T,d[N],N,d)}function O(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function w(d){const v={};for(const T in d)v[T]=d[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let T,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(T in N)d[T]=N[T];for(let Y=0;Y<C.length;Y++)T=C[Y],Object.prototype.hasOwnProperty.call(N,T)&&(d[T]=N[T])}}function D(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function j(d){u.setTimeout(()=>{throw d},0)}function M(){var d=ie;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class re{constructor(){this.h=this.g=null}add(v,T){const N=he.get();N.set(v,T),this.h?this.h.next=N:this.g=N,this.h=N}}var he=new x(()=>new Se,d=>d.reset());class Se{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,K=!1,ie=new re,J=()=>{const d=u.Promise.resolve(void 0);Fe=()=>{d.then(ye)}};var ye=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(T){j(T)}var v=he;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}K=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return d}();function Ce(d,v){if(Pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(U){e:{try{F(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Te[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ce.aa.h.call(this)}}b(Ce,Pe);var Te={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Ur(d,v,T,N,q){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!N,this.ha=q,this.key=++Ut,this.da=this.fa=!1}function wn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function cr(d){this.src=d,this.g={},this.h=0}cr.prototype.add=function(d,v,T,N,q){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var le=gi(d,v,N,q);return-1<le?(v=d[le],T||(v.fa=!1)):(v=new Ur(v,this.src,Y,!!N,q),v.fa=T,d.push(v)),v};function xr(d,v){var T=v.type;if(T in d.g){var N=d.g[T],q=Array.prototype.indexOf.call(N,v,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(N,q,1),Y&&(wn(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function gi(d,v,T,N){for(var q=0;q<d.length;++q){var Y=d[q];if(!Y.da&&Y.listener==v&&Y.capture==!!T&&Y.ha==N)return q}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Gn={};function ts(d,v,T,N,q){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)ts(d,v[Y],T,N,q);return null}return T=Ko(T),d&&d[Xe]?d.K(v,T,f(N)?!!N.capture:!!N,q):so(d,v,T,!1,N,q)}function so(d,v,T,N,q,Y){if(!v)throw Error("Invalid event type");var le=f(q)?!!q.capture:!!q,nt=rs(d);if(nt||(d[kt]=nt=new cr(d)),T=nt.add(v,T,N,le,Y),T.proxy)return T;if(N=Rn(),T.proxy=N,N.src=d,N.listener=T,d.addEventListener)Me||(q=le),q===void 0&&(q=!1),d.addEventListener(v.toString(),N,q);else if(d.attachEvent)d.attachEvent(vi(v.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Rn(){function d(T){return v.call(d.src,d.listener,T)}const v=Go;return d}function qo(d,v,T,N,q){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)qo(d,v[Y],T,N,q);else N=f(N)?!!N.capture:!!N,T=Ko(T),d&&d[Xe]?(d=d.i,v=String(v).toString(),v in d.g&&(Y=d.g[v],T=gi(Y,T,N,q),-1<T&&(wn(Y[T]),Array.prototype.splice.call(Y,T,1),Y.length==0&&(delete d.g[v],d.h--)))):d&&(d=rs(d))&&(v=d.g[v.toString()],d=-1,v&&(d=gi(v,T,N,q)),(T=-1<d?v[d]:null)&&ns(T))}function ns(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Xe])xr(v.i,d);else{var T=d.type,N=d.proxy;v.removeEventListener?v.removeEventListener(T,N,d.capture):v.detachEvent?v.detachEvent(vi(T),N):v.addListener&&v.removeListener&&v.removeListener(N),(T=rs(v))?(xr(T,d),T.h==0&&(T.src=null,v[kt]=null)):wn(d)}}}function vi(d){return d in Gn?Gn[d]:Gn[d]="on"+d}function Go(d,v){if(d.da)d=!0;else{v=new Ce(v,this);var T=d.listener,N=d.ha||d.src;d.fa&&ns(d),d=T.call(N,v)}return d}function rs(d){return d=d[kt],d instanceof cr?d:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(d){return typeof d=="function"?d:(d[oo]||(d[oo]=function(v){return d.handleEvent(v)}),d[oo])}function st(){me.call(this),this.i=new cr(this),this.M=this,this.F=null}b(st,me),st.prototype[Xe]=!0,st.prototype.removeEventListener=function(d,v,T,N){qo(this,d,v,T,N)};function mt(d,v){var T,N=d.F;if(N)for(T=[];N;N=N.F)T.push(N);if(d=d.M,N=v.type||v,typeof v=="string")v=new Pe(v,d);else if(v instanceof Pe)v.target=v.target||d;else{var q=v;v=new Pe(N,d),k(v,q)}if(q=!0,T)for(var Y=T.length-1;0<=Y;Y--){var le=v.g=T[Y];q=$r(le,N,!0,v)&&q}if(le=v.g=d,q=$r(le,N,!0,v)&&q,q=$r(le,N,!1,v)&&q,T)for(Y=0;Y<T.length;Y++)le=v.g=T[Y],q=$r(le,N,!1,v)&&q}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],N=0;N<T.length;N++)wn(T[N]);delete d.g[v],d.h--}}this.F=null},st.prototype.K=function(d,v,T,N){return this.i.add(String(d),v,!1,T,N)},st.prototype.L=function(d,v,T,N){return this.i.add(String(d),v,!0,T,N)};function $r(d,v,T,N){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Y=0;Y<v.length;++Y){var le=v[Y];if(le&&!le.da&&le.capture==T){var nt=le.listener,Dt=le.ha||le.src;le.fa&&xr(d.i,le),q=nt.call(Dt,N)!==!1&&q}}return q&&!N.defaultPrevented}function is(d,v,T){if(typeof d=="function")T&&(d=_(d,T));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function kn(d){d.g=is(()=>{d.g=null,d.i&&(d.i=!1,kn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ln extends me{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(d){me.call(this),this.h=d,this.g={}}b(Hr,me);var Wr=[];function ss(d){H(d.g,function(v,T){this.g.hasOwnProperty(T)&&ns(v)},d),d.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),ss(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=u.JSON.stringify,Zo=u.JSON.parse,qr=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function os(){}os.prototype.h=null;function Qo(d){return d.h||(d.h=d.i())}function as(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){Pe.call(this,"d")}b(_i,Pe);function yi(){Pe.call(this,"c")}b(yi,Pe);var On={},ls=null;function us(){return ls=ls||new st}On.La="serverreachability";function ao(d){Pe.call(this,On.La,d)}b(ao,Pe);function wi(d){const v=us();mt(v,new ao(v))}On.STAT_EVENT="statevent";function Ei(d,v){Pe.call(this,On.STAT_EVENT,d),this.stat=v}b(Ei,Pe);function Ct(d){const v=us();mt(v,new Ei(v,d))}On.Ma="timingevent";function Ti(d,v){Pe.call(this,On.Ma,d),this.size=v}b(Ti,Pe);function Gr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function Mn(d,v,T,N,q,Y){d.info(function(){if(d.g)if(Y)for(var le="",nt=Y.split("&"),Dt=0;Dt<nt.length;Dt++){var Ze=nt[Dt].split("=");if(1<Ze.length){var at=Ze[0];Ze=Ze[1];var Et=at.split("_");le=2<=Et.length&&Et[1]=="type"?le+(at+"="+Ze+"&"):le+(at+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+v+`
`+T+`
`+le})}function z(d,v,T,N,q,Y,le){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+v+`
`+T+`
`+Y+" "+le})}function W(d,v,T,N){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+ee(d,T)+(N?" "+N:"")})}function Z(d,v){d.info(function(){return"TIMEOUT: "+v})}Si.prototype.info=function(){};function ee(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var N=T[d];if(!(2>N.length)){var q=N[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return En(T)}catch{return v}}var ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},we={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function ae(){}b(ae,os),ae.prototype.g=function(){return new XMLHttpRequest},ae.prototype.i=function(){return{}},xe=new ae;function ve(d,v,T,N){this.j=d,this.i=v,this.l=T,this.R=N||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var _e={},Ue={};function Ge(d,v,T){d.L=1,d.v=fr(bt(v)),d.m=T,d.P=!0,tt(d,null)}function tt(d,v){d.F=Date.now(),ut(d),d.A=bt(d.v);var T=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),xc(T.i,"t",N),d.C=0,T=d.j.J,d.h=new ge,d.g=Oc(d.j,T?v:null,!d.m),0<d.O&&(d.M=new Ln(_(d.Y,d,d.g),d.O)),v=d.U,T=d.g,N=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Wr[0]=q.toString()),q=Wr);for(var Y=0;Y<q.length;Y++){var le=ts(T,q[Y],N||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),wi(),Mn(d.i,d.u,d.A,d.l,d.R,d.m)}ve.prototype.ca=function(d){d=d.target;const v=this.M;v&&Sn(d)==3?v.j():this.Y(d)},ve.prototype.Y=function(d){try{if(d==this.g)e:{const Et=Sn(this.g);var v=this.g.Ba();const ms=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Al(this.g)))){this.J||Et!=4||v==7||(v==8||0>=ms?wi(3):wi(2)),Tn(this);var T=this.g.Z();this.X=T;t:if(je(this)){var N=Al(this.g);d="";var q=N.length,Y=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),Nn(this);var le="";break t}this.h.i=new u.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,d+=this.h.i.decode(N[v],{stream:!(Y&&v==q-1)});N.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=T==200,z(this.i,this.u,this.A,this.l,this.R,Et,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Dt=this.g;if((nt=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(nt)){var Ze=nt;break t}}Ze=null}if(T=Ze)W(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dr(this,T);else{this.o=!1,this.s=3,Ct(12),Gt(this),Nn(this);break e}}if(this.P){T=!0;let Ot;for(;!this.J&&this.C<le.length;)if(Ot=dt(this,le),Ot==Ue){Et==4&&(this.s=4,Ct(14),T=!1),W(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==_e){this.s=4,Ct(15),W(this.i,this.l,le,"[Invalid Chunk]"),T=!1;break}else W(this.i,this.l,Ot,null),dr(this,Ot);if(je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||le.length!=0||this.h.h||(this.s=1,Ct(16),T=!1),this.o=this.o&&T,!T)W(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),Nn(this);else if(0<le.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),sa(at),at.M=!0,Ct(11))}}else W(this.i,this.l,le,null),dr(this,le);Et==4&&Gt(this),this.o&&!this.J&&(Et==4?kl(this.j,this):(this.o=!1,ut(this)))}else Bf(this.g),T==400&&0<le.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Gt(this),Nn(this)}}}catch{}finally{}};function je(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function dt(d,v){var T=d.C,N=v.indexOf(`
`,T);return N==-1?Ue:(T=Number(v.substring(T,N)),isNaN(T)?_e:(N+=1,N+T>v.length?Ue:(v=v.slice(N,N+T),d.C=N+T,v)))}ve.prototype.cancel=function(){this.J=!0,Gt(this)};function ut(d){d.S=Date.now()+d.I,Kr(d,d.I)}function Kr(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Gr(_(d.ba,d),v)}function Tn(d){d.B&&(u.clearTimeout(d.B),d.B=null)}ve.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Z(this.i,this.A),this.L!=2&&(wi(),Ct(17)),Gt(this),this.s=2,Nn(this)):Kr(this,this.S-d)};function Nn(d){d.j.G==0||d.J||kl(d.j,d)}function Gt(d){Tn(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,ss(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function dr(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||ue(T.h,d))){if(!d.K&&ue(T.h,d)&&T.G==3){try{var N=T.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)aa(T),ra(T);else break e;ia(T),Ct(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=Gr(_(T.Za,T),6e3));if(1>=Zn(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ci(T,11)}else if((d.K||T.g==d)&&aa(T),!E(v))for(q=T.Da.g.parse(v),v=0;v<q.length;v++){let Ze=q[v];if(T.T=Ze[0],Ze=Ze[1],T.G==2)if(Ze[0]=="c"){T.K=Ze[1],T.ia=Ze[2];const at=Ze[3];at!=null&&(T.la=at,T.j.info("VER="+T.la));const Et=Ze[4];Et!=null&&(T.Aa=Et,T.j.info("SVER="+T.Aa));const ms=Ze[5];ms!=null&&typeof ms=="number"&&0<ms&&(N=1.5*ms,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Ot=d.g;if(Ot){const ua=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var Y=N.h;Y.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(be(Y,Y.h),Y.h=null))}if(N.D){const Jr=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;Jr&&(N.ya=Jr,Le(N.I,N.D,Jr))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var le=d;if(N.qa=la(N,N.J?N.ia:null,N.W),le.K){Lt(N.h,le);var nt=le,Dt=N.L;Dt&&(nt.I=Dt),nt.B&&(Tn(nt),ut(nt)),N.g=le}else Ar(N);0<T.i.length&&ps(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Ci(T,7);else T.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ci(T,7):na(T):Ze[0]!="noop"&&T.l&&T.l.ta(Ze),T.v=0)}}wi(4)}catch{}}var tn=class{constructor(d,v){this.g=d,this.map=v}};function Zr(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Zn(d){return d.h?1:d.g?d.g.size:0}function ue(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function be(d,v){d.g?d.g.add(v):d.h=v}function Lt(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Zr.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Je(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return A(d.i)}function Kt(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var v=[],T=d.length,N=0;N<T;N++)v.push(d[N]);return v}v=[],T=0;for(N in d)v[T++]=d[N];return v}function cs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const N in d)v[T++]=N;return v}}}function Ne(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=cs(d),N=Kt(d),q=N.length,Y=0;Y<q;Y++)v.call(void 0,N[Y],T&&T[Y],d)}var gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _l(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var N=d[T].indexOf("="),q=null;if(0<=N){var Y=d[T].substring(0,N);q=d[T].substring(N+1)}else Y=d[T];v(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof hr){this.h=d.h,Yo(this,d.j),this.o=d.o,this.g=d.g,Ii(this,d.s),this.l=d.l;var v=d.i,T=new Pi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Yr(this,T),this.m=d.m}else d&&(v=String(d).match(gt))?(this.h=!1,Yo(this,v[1]||"",!0),this.o=Cr(v[2]||""),this.g=Cr(v[3]||"",!0),Ii(this,v[4]),this.l=Cr(v[5]||"",!0),Yr(this,v[6]||"",!0),this.m=Cr(v[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}hr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(br(v,ds,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(br(v,ds,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(br(T,T.charAt(0)=="/"?El:wl,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",br(T,Tl)),d.join("")};function bt(d){return new hr(d)}function Yo(d,v,T){d.j=T?Cr(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ii(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Yr(d,v,T){v instanceof Pi?(d.i=v,pr(d.i,d.h)):(T||(v=br(v,Xo)),d.i=new Pi(v,d.h))}function Le(d,v,T){d.i.set(v,T)}function fr(d){return Le(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Cr(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function br(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,yl),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ds=/[#\/\?@]/g,wl=/[#\?:]/g,El=/[#\?]/g,Xo=/[#\?@]/g,Tl=/#/g;function Pi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Qn(d){d.g||(d.g=new Map,d.h=0,d.i&&_l(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Pi.prototype,t.add=function(d,v){Qn(this),this.i=null,d=Ae(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Sl(d,v){Qn(d),v=Ae(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Jo(d,v){return Qn(d),v=Ae(d,v),d.g.has(v)}t.forEach=function(d,v){Qn(this),this.g.forEach(function(T,N){T.forEach(function(q){d.call(v,q,N,this)},this)},this)},t.na=function(){Qn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let N=0;N<v.length;N++){const q=d[N];for(let Y=0;Y<q.length;Y++)T.push(v[N])}return T},t.V=function(d){Qn(this);let v=[];if(typeof d=="string")Jo(this,d)&&(v=v.concat(this.g.get(Ae(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},t.set=function(d,v){return Qn(this),this.i=null,d=Ae(this,d),Jo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function xc(d,v,T){Sl(d,v),0<T.length&&(d.i=null,d.g.set(Ae(d,v),A(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var N=v[T];const Y=encodeURIComponent(String(N)),le=this.V(N);for(N=0;N<le.length;N++){var q=Y;le[N]!==""&&(q+="="+encodeURIComponent(String(le[N]))),d.push(q)}}return this.i=d.join("&")};function Ae(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function pr(d,v){v&&!d.j&&(Qn(d),d.i=null,d.g.forEach(function(T,N){var q=N.toLowerCase();N!=q&&(Sl(this,N),xc(this,q,T))},d)),d.j=v}function ot(d,v){const T=new Si;if(u.Image){const N=new Image;N.onload=S(mr,T,"TestLoadImage: loaded",!0,v,N),N.onerror=S(mr,T,"TestLoadImage: error",!1,v,N),N.onabort=S(mr,T,"TestLoadImage: abort",!1,v,N),N.ontimeout=S(mr,T,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else v(!1)}function Cc(d,v){const T=new Si,N=new AbortController,q=setTimeout(()=>{N.abort(),mr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:N.signal}).then(Y=>{clearTimeout(q),Y.ok?mr(T,"TestPingServer: ok",!0,v):mr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),mr(T,"TestPingServer: error",!1,v)})}function mr(d,v,T,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(T)}catch{}}function Il(){this.g=new qr}function Pl(d,v,T){const N=T||"";try{Ne(d,function(q,Y){let le=q;f(q)&&(le=En(q)),v.push(N+Y+"="+encodeURIComponent(le))})}catch(q){throw v.push(N+"type="+encodeURIComponent("_badmap")),q}}function gr(d){this.l=d.Ub||null,this.j=d.eb||!1}b(gr,os),gr.prototype.g=function(){return new hs(this.l,this.j)},gr.prototype.i=function(d){return function(){return d}}({});function hs(d,v){st.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(hs,st),t=hs.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Yn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wt(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fs(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function fs(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?wt(this):Yn(this),this.readyState==3&&fs(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,wt(this))},t.Qa=function(d){this.g&&(this.response=d,wt(this))},t.ga=function(){this.g&&wt(this)};function wt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Yn(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Yn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function xl(d){let v="";return H(d,function(T,N){v+=N,v+=":",v+=T,v+=`\r
`}),v}function ea(d,v,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=xl(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Le(d,v,T))}function vt(d){st.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(vt,st);var bc=/^https?$/i,Cl=["POST","PUT"];t=vt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?Qo(this.o):Qo(xe),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){Ac(this,Y);return}if(d=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)T.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())T.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Cl,v,void 0))||N||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of T)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dn(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Ac(this,Y)}};function Ac(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,bl(d),ta(d)}function bl(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$e(this):this.bb())},t.bb=function(){$e(this)};function $e(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Sn(d)!=4||d.Z()!=2)){if(d.u&&Sn(d)==4)is(d.Ea,0,d);else if(mt(d,"readystatechange"),Sn(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var N;if(N=le===0){var q=String(d.D).match(gt)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),N=!bc.test(q?q.toLowerCase():"")}T=N}if(T)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var Y=2<Sn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",bl(d)}}finally{ta(d)}}}}function ta(d,v){if(d.g){Dn(d);const T=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||mt(d,"ready");try{T.onreadystatechange=N}catch{}}}function Dn(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Sn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Zo(v)}};function Al(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Bf(d){const v={};d=(d.g&&2<=Sn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(E(d[N]))continue;var T=D(d[N]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=v[q]||[];v[q]=Y,Y.push(T)}O(v,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Rc(d){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xi("baseRetryDelayMs",5e3,d),this.cb=xi("retryDelaySeedMs",1e4,d),this.Wa=xi("forwardChannelMaxRetries",2,d),this.wa=xi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Zr(d&&d.concurrentRequestLimit),this.Da=new Il,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rc.prototype,t.la=8,t.G=1,t.connect=function(d,v,T,N){Ct(0),this.W=d,this.H=v||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=la(this,null,this.W),ps(this)};function na(d){if(kc(d),d.G==3){var v=d.U++,T=bt(d.I);if(Le(T,"SID",d.K),Le(T,"RID",v),Le(T,"TYPE","terminate"),lo(d,T),v=new ve(d,d.j,v),v.L=2,v.v=fr(bt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.v,T=!0),T||(v.g=Oc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ut(v)}Lc(d)}function ra(d){d.g&&(sa(d),d.g.cancel(),d.g=null)}function kc(d){ra(d),d.u&&(u.clearTimeout(d.u),d.u=null),aa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function ps(d){if(!Qr(d.h)&&!d.s){d.s=!0;var v=d.Ga;Fe||J(),K||(Fe(),K=!0),ie.add(v,d),d.B=0}}function Uf(d,v){return Zn(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Gr(_(d.Ga,d,v),Ll(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new ve(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=w(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Rl(this,q,v),T=bt(this.I),Le(T,"RID",d),Le(T,"CVER",22),this.D&&Le(T,"X-HTTP-Session-Id",this.D),lo(this,T),Y&&(this.O?v="headers="+encodeURIComponent(String(xl(Y)))+"&"+v:this.m&&ea(T,this.m,Y)),be(this.h,q),this.Ua&&Le(T,"TYPE","init"),this.P?(Le(T,"$req",v),Le(T,"SID","null"),q.T=!0,Ge(q,T,null)):Ge(q,T,v),this.G=2}}else this.G==3&&(d?Xn(this,d):this.i.length==0||Qr(this.h)||Xn(this))};function Xn(d,v){var T;v?T=v.l:T=d.U++;const N=bt(d.I);Le(N,"SID",d.K),Le(N,"RID",T),Le(N,"AID",d.T),lo(d,N),d.m&&d.o&&ea(N,d.m,d.o),T=new ve(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Rl(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),be(d.h,T),Ge(T,N,v)}function lo(d,v){d.H&&H(d.H,function(T,N){Le(v,N,T)}),d.l&&Ne({},function(T,N){Le(v,N,T)})}function Rl(d,v,T){T=Math.min(d.i.length,T);var N=d.l?_(d.l.Na,d.l,d):null;e:{var q=d.i;let Y=-1;for(;;){const le=["count="+T];Y==-1?0<T?(Y=q[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let nt=!0;for(let Dt=0;Dt<T;Dt++){let Ze=q[Dt].g;const at=q[Dt].map;if(Ze-=Y,0>Ze)Y=Math.max(0,q[Dt].g-100),nt=!1;else try{Pl(at,le,"req"+Ze+"_")}catch{N&&N(at)}}if(nt){N=le.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,N}function Ar(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Fe||J(),K||(Fe(),K=!0),ie.add(v,d),d.v=0}}function ia(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Gr(_(d.Fa,d),Ll(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Gr(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),ra(this),oa(this))};function sa(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function oa(d){d.g=new ve(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=bt(d.qa);Le(v,"RID","rpc"),Le(v,"SID",d.K),Le(v,"AID",d.T),Le(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Le(v,"TO",d.ja),Le(v,"TYPE","xmlhttp"),lo(d,v),d.m&&d.o&&ea(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=fr(bt(v)),T.m=null,T.P=!0,tt(T,d)}t.Za=function(){this.C!=null&&(this.C=null,ra(this),ia(this),Ct(19))};function aa(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function kl(d,v){var T=null;if(d.g==v){aa(d),sa(d),d.g=null;var N=2}else if(ue(d.h,v))T=v.D,Lt(d.h,v),N=1;else return;if(d.G!=0){if(v.o)if(N==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var q=d.B;N=us(),mt(N,new Ti(N,T)),ps(d)}else Ar(d);else if(q=v.s,q==3||q==0&&0<v.X||!(N==1&&Uf(d,v)||N==2&&ia(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),q){case 1:Ci(d,5);break;case 4:Ci(d,10);break;case 3:Ci(d,6);break;default:Ci(d,2)}}}function Ll(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function Ci(d,v){if(d.j.info("Error code "+v),v==2){var T=_(d.fb,d),N=d.Xa;const q=!N;N=new hr(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yo(N,"https"),fr(N),q?ot(N.toString(),T):Cc(N.toString(),T)}else Ct(2);d.G=0,d.l&&d.l.sa(v),Lc(d),kc(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Lc(d){if(d.G=0,d.ka=[],d.l){const v=Je(d.h);(v.length!=0||d.i.length!=0)&&(V(d.ka,v),V(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function la(d,v,T){var N=T instanceof hr?bt(T):new hr(T);if(N.g!="")v&&(N.g=v+"."+N.g),Ii(N,N.s);else{var q=u.location;N=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Y=new hr(null);N&&Yo(Y,N),v&&(Y.g=v),q&&Ii(Y,q),T&&(Y.l=T),N=Y}return T=d.D,v=d.ya,T&&v&&Le(N,T,v),Le(N,"VER",d.la),lo(d,N),N}function Oc(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new vt(new gr({eb:T})):new vt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ol(){}t=Ol.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uo(){}uo.prototype.g=function(d,v){return new Zt(d,v)};function Zt(d,v){st.call(this),this.g=new Rc(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!E(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!E(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new vr(this)}b(Zt,st),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){na(this.g)},Zt.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=En(d),d=T);v.i.push(new tn(v.Ya++,d)),v.G==3&&ps(v)},Zt.prototype.N=function(){this.g.l=null,delete this.j,na(this.g),delete this.g,Zt.aa.N.call(this)};function Xr(d){_i.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(Xr,_i);function Mc(){yi.call(this),this.status=1}b(Mc,yi);function vr(d){this.g=d}b(vr,Ol),vr.prototype.ua=function(){mt(this.g,"a")},vr.prototype.ta=function(d){mt(this.g,new Xr(d))},vr.prototype.sa=function(d){mt(this.g,new Mc)},vr.prototype.ra=function(){mt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,EI=function(){return new uo},wI=function(){return us()},yI=On,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,kd=ce,we.COMPLETE="complete",_I=we,as.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",st.prototype.listen=st.prototype.K,su=as,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,vI=vt}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const Gw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Cv("@firebase/firestore");function Ql(){return Oo.logLevel}function Ee(t,...e){if(Oo.logLevel<=Ke.DEBUG){const n=e.map(Rv);Oo.debug(`Firestore (${hl}): ${t}`,...n)}}function Zi(t,...e){if(Oo.logLevel<=Ke.ERROR){const n=e.map(Rv);Oo.error(`Firestore (${hl}): ${t}`,...n)}}function el(t,...e){if(Oo.logLevel<=Ke.WARN){const n=e.map(Rv);Oo.warn(`Firestore (${hl}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function it(t,e){t||Oe()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class GO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KO{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ui)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new TI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new pn(e)}}class ZO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){it(this.o===void 0);const r=s=>{s.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new YO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new qt(0,0))}static max(){return new De(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends Hu{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const eM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Hu{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return eM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ft.fromString(e))}static fromName(e){return new Ie(ft.fromString(e).popFirst(5))}static empty(){return new Ie(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ft(e.slice()))}}function tM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new Zs(i,Ie.empty(),e)}function nM(t){return new Zs(t.readTime,t.key,-1)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(De.min(),Ie.empty(),-1)}static max(){return new Zs(De.max(),Ie.empty(),-1)}}function rM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==iM)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(p=>{a[f]=p,++u,u===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function oM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kv.oe=-1;function hf(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function aM(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function II(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=s??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zw(this.data.getIterator())}getIteratorFrom(e){return new Zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class Zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new rr([])}unionWith(e){let n=new ln(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PI("Invalid base64 string: "+s):s}}(e);return new cn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const lM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(it(!!t),typeof t=="string"){let e=0;const n=lM.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ov(t){const e=t.mapValue.fields.__previous_value__;return Lv(e)?Ov(e):e}function Wu(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r,i,s,a,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class qu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lv(t)?4:dM(t)?9007199254740991:cM(t)?10:11:Oe()}function pi(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Qs(i.timestampValue),u=Qs(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mo(i.bytesValue).isEqual(Mo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Mt(i.geoPointValue.latitude)===Mt(s.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Mt(i.integerValue)===Mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Mt(i.doubleValue),u=Mt(s.doubleValue);return a===u?Ih(a)===Ih(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Kw(a)!==Kw(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!pi(a[c],u[c])))return!1;return!0}(t,e);default:return Oe()}}function Gu(t,e){return(t.values||[]).find(n=>pi(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=Mt(s.integerValue||s.doubleValue),c=Mt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Qw(t.timestampValue,e.timestampValue);case 4:return Qw(Wu(t),Wu(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(s,a){const u=Mo(s),c=Mo(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const p=et(u[f],c[f]);if(p!==0)return p}return et(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=et(Mt(s.latitude),Mt(a.latitude));return u!==0?u:et(Mt(s.longitude),Mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yw(t.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,f,p;const g=s.fields||{},_=a.fields||{},S=(u=g.value)===null||u===void 0?void 0:u.arrayValue,b=(c=_.value)===null||c===void 0?void 0:c.arrayValue,A=et(((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0,((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:Yw(S,b)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===pd.mapValue&&a===pd.mapValue)return 0;if(s===pd.mapValue)return 1;if(a===pd.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=a.fields||{},p=Object.keys(f);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const _=et(c[g],p[g]);if(_!==0)return _;const S=nl(u[c[g]],f[p[g]]);if(S!==0)return S}return et(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function Qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Qs(t),r=Qs(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function Yw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=nl(n[i],r[i]);if(s)return s}return et(n.length,r.length)}function rl(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Qm(n.fields[a])}`;return i+"}"}(t.mapValue):Oe()}function Xw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ym(t){return!!t&&"integerValue"in t}function Mv(t){return!!t&&"arrayValue"in t}function Jw(t){return!!t&&"nullValue"in t}function e0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ld(t){return!!t&&"mapValue"in t}function cM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=yu(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zn(yu(this.value))}}function xI(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new sn([n]);if(Ld(r)){const s=xI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new gn(e,0,De.min(),De.min(),De.min(),zn.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,De.min(),De.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,De.min(),De.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function t0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(a.referenceValue),n.key):r=nl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function n0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{}class Bt extends CI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pM(e,n,r):n==="array-contains"?new vM(e,r):n==="in"?new _M(e,r):n==="not-in"?new yM(e,r):n==="array-contains-any"?new wM(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mM(e,r):new gM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nl(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends CI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fr(e,n)}matches(e){return bI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bI(t){return t.op==="and"}function AI(t){return fM(t)&&bI(t)}function fM(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function Xm(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(AI(t))return t.filters.map(e=>Xm(e)).join(",");{const e=t.filters.map(n=>Xm(n)).join(",");return`${t.op}(${e})`}}function RI(t,e){return t instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.field.isEqual(i.field)&&pi(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&RI(a,i.filters[u]),!0):!1}(t,e):void Oe()}function kI(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(kI).join(" ,")+"}"}(t):"Filter"}class pM extends Bt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class mM extends Bt{constructor(e,n){super(e,"in",n),this.keys=LI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gM extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=LI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class vM extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mv(n)&&Gu(n.arrayValue,this.value)}}class _M extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}}class yM extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gu(this.value.arrayValue,n)}}class wM extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function r0(t,e=null,n=[],r=[],i=null,s=null,a=null){return new EM(t,e,n,r,i,s,a)}function Nv(t){const e=Ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),e.ue=n}return e.ue}function Dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n0(t.startAt,e.startAt)&&n0(t.endAt,e.endAt)}function Jm(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TM(t,e,n,r,i,s,a,u){return new fc(t,e,n,r,i,s,a,u)}function ff(t){return new fc(t)}function i0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OI(t){return t.collectionGroup!==null}function wu(t){const e=Ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new ln(sn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new xh(s,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new xh(sn.keyField(),r))}return e.ce}function li(t){const e=Ve(t);return e.le||(e.le=SM(e,wu(t))),e.le}function SM(t,e){if(t.limitType==="F")return r0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new xh(i.field,s)});const n=t.endAt?new Ph(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ph(t.startAt.position,t.startAt.inclusive):null;return r0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eg(t,e){const n=t.filters.concat([e]);return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tg(t,e,n){return new fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pf(t,e){return Dv(li(t),li(e))&&t.limitType===e.limitType}function MI(t){return`${Nv(li(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kI(i)).join(", ")}]`),hf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rl(i)).join(",")),`Target(${r})`}(li(t))}; limitType=${t.limitType})`}function mf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const f=t0(a,u,c);return a.inclusive?f<=0:f<0}(r.startAt,wu(r),i)||r.endAt&&!function(a,u,c){const f=t0(a,u,c);return a.inclusive?f>=0:f>0}(r.endAt,wu(r),i))}(t,e)}function IM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NI(t){return(e,n)=>{let r=!1;for(const i of wu(t)){const s=PM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PM(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(s,a,u){const c=a.data.field(s),f=u.data.field(s);return c!==null&&f!==null?nl(c,f):Oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return II(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new xt(Ie.comparator);function Qi(){return xM}const DI=new xt(Ie.comparator);function ou(...t){let e=DI;for(const n of t)e=e.insert(n.key,n);return e}function VI(t){let e=DI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return Eu()}function FI(){return Eu()}function Eu(){return new fl(t=>t.toString(),(t,e)=>t.isEqual(e))}const CM=new xt(Ie.comparator),bM=new ln(Ie.comparator);function qe(...t){let e=bM;for(const n of t)e=e.add(n);return e}const AM=new ln(et);function RM(){return AM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function zI(t){return{integerValue:""+t}}function kM(t,e){return aM(e)?zI(e):Vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function LM(t,e,n){return t instanceof Ch?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lv(s)&&(s=Ov(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Ku?BI(t,e):t instanceof Zu?UI(t,e):function(i,s){const a=jI(i,s),u=s0(a)+s0(i.Pe);return Ym(a)&&Ym(i.Pe)?zI(u):Vv(i.serializer,u)}(t,e)}function OM(t,e,n){return t instanceof Ku?BI(t,e):t instanceof Zu?UI(t,e):n}function jI(t,e){return t instanceof bh?function(r){return Ym(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ch extends gf{}class Ku extends gf{constructor(e){super(),this.elements=e}}function BI(t,e){const n=$I(e);for(const r of t.elements)n.some(i=>pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zu extends gf{constructor(e){super(),this.elements=e}}function UI(t,e){let n=$I(e);for(const r of t.elements)n=n.filter(i=>!pi(i,r));return{arrayValue:{values:n}}}class bh extends gf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function s0(t){return Mt(t.integerValue||t.doubleValue)}function $I(t){return Mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Zu&&i instanceof Zu?tl(r.elements,i.elements,pi):r instanceof bh&&i instanceof bh?pi(r.Pe,i.Pe):r instanceof Ch&&i instanceof Ch}(t.transform,e.transform)}class NM{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function HI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fv(t.key,Sr.none()):new pc(t.key,t.data,Sr.none());{const n=t.data,r=zn.empty();let i=new ln(sn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new no(t.key,r,new rr(i.toArray()),Sr.none())}}function DM(t,e,n){t instanceof pc?function(i,s,a){const u=i.value.clone(),c=a0(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof no?function(i,s,a){if(!Od(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=a0(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(WI(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Tu(t,e,n,r){return t instanceof pc?function(s,a,u,c){if(!Od(s.precondition,a))return u;const f=s.value.clone(),p=l0(s.fieldTransforms,c,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(s,a,u,c){if(!Od(s.precondition,a))return u;const f=l0(s.fieldTransforms,c,a),p=a.data;return p.setAll(WI(s)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,u){return Od(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function VM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jI(r.transform,i||null);s!=null&&(n===null&&(n=zn.empty()),n.set(r.field,s))}return n||null}function o0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tl(r,i,(s,a)=>MM(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends vf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends vf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a0(t,e,n){const r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,OM(a,u,n[i]))}return r}function l0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,LM(s,a,e))}return r}class Fv extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FM extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&DM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FI();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const c=HI(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,r)=>o0(n,r))&&tl(this.baseMutations,e.baseMutations,(n,r)=>o0(n,r))}}class zv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=function(){return CM}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new zv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Qe;function UM(t){switch(t){default:return Oe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function qI(t){if(t===void 0)return Zi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Ft.OK:return te.OK;case Ft.CANCELLED:return te.CANCELLED;case Ft.UNKNOWN:return te.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return te.INTERNAL;case Ft.UNAVAILABLE:return te.UNAVAILABLE;case Ft.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ft.NOT_FOUND:return te.NOT_FOUND;case Ft.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ft.ABORTED:return te.ABORTED;case Ft.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ft.DATA_LOSS:return te.DATA_LOSS;default:return Oe()}}(Qe=Ft||(Ft={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new So([4294967295,4294967295],0);function u0(t){const e=$M().encode(t),n=new gI;return n.update(e),new Uint8Array(n.digest())}function c0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new So([n,r],0),new So([i,s],0)]}class jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=So.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(So.fromNumber(r)));return i.compare(HM)===1&&(i=new So([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=u0(e),[r,i]=c0(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new jv(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=u0(e),[r,i]=c0(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(De.min(),i,new xt(et),Qi(),qe())}}class mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class GI{constructor(e,n){this.targetId=e,this.me=n}}class KI{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d0{constructor(){this.fe=0,this.ge=f0(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),n=qe(),r=qe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe()}}),new mc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=f0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qi(),this.qe=h0(),this.Qe=new xt(et)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Jm(s))if(r===0){const a=new Ie(s.path);this.Ue(n,a,gn.newNoDocument(a,De.min()))}else it(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=Mo(r).toUint8Array()}catch(c){if(c instanceof PI)return el("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new jv(a,i,s)}catch(c){return el(c instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const u=this.Je(a);if(u){if(s.current&&Jm(u.target)){const c=new Ie(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,gn.newNoDocument(c,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=qe();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new _f(e,n,this.Qe,this.ke,r);return this.ke=Qi(),this.qe=h0(),this.Qe=new xt(et),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new d0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(et),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new d0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function h0(){return new xt(Ie.comparator)}function f0(){return new xt(Ie.comparator)}const qM={asc:"ASCENDING",desc:"DESCENDING"},GM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KM={and:"AND",or:"OR"};class ZM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(t,e){return t.useProto3Json||hf(e)?e:{value:e}}function Ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QM(t,e){return Ah(t,e.toTimestamp())}function ui(t){return it(!!t),De.fromTimestamp(function(n){const r=Qs(n);return new qt(r.seconds,r.nanos)}(t))}function Bv(t,e){return rg(t,e).canonicalString()}function rg(t,e){const n=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QI(t){const e=ft.fromString(t);return it(tP(e)),e}function ig(t,e){return Bv(t.databaseId,e.path)}function Dp(t,e){const n=QI(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(XI(n))}function YI(t,e){return Bv(t.databaseId,e)}function YM(t){const e=QI(t);return e.length===4?ft.emptyPath():XI(e)}function sg(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XI(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function p0(t,e,n){return{name:ig(t,e),fields:n.value.mapValue.fields}}function XM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(it(p===void 0||typeof p=="string"),cn.fromBase64String(p||"")):(it(p===void 0||p instanceof Buffer||p instanceof Uint8Array),cn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const p=f.code===void 0?te.UNKNOWN:qI(f.code);return new pe(p,f.message||"")}(a);n=new KI(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dp(t,r.document.name),s=ui(r.document.updateTime),a=r.document.createTime?ui(r.document.createTime):De.min(),u=new zn({mapValue:{fields:r.document.fields}}),c=gn.newFoundDocument(i,s,a,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new Md(f,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dp(t,r.document),s=r.readTime?ui(r.readTime):De.min(),a=gn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Md([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dp(t,r.document),s=r.removedTargetIds||[];n=new Md([],s,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new BM(i,s),u=r.targetId;n=new GI(u,a)}}return n}function JM(t,e){let n;if(e instanceof pc)n={update:p0(t,e.key,e.value)};else if(e instanceof Fv)n={delete:ig(t,e.key)};else if(e instanceof no)n={update:p0(t,e.key,e.data),updateMask:lN(e.fieldMask)};else{if(!(e instanceof FM))return Oe();n={verify:ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof Ch)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ku)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Zu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bh)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw Oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Oe()}(t,e.precondition)),n}function eN(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?ui(i.updateTime):ui(s);return a.isEqual(De.min())&&(a=ui(s)),new NM(a,i.transformResults||[])}(n,e))):[]}function tN(t,e){return{documents:[YI(t,e.path)]}}function nN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YI(t,i);const s=function(f){if(f.length!==0)return eP(Fr.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:va(_.field),direction:sN(_.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=ng(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function rN(t){let e=YM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const _=JI(g);return _ instanceof Fr&&AI(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(_=>function(b){return new xh(_a(b.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,hf(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(g){const _=!!g.before,S=g.values||[];return new Ph(S,_)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const _=!g.before,S=g.values||[];return new Ph(S,_)}(n.endAt)),TM(e,i,a,s,u,"F",c,f)}function iN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_a(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_a(n.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_a(n.unaryFilter.field);return Bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_a(n.unaryFilter.field);return Bt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(_a(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>JI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(t):Oe()}function sN(t){return qM[t]}function oN(t){return GM[t]}function aN(t){return KM[t]}function va(t){return{fieldPath:t.canonicalString()}}function _a(t){return sn.fromServerFormat(t.fieldPath)}function eP(t){return t instanceof Bt?function(n){if(n.op==="=="){if(e0(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NAN"}};if(Jw(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e0(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NAN"}};if(Jw(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(n.field),op:oN(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(i=>eP(i));return r.length===1?r[0]:{compositeFilter:{op:aN(n.op),filters:r}}}(t):Oe()}function lN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r,i,s=De.min(),a=De.min(),u=cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.ct=e}}function cN(t){const e=rN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.un=new hN}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Zs.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class hN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new il(0)}static kn(){return new il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.changes=new fl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tu(r.mutation,i,rr.empty(),qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=ou();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=Qi();const a=Eu(),u=function(){return Eu()}();return n.forEach((c,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof no)?s=s.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),Tu(p.mutation,f,p.mutation.getFieldMask(),qt.now())):a.set(f.key,rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var g;return u.set(f,new pN(p,(g=a.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Eu();let i=new xt((a,u)=>a-u),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let p=r.get(c)||rr.empty();p=u.applyToLocalView(f,p),r.set(c,p);const g=(i.get(u.batchId)||qe()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,p=c.value,g=FI();p.forEach(_=>{if(!s.has(_)){const S=HI(n.get(_),r.get(_));S!==null&&g.set(_,S),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,g))}return se.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(yo());let u=-1,c=s;return a.next(f=>se.forEach(f,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?se.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{c=c.insert(p,_)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,qe())).next(p=>({batchId:u,changes:VI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=ou();return this.indexManager.getCollectionParents(e,s).next(u=>se.forEach(u,c=>{const f=function(g,_){return new fc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,gn.newInvalidDocument(p)))});let u=ou();return a.forEach((c,f)=>{const p=s.get(c);p!==void 0&&Tu(p.mutation,f,rr.empty(),qt.now()),mf(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:cN(i.bundledQuery),readTime:ui(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new xt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yo();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=yo(),s=n.length+1,a=new Ie(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xt((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=yo(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=yo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return se.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new jM(n,r));let s=this.Ir.get(n);s===void 0&&(s=qe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.Tr=new ln(Yt.Er),this.dr=new ln(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new ft([])),r=new Yt(n,e),i=new Yt(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new ft([])),r=new Yt(n,e),i=new Yt(n,e+1);let s=qe();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||et(e.wr,n.wr)}static Ar(e,n){return et(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(Yt.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new zM(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.br=this.br.add(new Yt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return se.resolve(a)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),i=new Yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const u=this.Dr(a.wr);s.push(u)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(et);return n.forEach(i=>{const s=new Yt(i,0),a=new Yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],u=>{r=r.add(u.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const a=new Yt(new Ie(s),0);let u=new ln(et);return this.br.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},a),se.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,i=>{const s=new Yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Yt(n,0),i=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.Mr=e,this.docs=function(){return new xt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Qi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qi();const a=n.path,u=new Ie(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:p}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||rM(nM(p),r)<=0||(i.has(p.key)||mf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Oe()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EN(this)}getSize(e){return se.resolve(this.size)}}class EN extends fN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.persistence=e,this.Nr=new fl(n=>Nv(n),Dv),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Uv,this.targetCount=0,this.kr=il.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new il(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kv(0),this.Kr=!1,this.Kr=!0,this.$r=new _N,this.referenceDelegate=e(this),this.Ur=new TN(this),this.indexManager=new dN,this.remoteDocumentCache=function(i){return new wN(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uN(n),this.Gr=new gN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new IN(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class IN extends sM{constructor(e){super(),this.currentSequenceNumber=e}}class $v{constructor(e){this.persistence=e,this.Jr=new Uv,this.Yr=null}static Zr(e){return new $v(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=Ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,De.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=qe(),i=qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return AL()?8:oM(yn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new PN;return this.Xi(e,n,a).next(u=>{if(s.result=u,this.zi)return this.es(e,n,a,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ql()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(Ql()<=Ke.DEBUG&&Ee("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ql()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):se.resolve())}Yi(e,n){if(i0(n))return se.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tg(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=qe(...s);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.ts(n,u);return this.ns(n,f,a,c.readTime)?this.Yi(e,tg(n,null,"F")):this.rs(e,f,n,c)}))})))}Zi(e,n,r,i){return i0(n)||i.isEqual(De.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?se.resolve(null):(Ql()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ga(n)),this.rs(e,a,n,tM(i,-1)).next(u=>u))})}ts(e,n){let r=new ln(NI(e));return n.forEach((i,s)=>{mf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ql()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",ga(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new xt(et),this._s=new fl(s=>Nv(s),Dv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bN(t,e,n,r){return new CN(t,e,n,r)}async function nP(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=qe();for(const f of i){a.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:u}))})})}function AN(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,p){const g=f.batch,_=g.keys();let S=se.resolve();return _.forEach(b=>{S=S.next(()=>p.getEntry(c,b)).next(A=>{const V=f.docVersions.get(b);it(V!==null),A.version.compareTo(V)<0&&(g.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=qe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rP(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function RN(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((p,g)=>{const _=i.get(g);if(!_)return;u.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let S=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,r)),i=i.insert(g,S),function(A,V,x){return A.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(_,S,p)&&u.push(n.Ur.updateTargetData(s,S))});let c=Qi(),f=qe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(kN(s,a,e.documentUpdates).next(p=>{c=p.Ps,f=p.Is})),!r.isEqual(De.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return se.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.os=i,s))}function kN(t,e,n){let r=qe(),i=qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Qi();return n.forEach((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):Ee("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function LN(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ON(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Os(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function og(t,e,n){const r=Ve(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!hc(a))throw a;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function m0(t,e,n){const r=Ve(t);let i=De.min(),s=qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,p){const g=Ve(c),_=g._s.get(p);return _!==void 0?se.resolve(g.os.get(_)):g.Ur.getTargetData(f,p)}(r,a,li(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:De.min(),n?s:qe())).next(u=>(MN(r,IM(e),u),{documents:u,Ts:s})))}function MN(t,e,n){let r=t.us.get(e)||De.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class g0{constructor(){this.activeTargetIds=RM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NN{constructor(){this.so=new g0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function Vp(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class zN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const u=Vp(),c=this.xo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,c,f,i).then(p=>(Ee("RestConnection",`Received RPC '${n}' ${u}: `,p),p),p=>{throw el("RestConnection",`RPC '${n}' ${u} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(n,r,i,s,a,u){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=VN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Vp();return new Promise((a,u)=>{const c=new vI;c.setWithCredentials(!0),c.listenOnce(_I.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kd.NO_ERROR:const p=c.getResponseJson();Ee(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case kd.TIMEOUT:Ee(fn,`RPC '${e}' ${s} timed out`),u(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const g=c.getStatus();if(Ee(fn,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const b=function(V){const x=V.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(x)>=0?x:te.UNKNOWN}(S.status);u(new pe(b,S.message))}else u(new pe(te.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{Ee(fn,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Ee(fn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=Vp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=EI(),u=wI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");Ee(fn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=a.createWebChannel(p,c);let _=!1,S=!1;const b=new FN({Io:V=>{S?Ee(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(_||(Ee(fn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),Ee(fn,`RPC '${e}' stream ${i} sending:`,V),g.send(V))},To:()=>g.close()}),A=(V,x,E)=>{V.listen(x,I=>{try{E(I)}catch(F){setTimeout(()=>{throw F},0)}})};return A(g,su.EventType.OPEN,()=>{S||(Ee(fn,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),A(g,su.EventType.CLOSE,()=>{S||(S=!0,Ee(fn,`RPC '${e}' stream ${i} transport closed`),b.So())}),A(g,su.EventType.ERROR,V=>{S||(S=!0,el(fn,`RPC '${e}' stream ${i} transport errored:`,V),b.So(new pe(te.UNAVAILABLE,"The operation could not be completed")))}),A(g,su.EventType.MESSAGE,V=>{var x;if(!S){const E=V.data[0];it(!!E);const I=E,F=I.error||((x=I[0])===null||x===void 0?void 0:x.error);if(F){Ee(fn,`RPC '${e}' stream ${i} received error:`,F);const U=F.status;let H=function(C){const k=Ft[C];if(k!==void 0)return qI(k)}(U),O=F.message;H===void 0&&(H=te.INTERNAL,O="Unknown error status: "+U+" with message "+F.message),S=!0,b.So(new pe(H,O)),g.close()}else Ee(fn,`RPC '${e}' stream ${i} received:`,E),b.bo(E)}}),A(u,yI.STAT_EVENT,V=>{V.stat===Zm.PROXY?Ee(fn,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===Zm.NOPROXY&&Ee(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){return new ZM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r,i,s,a,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jN extends sP{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=XM(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?De.min():a.readTime?ui(a.readTime):De.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=sg(this.serializer),n.addTarget=function(s,a){let u;const c=a.target;if(u=Jm(c)?{documents:tN(s,c)}:{query:nN(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=ZI(s,a.resumeToken);const f=ng(s,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(De.min())>0){u.readTime=Ah(s,a.snapshotVersion.toTimestamp());const f=ng(s,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=iN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=sg(this.serializer),n.removeTarget=e,this.a_(n)}}class BN extends sP{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=eN(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JM(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,rg(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(te.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,rg(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(te.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zi(n),this.D_=!1):Ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{$o(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Ve(c);f.L_.add(4),await gc(f),f.q_.set("Unknown"),f.L_.delete(4),await wf(f)}(this))})}),this.q_=new $N(r,i)}}async function wf(t){if($o(t))for(const e of t.B_)await e(!0)}async function gc(t){for(const e of t.B_)await e(!1)}function oP(t,e){const n=Ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Kv(n)?Gv(n):pl(n).r_()&&qv(n,e))}function Wv(t,e){const n=Ve(t),r=pl(n);n.N_.delete(e),r.r_()&&aP(n,e),n.N_.size===0&&(r.r_()?r.o_():$o(n)&&n.q_.set("Unknown"))}function qv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).A_(e)}function aP(t,e){t.Q_.xe(e),pl(t).R_(e)}function Gv(t){t.Q_=new WM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.q_.v_()}function Kv(t){return $o(t)&&!pl(t).n_()&&t.N_.size>0}function $o(t){return Ve(t).L_.size===0}function lP(t){t.Q_=void 0}async function WN(t){t.q_.set("Online")}async function qN(t){t.N_.forEach((e,n)=>{qv(t,e)})}async function GN(t,e){lP(t),Kv(t)?(t.q_.M_(e),Gv(t)):t.q_.set("Unknown")}async function KN(t,e,n){if(t.q_.set("Online"),e instanceof KI&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(t,r)}else if(e instanceof Md?t.Q_.Ke(e):e instanceof GI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(De.min()))try{const r=await rP(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.Q_.rt(a);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.N_.get(f);p&&s.N_.set(f,p.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,f)=>{const p=s.N_.get(c);if(!p)return;s.N_.set(c,p.withResumeToken(cn.EMPTY_BYTE_STRING,p.snapshotVersion)),aP(s,c);const g=new Os(p.target,c,f,p.sequenceNumber);qv(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await Rh(t,r)}}async function Rh(t,e,n){if(!hc(e))throw e;t.L_.add(1),await gc(t),t.q_.set("Offline"),n||(n=()=>rP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wf(t)})}function uP(t,e){return e().catch(n=>Rh(t,n,e))}async function Ef(t){const e=Ve(t),n=Ys(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZN(e);)try{const i=await LN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,QN(e,i)}catch(i){await Rh(e,i)}cP(e)&&dP(e)}function ZN(t){return $o(t)&&t.O_.length<10}function QN(t,e){t.O_.push(e);const n=Ys(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cP(t){return $o(t)&&!Ys(t).n_()&&t.O_.length>0}function dP(t){Ys(t).start()}async function YN(t){Ys(t).p_()}async function XN(t){const e=Ys(t);for(const n of t.O_)e.m_(n.mutations)}async function JN(t,e,n){const r=t.O_.shift(),i=zv.from(r,e,n);await uP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ef(t)}async function eD(t,e){e&&Ys(t).V_&&await async function(r,i){if(function(a){return UM(a)&&a!==te.ABORTED}(i.code)){const s=r.O_.shift();Ys(r).s_(),await uP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ef(r)}}(t,e),cP(t)&&dP(t)}async function _0(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=$o(n);n.L_.add(3),await gc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wf(n)}async function tD(t,e){const n=Ve(t);e?(n.L_.delete(2),await wf(n)):e||(n.L_.add(2),await gc(n),n.q_.set("Unknown"))}function pl(t){return t.K_||(t.K_=function(n,r,i){const s=Ve(n);return s.w_(),new jN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:WN.bind(null,t),Ro:qN.bind(null,t),mo:GN.bind(null,t),d_:KN.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Kv(t)?Gv(t):t.q_.set("Unknown")):(await t.K_.stop(),lP(t))})),t.K_}function Ys(t){return t.U_||(t.U_=function(n,r,i){const s=Ve(n);return s.w_(),new BN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YN.bind(null,t),mo:eD.bind(null,t),f_:XN.bind(null,t),g_:JN.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ef(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new Zv(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),hc(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=ou(),this.sortedSet=new xt(this.comparator)}static emptySet(e){return new Ba(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.W_=new xt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,i,s,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new sl(e,n,Ba.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class rD{constructor(){this.queries=w0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ve(n),s=i.queries;i.queries=w0(),s.forEach((a,u)=>{for(const c of u.j_)c.onError(r)})})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function w0(){return new fl(t=>MI(t),pf)}async function Yv(t,e){const n=Ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new nD,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Qv(a,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Jv(n)}async function Xv(t,e){const n=Ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iD(t,e){const n=Ve(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.j_)u.X_(i)&&(r=!0);a.z_=i}}r&&Jv(n)}function sD(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Jv(t){t.Y_.forEach(e=>{e.next()})}var ag,E0;(E0=ag||(ag={})).ea="default",E0.Cache="cache";class e_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.key=e}}class fP{constructor(e){this.key=e}}class oD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=qe(),this.mutatedKeys=qe(),this.Aa=NI(e),this.Ra=new Ba(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new y0,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const _=i.get(p),S=mf(this.query,g)?g:null,b=!!_&&this.mutatedKeys.has(_.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;_&&S?_.data.isEqual(S.data)?b!==A&&(r.track({type:3,doc:S}),V=!0):this.ga(_,S)||(r.track({type:2,doc:S}),V=!0,(c&&this.Aa(S,c)>0||f&&this.Aa(S,f)<0)&&(u=!0)):!_&&S?(r.track({type:0,doc:S}),V=!0):_&&!S&&(r.track({type:1,doc:_}),V=!0,(c||f)&&(u=!0)),V&&(S?(a=a.add(S),s=A?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,g)=>function(S,b){const A=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return A(S)-A(b)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new sl(this.query,e.Ra,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new y0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=qe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new fP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hP(r))}),n}ba(e){this.Ta=e.Ts,this.da=qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return sl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class aD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lD{constructor(e){this.key=e,this.va=!1}}class uD{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new fl(u=>MI(u),pf),this.Ma=new Map,this.xa=new Set,this.Oa=new xt(Ie.comparator),this.Na=new Map,this.La=new Uv,this.Ba={},this.ka=new Map,this.qa=il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cD(t,e,n=!0){const r=yP(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await pP(r,e,n,!0),i}async function dD(t,e){const n=yP(t);await pP(n,e,!0,!1)}async function pP(t,e,n,r){const i=await ON(t.localStore,li(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await hD(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&oP(t.remoteStore,i),u}async function hD(t,e,n,r,i){t.Ka=(g,_,S)=>async function(A,V,x,E){let I=V.view.ma(x);I.ns&&(I=await m0(A.localStore,V.query,!1).then(({documents:O})=>V.view.ma(O,I)));const F=E&&E.targetChanges.get(V.targetId),U=E&&E.targetMismatches.get(V.targetId)!=null,H=V.view.applyChanges(I,A.isPrimaryClient,F,U);return S0(A,V.targetId,H.wa),H.snapshot}(t,g,_,S);const s=await m0(t.localStore,e,!0),a=new oD(e,s.Ts),u=a.ma(s.documents),c=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);S0(t,n,f.wa);const p=new aD(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function fD(t,e,n){const r=Ve(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!pf(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await og(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wv(r.remoteStore,i.targetId),lg(r,i.targetId)}).catch(dc)):(lg(r,i.targetId),await og(r.localStore,i.targetId,!0))}async function pD(t,e){const n=Ve(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wv(n.remoteStore,r.targetId))}async function mD(t,e,n){const r=TD(t);try{const i=await function(a,u){const c=Ve(a),f=qt.now(),p=u.reduce((S,b)=>S.add(b.key),qe());let g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",S=>{let b=Qi(),A=qe();return c.cs.getEntries(S,p).next(V=>{b=V,b.forEach((x,E)=>{E.isValidDocument()||(A=A.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(S,b)).next(V=>{g=V;const x=[];for(const E of u){const I=VM(E,g.get(E.key).overlayedDocument);I!=null&&x.push(new no(E.key,I,xI(I.value.mapValue),Sr.exists(!0)))}return c.mutationQueue.addMutationBatch(S,f,x,u)}).next(V=>{_=V;const x=V.applyToLocalDocumentSet(g,A);return c.documentOverlayCache.saveOverlays(S,V.batchId,x)})}).then(()=>({batchId:_.batchId,changes:VI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new xt(et)),f=f.insert(u,c),a.Ba[a.currentUser.toKey()]=f}(r,i.batchId,n),await vc(r,i.changes),await Ef(r.remoteStore)}catch(i){const s=Qv(i,"Failed to persist write");n.reject(s)}}async function mP(t,e){const n=Ve(t);try{const r=await RN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?it(a.va):i.removedDocuments.size>0&&(it(a.va),a.va=!1))}),await vc(n,r,e)}catch(r){await dc(r)}}function T0(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const u=a.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=Ve(a);c.onlineState=u;let f=!1;c.queries.forEach((p,g)=>{for(const _ of g.j_)_.Z_(u)&&(f=!0)}),f&&Jv(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gD(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new xt(Ie.comparator);a=a.insert(s,gn.newNoDocument(s,De.min()));const u=qe().add(s),c=new _f(De.min(),new Map,new xt(et),a,u);await mP(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),t_(r)}else await og(r.localStore,e,!1).then(()=>lg(r,e,n)).catch(dc)}async function vD(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await AN(n.localStore,e);vP(n,r,null),gP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,i)}catch(i){await dc(i)}}async function _D(t,e,n){const r=Ve(t);try{const i=await function(a,u){const c=Ve(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return c.mutationQueue.lookupMutationBatch(f,u).next(g=>(it(g!==null),p=g.keys(),c.mutationQueue.removeMutationBatch(f,g))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>c.localDocuments.getDocuments(f,p))})}(r.localStore,e);vP(r,e,n),gP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,i)}catch(i){await dc(i)}}function gP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function vP(t,e,n){const r=Ve(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_P(t,r)})}function _P(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Wv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),t_(t))}function S0(t,e,n){for(const r of n)r instanceof hP?(t.La.addReference(r.key,e),yD(t,r)):r instanceof fP?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_P(t,r.key)):Oe()}function yD(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),t_(t))}function t_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(ft.fromString(e)),r=t.qa.next();t.Na.set(r,new lD(n)),t.Oa=t.Oa.insert(n,r),oP(t.remoteStore,new Os(li(ff(n.path)),r,"TargetPurposeLimboResolution",kv.oe))}}async function vc(t,e,n){const r=Ve(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{a.push(r.Ka(c,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Hv.Wi(c.targetId,f);s.push(g)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(c,f){const p=Ve(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>se.forEach(f,_=>se.forEach(_.$i,S=>p.persistence.referenceDelegate.addReference(g,_.targetId,S)).next(()=>se.forEach(_.Ui,S=>p.persistence.referenceDelegate.removeReference(g,_.targetId,S)))))}catch(g){if(!hc(g))throw g;Ee("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const _=g.targetId;if(!g.fromCache){const S=p.os.get(_),b=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(b);p.os=p.os.insert(_,A)}}}(r.localStore,s))}async function wD(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await nP(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(u=>{u.forEach(c=>{c.reject(new pe(te.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r.hs)}}function ED(t,e){const n=Ve(t),r=n.Na.get(e);if(r&&r.va)return qe().add(r.key);{let i=qe();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const u=n.Fa.get(a);i=i.unionWith(u.view.Va)}return i}}function yP(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gD.bind(null,e),e.Ca.d_=iD.bind(null,e.eventManager),e.Ca.$a=sD.bind(null,e.eventManager),e}function TD(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_D.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return bN(this.persistence,new xN,e.initialUser,this.serializer)}Ga(e){return new SN($v.Zr,this.serializer)}Wa(e){return new NN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wD.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rD}()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),r=function(s){return new zN(s)}(e.databaseInfo);return function(s,a,u,c){return new UN(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new HN(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>T0(this.syncEngine,n,0),function(){return v0.D()?new v0:new DN}())}createSyncEngine(e,n){return function(i,s,a,u,c,f,p){const g=new uD(i,s,a,u,c,f);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ve(i);Ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await gc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=SI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Ee("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ee("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zp(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ID(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_0(e.remoteStore,i)),t._onlineComponents=e}async function ID(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await zp(t,new kh)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await zp(t,new kh);return t._offlineComponents}async function wP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await I0(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await I0(t,new ug))),t._onlineComponents}function PD(t){return wP(t).then(e=>e.syncEngine)}async function Lh(t){const e=await wP(t),n=e.eventManager;return n.onListen=cD.bind(null,e.syncEngine),n.onUnlisten=fD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pD.bind(null,e.syncEngine),n}function xD(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,f){const p=new n_({next:_=>{p.Za(),a.enqueueAndForget(()=>Xv(s,g));const S=_.docs.has(u);!S&&_.fromCache?f.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&c&&c.source==="server"?f.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),g=new e_(ff(u.path),p,{includeMetadataChanges:!0,_a:!0});return Yv(s,g)}(await Lh(t),t.asyncQueue,e,n,r)),r.promise}function CD(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,f){const p=new n_({next:_=>{p.Za(),a.enqueueAndForget(()=>Xv(s,g)),_.fromCache&&c.source==="server"?f.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),g=new e_(u,p,{includeMetadataChanges:!0,_a:!0});return Yv(s,g)}(await Lh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bD(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x0(t){if(!Ie.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C0(t){if(Ie.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qO;switch(r.type){case"firstParty":return new QO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=P0.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),P0.delete(n),r.terminate())}(this),Promise.resolve()}}function AD(t,e,n,r={}){var i;const s=(t=Hn(t,Sf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=pn.MOCK_USER;else{u=TL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new pn(f)}t._authCredentials=new GO(new TI(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class qs extends Ho{constructor(e,n,r){super(e,n,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Ie(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function zr(t,e,...n){if(t=en(t),TP("collection","path",e),t instanceof Sf){const r=ft.fromString(e,...n);return C0(r),new qs(t,null,r)}{if(!(t instanceof vn||t instanceof qs))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return C0(r),new qs(t.firestore,null,r)}}function on(t,e,...n){if(t=en(t),arguments.length===1&&(e=SI.newId()),TP("doc","path",e),t instanceof Sf){const r=ft.fromString(e,...n);return x0(r),new vn(t,null,new Ie(r))}{if(!(t instanceof vn||t instanceof qs))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return x0(r),new vn(t.firestore,t instanceof qs?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iP(this,"async_queue_retry"),this.Vu=()=>{const r=Fp();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ui;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hc(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Zi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Zv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function R0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Yi extends Sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new A0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function If(t,e){const n=typeof t=="object"?t:fI(),r=typeof t=="string"?t:"(default)",i=Av(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wL("firestore");s&&AD(i,...s)}return i}function Pf(t){if(t._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RD(t),t._firestoreClient}function RD(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,f,p){return new uM(u,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,EP(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new SD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(cn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ol(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^__.*__$/;class LD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class SP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new no(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class o_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new o_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Oh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(IP(this.Cu)&&kD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class OD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yf(e)}Qu(e,n,r,i=!1){return new o_({Cu:e,methodName:n,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(t){const e=t._freezeSettings(),n=yf(t._databaseId);return new OD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PP(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);a_("Data must be an object, but it was:",a,r);const u=xP(r,a);let c,f;if(s.merge)c=new rr(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const _=cg(e,g,n);if(!a.contains(_))throw new pe(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);bP(p,_)||p.push(_)}c=new rr(p),f=a.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,f=a.fieldTransforms;return new LD(new zn(u),c,f)}class bf extends r_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function MD(t,e,n,r){const i=t.Qu(1,e,n);a_("Data must be an object, but it was:",i,r);const s=[],a=zn.empty();Uo(r,(c,f)=>{const p=l_(e,c,n);f=en(f);const g=i.Nu(p);if(f instanceof bf)s.push(p);else{const _=_c(f,g);_!=null&&(s.push(p),a.set(p,_))}});const u=new rr(s);return new SP(a,u,i.fieldTransforms)}function ND(t,e,n,r,i,s){const a=t.Qu(1,e,n),u=[cg(e,r,n)],c=[i];if(s.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(cg(e,s[_])),c.push(s[_+1]);const f=[],p=zn.empty();for(let _=u.length-1;_>=0;--_)if(!bP(f,u[_])){const S=u[_];let b=c[_];b=en(b);const A=a.Nu(S);if(b instanceof bf)f.push(S);else{const V=_c(b,A);V!=null&&(f.push(S),p.set(S,V))}}const g=new rr(f);return new SP(p,g,a.fieldTransforms)}function DD(t,e,n,r=!1){return _c(n,t.Qu(r?4:3,e))}function _c(t,e){if(CP(t=en(t)))return a_("Unsupported field value:",e,t),xP(t,e);if(t instanceof r_)return function(r,i){if(!IP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=_c(u,i.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qt.fromDate(r);return{timestampValue:Ah(i.serializer,s)}}if(r instanceof qt){const s=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,s)}}if(r instanceof i_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ol)return{bytesValue:ZI(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof s_)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return Vv(u.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Tf(r)}`)}(t,e)}function xP(t,e){const n={};return II(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const s=_c(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof i_||t instanceof ol||t instanceof vn||t instanceof r_||t instanceof s_)}function a_(t,e,n){if(!CP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Tf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function cg(t,e,n){if((e=en(e))instanceof xf)return e._internalPath;if(typeof e=="string")return l_(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const VD=new RegExp("[~\\*/\\[\\]]");function l_(t,e,n){if(e.search(VD)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new pe(te.INVALID_ARGUMENT,u+t+c)}function bP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FD extends AP{data(){return super.data()}}function u_(t,e){return typeof e=="string"?l_(t,e):e instanceof xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c_{}class zD extends c_{}function al(t,e,...n){let r=[];e instanceof c_&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof d_).length,u=s.filter(c=>c instanceof Af).length;if(a>1||a>0&&u>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Af extends zD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Af(e,n,r)}_apply(e){const n=this._parse(e);return kP(e._query,n),new Ho(e.firestore,e.converter,eg(e._query,n))}_parse(e){const n=Cf(e.firestore);return function(s,a,u,c,f,p,g){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){L0(g,p);const S=[];for(const b of g)S.push(k0(c,s,b));_={arrayValue:{values:S}}}else _=k0(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||L0(g,p),_=DD(u,a,g,p==="in"||p==="not-in");return Bt.create(f,p,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ci(t,e,n){const r=e,i=u_("where",t);return Af._create(i,r,n)}class d_ extends c_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new d_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)kP(a,c),a=eg(a,c)}(e._query,n),new Ho(e.firestore,e.converter,eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function k0(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OI(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Ie.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xw(t,new Ie(r))}if(n instanceof vn)return Xw(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function L0(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kP(t,e){const n=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jD{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Mt(a.doubleValue));return new s_(s)}convertGeoPoint(e){return new i_(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);it(tP(r));const i=new qu(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||Zi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OP extends AP{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(u_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nd extends OP{data(e={}){return super.data(e)}}class MP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nd(this._firestore,this._userDataWriter,r.key,r,new lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Nd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Nd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),p=a.indexOf(u.doc.key)),{type:BD(u.type),doc:c,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){t=Hn(t,vn);const e=Hn(t.firestore,Yi);return xD(Pf(e),t._key).then(n=>VP(e,t,n))}class h_ extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Rf(t){t=Hn(t,Ho);const e=Hn(t.firestore,Yi),n=Pf(e),r=new h_(e);return RP(t._query),CD(n,t._query).then(i=>new MP(e,r,t,i))}function NP(t,e,n){t=Hn(t,vn);const r=Hn(t.firestore,Yi),i=LP(t.converter,e);return kf(r,[PP(Cf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sr.none())])}function Qu(t,e,n,...r){t=Hn(t,vn);const i=Hn(t.firestore,Yi),s=Cf(i);let a;return a=typeof(e=en(e))=="string"||e instanceof xf?ND(s,"updateDoc",t._key,e,n,r):MD(s,"updateDoc",t._key,e),kf(i,[a.toMutation(t._key,Sr.exists(!0))])}function UD(t){return kf(Hn(t.firestore,Yi),[new Fv(t._key,Sr.none())])}function DP(t,e){const n=Hn(t.firestore,Yi),r=on(t),i=LP(t.converter,e);return kf(n,[PP(Cf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Sr.exists(!1))]).then(()=>r)}function Mh(t,...e){var n,r,i;t=en(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||R0(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(R0(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,f,p;if(t instanceof vn)f=Hn(t.firestore,Yi),p=ff(t._key.path),c={next:g=>{e[a]&&e[a](VP(f,t,g))},error:e[a+1],complete:e[a+2]};else{const g=Hn(t,Ho);f=Hn(g.firestore,Yi),p=g._query;const _=new h_(f);c={next:S=>{e[a]&&e[a](new MP(f,_,g,S))},error:e[a+1],complete:e[a+2]},RP(t._query)}return function(_,S,b,A){const V=new n_(A),x=new e_(S,V,b);return _.asyncQueue.enqueueAndForget(async()=>Yv(await Lh(_),x)),()=>{V.Za(),_.asyncQueue.enqueueAndForget(async()=>Xv(await Lh(_),x))}}(Pf(f),p,u,c)}function kf(t,e){return function(r,i){const s=new Ui;return r.asyncQueue.enqueueAndForget(async()=>mD(await PD(r),i,s)),s.promise}(Pf(t),e)}function VP(t,e,n){const r=n.docs.get(e._key),i=new h_(t);return new OP(t,i,e._key,r,new lu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){hl=i})(dl),Ja(new Lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new Yi(new KO(r.getProvider("auth-internal")),new XO(r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(f.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Ws(Gw,"4.7.3",e),Ws(Gw,"4.7.3","esm2017")})();var $D="firebase",HD="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws($D,HD,"app");function f_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WD=FP,zP=new uc("auth","Firebase",FP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Cv("@firebase/auth");function qD(t,...e){Nh.logLevel<=Ke.WARN&&Nh.warn(`Auth (${dl}): ${t}`,...e)}function Dd(t,...e){Nh.logLevel<=Ke.ERROR&&Nh.error(`Auth (${dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw p_(t,...e)}function hi(t,...e){return p_(t,...e)}function jP(t,e,n){const r=Object.assign(Object.assign({},WD()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return jP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zP.create(t,...e)}function ke(t,e,...n){if(!t)throw p_(e,...n)}function Vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dd(e),new Error(e)}function Xi(t,e){t||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GD(){return O0()==="http:"||O0()==="https:"}function O0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GD()||xL()||"connection"in navigator)?navigator.onLine:!0}function ZD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=SL()||CL()}get(){return KD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new yc(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function io(t,e,n,r,i={}){return UP(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const u=cc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},s);return PL()||(f.referrerPolicy="no-referrer"),BP.fetch()($P(t,t.config.apiHost,n,u),f)})}async function UP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QD),e);try{const i=new JD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw gd(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw gd(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw jP(t,p,f);jr(t,p)}}catch(i){if(i instanceof es)throw i;jr(t,"network-request-failed",{message:String(i)})}}async function wc(t,e,n,r,i={}){const s=await io(t,e,n,r,i);return"mfaPendingCredential"in s&&jr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function $P(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?m_(t.config,i):`${t.config.apiScheme}://${i}`}function XD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),YD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hi(t,e,r);return i.customData._tokenResponse=n,i}function M0(t){return t!==void 0&&t.enterprise!==void 0}class e2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function t2(t,e){return io(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function HP(t,e){return io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r2(t,e=!1){const n=en(t),r=await n.getIdToken(e),i=g_(r);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Su(jp(i.auth_time)),issuedAtTime:Su(jp(i.iat)),expirationTime:Su(jp(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jp(t){return Number(t)*1e3}function g_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=oI(n);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function N0(t){const e=g_(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&i2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yu(t,HP(n,{idToken:r}));ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WP(s.providerUserInfo):[],u=a2(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new hg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function o2(t){const e=en(t);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WP(t){return t.map(e=>{var{providerId:n}=e,r=f_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e){const n=await UP(t,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=$P(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",BP.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u2(t,e){return io(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=N0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await l2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ua;return r&&(ke(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ke(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=f_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r2(this,e)}reload(){return o2(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Yu(this,n2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,c,f,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,A=(u=n.tenantId)!==null&&u!==void 0?u:void 0,V=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(f=n.createdAt)!==null&&f!==void 0?f:void 0,E=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:I,emailVerified:F,isAnonymous:U,providerData:H,stsTokenManager:O}=n;ke(I&&O,e,"internal-error");const w=Ua.fromJSON(this.name,O);ke(typeof I=="string",e,"internal-error"),_s(g,e.name),_s(_,e.name),ke(typeof F=="boolean",e,"internal-error"),ke(typeof U=="boolean",e,"internal-error"),_s(S,e.name),_s(b,e.name),_s(A,e.name),_s(V,e.name),_s(x,e.name),_s(E,e.name);const C=new Fi({uid:I,auth:e,email:_,emailVerified:F,displayName:g,isAnonymous:U,photoURL:b,phoneNumber:S,tenantId:A,stsTokenManager:w,createdAt:x,lastLoginAt:E});return H&&Array.isArray(H)&&(C.providerData=H.map(k=>Object.assign({},k))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ua;i.updateFromServerResponse(n);const s=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?WP(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Ua;u.updateFromIdToken(r);const c=new Fi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;function zi(t){Xi(t instanceof Function,"Expected a class definition");let e=D0.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qP.type="NONE";const V0=qP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}class $a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $a(zi(V0),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||zi(V0);const a=Vd(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const p=await f._get(a);if(p){const g=Fi._fromJSON(e,p);f!==s&&(u=g),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new $a(s,e,r):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new $a(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XP(e))return"Blackberry";if(JP(e))return"Webos";if(KP(e))return"Safari";if((e.includes("chrome/")||ZP(e))&&!e.includes("edge/"))return"Chrome";if(YP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GP(t=yn()){return/firefox\//i.test(t)}function KP(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZP(t=yn()){return/crios\//i.test(t)}function QP(t=yn()){return/iemobile/i.test(t)}function YP(t=yn()){return/android/i.test(t)}function XP(t=yn()){return/blackberry/i.test(t)}function JP(t=yn()){return/webos/i.test(t)}function v_(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c2(t=yn()){var e;return v_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d2(){return bL()&&document.documentMode===10}function ex(t=yn()){return v_(t)||YP(t)||JP(t)||XP(t)||/windows phone/i.test(t)||QP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e=[]){let n;switch(t){case"Browser":n=F0(yn());break;case"Worker":n=`${F0(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e={}){return io(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=6;class m2{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:p2,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HP(this,{idToken:e}),r=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(si(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject($i(this));const n=e?en(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f2(this),n=new m2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wo(t){return en(t)}class z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=DL(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v2(t){Lf=t}function nx(t){return Lf.loadJS(t)}function _2(){return Lf.recaptchaEnterpriseScript}function y2(){return Lf.gapiScript}function w2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const E2="recaptcha-enterprise",T2="NO_RECAPTCHA";class S2{constructor(e){this.type=E2,this.auth=Wo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{t2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new e2(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function i(s,a,u){const c=window.grecaptcha;M0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(T2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&M0(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_2();c.length!==0&&(c+=u),nx(c).then(()=>{i(u,s,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function j0(t,e,n,r=!1){const i=new S2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await j0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await j0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){const n=Av(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Th(s,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function P2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x2(t,e,n){const r=Wo(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rx(e),{host:a,port:u}=C2(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),b2()}function rx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C2(t){const e=rx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:B0(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:B0(a)}}}function B0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function b2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,n){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function A2(t,e){return io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e){return wc(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function L2(t,e){return wc(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends __{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,n,"signInWithPassword",R2);case"emailLink":return k2(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,r,"signUpPassword",A2);case"emailLink":return L2(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t,e){return wc(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="http://localhost";class Do extends __{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=f_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Do(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:O2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N2(t){const e=ru(iu(t)).link,n=e?ru(iu(e)).deep_link_id:null,r=ru(iu(t)).deep_link_id;return(r?ru(iu(r)).link:null)||r||n||e||t}class y_{constructor(e){var n,r,i,s,a,u;const c=ru(iu(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=M2((i=c.mode)!==null&&i!==void 0?i:null);ke(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=N2(e);try{return new y_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y_.parseLink(n);return ke(r,"argument-error"),Xu._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ec{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Do._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Ec{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Ec{constructor(){super("twitter.com")}static credential(e,n){return Do._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t,e){return wc(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fi._fromIdTokenResponse(e,r,i),a=U0(r);return new Vo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U0(r);return new Vo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends es{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vh(e,n,r,i)}}function sx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(t,s,e,r):s})}async function V2(t,e,n=!1){const r=await Yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e,n=!1){const{auth:r}=t;if(si(r.app))return Promise.reject($i(r));const i="reauthenticate";try{const s=await Yu(t,sx(r,i,e,t),n);ke(s.idToken,r,"internal-error");const a=g_(s.idToken);ke(a,r,"internal-error");const{sub:u}=a;return ke(t.uid===u,r,"user-mismatch"),Vo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e,n=!1){if(si(t.app))return Promise.reject($i(t));const r="signIn",i=await sx(t,r,e),s=await Vo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function z2(t,e){return ox(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j2(t,e,n){if(si(t.app))return Promise.reject($i(t));const r=Wo(t),a=await fg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D2).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ax(t),c}),u=await Vo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function B2(t,e,n){return si(t.app)?Promise.reject($i(t)):z2(en(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ax(t),r})}function U2(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function $2(t,e,n){return en(t).beforeAuthStateChanged(e,n)}function w_(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=1e3,W2=10;class ux extends lx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);d2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ux.type="LOCAL";const q2=ux;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx extends lx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cx.type="SESSION";const dx=cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async f=>f(n.origin,s)),c=await G2(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const f=E_("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function Z2(t){fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function Q2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function X2(){return hx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="firebaseLocalStorageDb",J2=1,zh="firebaseLocalStorage",px="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function eV(){const t=indexedDB.deleteDatabase(fx);return new Tc(t).toPromise()}function pg(){const t=indexedDB.open(fx,J2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:px})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await eV(),e(await pg()))})})}async function $0(t,e,n){const r=Mf(t,!0).put({[px]:e,value:n});return new Tc(r).toPromise()}async function tV(t,e){const n=Mf(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function H0(t,e){const n=Mf(t,!0).delete(e);return new Tc(n).toPromise()}const nV=800,rV=3;class mx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(X2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Q2(),!this.activeServiceWorker)return;this.sender=new K2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await $0(e,Fh,"1"),await H0(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mf(i,!1).getAll();return new Tc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mx.type="LOCAL";const iV=mx;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t,e){return e?zi(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends __{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oV(t){return ox(t.auth,new T_(t),t.bypassAuthState)}function aV(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),F2(n,new T_(t),t.bypassAuthState)}async function lV(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),V2(n,new T_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oV;case"linkViaPopup":case"linkViaRedirect":return lV;case"reauthViaPopup":case"reauthViaRedirect":return aV;default:jr(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new yc(2e3,1e4);class La extends gx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=E_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uV.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="pendingRedirect",Fd=new Map;class dV extends gx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const r=await hV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hV(t,e){const n=mV(e),r=pV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fV(t,e){Fd.set(t._key(),e)}function pV(t){return zi(t._redirectPersistence)}function mV(t){return Vd(cV,t.config.apiKey,t.name)}async function gV(t,e,n=!1){if(si(t.app))return Promise.reject($i(t));const r=Wo(t),i=sV(r,e),a=await new dV(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=10*60*1e3;class _V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vV&&this.cachedEventUids.clear(),this.cachedEventUids.has(W0(e))}saveEventToCache(e){this.cachedEventUids.add(W0(e)),this.lastProcessedEventTime=Date.now()}}function W0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e={}){return io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TV=/^https?/;async function SV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wV(t);for(const n of e)try{if(IV(n))return}catch{}jr(t,"unauthorized-domain")}function IV(t){const e=dg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!TV.test(n))return!1;if(EV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new yc(3e4,6e4);function q0(){const t=fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xV(t){return new Promise((e,n)=>{var r,i,s;function a(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(hi(t,"network-request-failed"))},timeout:PV.get()})}if(!((i=(r=fi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fi().gapi)===null||s===void 0)&&s.load)a();else{const u=w2("iframefcb");return fi()[u]=()=>{gapi.load?a():n(hi(t,"network-request-failed"))},nx(`${y2()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw zd=null,e})}let zd=null;function CV(t){return zd=zd||xV(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new yc(5e3,15e3),AV="__/auth/iframe",RV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OV(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?m_(e,RV):`https://${t.config.authDomain}/${AV}`,r={apiKey:e.apiKey,appName:t.name,v:dl},i=LV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cc(r).slice(1)}`}async function MV(t){const e=await CV(t),n=fi().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:OV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=hi(t,"network-request-failed"),u=fi().setTimeout(()=>{s(a)},bV.get());function c(){fi().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DV=500,VV=600,FV="_blank",zV="http://localhost";class G0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jV(t,e,n,r=DV,i=VV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},NV),{width:r.toString(),height:i.toString(),top:s,left:a}),f=yn().toLowerCase();n&&(u=ZP(f)?FV:n),GP(f)&&(e=e||zV,c.scrollbars="yes");const p=Object.entries(c).reduce((_,[S,b])=>`${_}${S}=${b},`,"");if(c2(f)&&u!=="_self")return BV(e||"",u),new G0(null);const g=window.open(e||"",u,p);ke(g,t,"popup-blocked");try{g.focus()}catch{}return new G0(g)}function BV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="__/auth/handler",$V="emulator/auth/handler",HV=encodeURIComponent("fac");async function K0(t,e,n,r,i,s){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dl,eventId:i};if(e instanceof ix){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",NL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof Ec){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),f=c?`#${HV}=${encodeURIComponent(c)}`:"";return`${WV(t)}?${cc(u).slice(1)}${f}`}function WV({config:t}){return t.emulator?m_(t,$V):`https://${t.authDomain}/${UV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class qV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dx,this._completeRedirectFn=gV,this._overrideRedirectResult=fV}async _openPopup(e,n,r,i){var s;Xi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await K0(e,n,r,dg(),i);return jV(e,a,E_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await K0(e,n,r,dg(),i);return Z2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MV(e),r=new _V(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bp];a!==void 0&&n(!!a),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ex()||KP()||v_()}}const GV=qV;var Z0="@firebase/auth",Q0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QV(t){Ja(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;ke(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tx(t)},f=new g2(r,i,s,c);return P2(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ja(new Lo("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(r=>new KV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(Z0,Q0,ZV(t)),Ws(Z0,Q0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=5*60,XV=uI("authIdTokenMaxAge")||YV;let Y0=null;const JV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XV)return;const i=n==null?void 0:n.token;Y0!==i&&(Y0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S_(t=fI()){const e=Av(t,"auth");if(e.isInitialized())return e.getImmediate();const n=I2(t,{popupRedirectResolver:GV,persistence:[iV,q2,dx]}),r=uI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=JV(s.toString());$2(n,a,()=>a(n.currentUser)),U2(n,u=>a(u))}}const i=aI("auth");return i&&x2(n,`http://${i}`),n}function eF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QV("Browser");const tF={apiKey:"AIzaSyAPJBKfnpcxHtkPkS18CH4mb9AeFCq_9nY",authDomain:"programacion-ec39e.firebaseapp.com",projectId:"programacion-ec39e",storageBucket:"programacion-ec39e.appspot.com",messagingSenderId:"136757147578",appId:"1:136757147578:web:57d88a0060a8c982564f83"},I_=hI(tF),Nf=S_(I_),Wt=If(I_),nF=If(I_),rF=zr(Wt,"receipts"),iF=zr(Wt,"events"),sF=async()=>{const t=zr(nF,"shopping");return(await Rf(t)).docs.map(r=>({id:Number(r.id),image:r.data().image||"",name:r.data().name||"Sin nombre",price:r.data().price||0,disponibility:r.data().disponibility||0,eventType:r.data().eventType||"Desconocido"}))},oF=t=>{const e=mi(),n=()=>{e(-1)};return P.jsxs("div",{className:"BackBtn",children:[P.jsx("button",{onClick:n,children:P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/DetailScreen%2FBack.webp?alt=media&token=f18bcebc-06b9-4d2f-abe5-895fe0f7505b",alt:"backbutton"})}),P.jsx("p",{children:t.NameEvent})]})},aF=({closeModal:t,handleInviteUser:e,searchValue:n,setSearchValue:r,filteredUsers:i,selectedUsers:s,handleUserSelect:a,handleRemoveUser:u})=>{const c=f=>f.split(new RegExp(`(${n})`,"gi")).map((g,_)=>g.toLowerCase()===n.toLowerCase()?P.jsx("span",{className:"highlight",children:g},_):g);return P.jsx("div",{className:"modal",children:P.jsxs("div",{className:"modalContent",children:[P.jsx("button",{className:"closemodal_button",onClick:t,children:"x"}),P.jsx("h1",{className:"add_title",children:"Add a new guest"}),P.jsx("input",{type:"text",placeholder:"Guest name",value:n,onChange:f=>r(f.target.value),className:"searchInput"}),n.trim()!==""&&P.jsx(P.Fragment,{children:i.length===0?P.jsx("p",{children:"No users found"}):P.jsx("div",{className:"user-list",children:i.map(f=>P.jsxs("div",{className:"user-item",onClick:()=>a(f),children:[P.jsx("img",{src:f.img,alt:f.username,className:"user-image"}),P.jsx("p",{className:"user-name",children:c(f.username)})]},f.id))})}),P.jsx("h3",{className:"sent_title",children:"Sent to"}),P.jsx("div",{className:"selected-users",children:s.map(f=>P.jsxs("div",{className:"selected-user-card",children:[P.jsx("img",{src:f.img,alt:f.username,className:"selected-user-image"}),P.jsx("p",{id:"selected_user_name",children:f.username}),P.jsx("button",{className:"eliminate_guest",onClick:()=>u(f.id),children:"x"})]},f.id))}),P.jsx("div",{className:"modalActions",children:P.jsx("button",{className:"Addguest_button",onClick:e,disabled:s.length===0,children:"Add guests"})})]})})},lF=({users:t,searchValue:e,setSearchValue:n,closeModal:r,selectedUsers:i,setSelectedUsers:s,handleInviteUser:a})=>{const[u,c]=B.useState(e);B.useEffect(()=>{const _=setTimeout(()=>{c(e)},800);return()=>{clearTimeout(_)}},[e]);const f=_=>{i.some(S=>S.id===_.id)||(s([...i,_]),n(""))},p=_=>{s(i.filter(S=>S.id!==_))},g=t.filter(_=>_.username.toLowerCase().includes(u.toLowerCase()));return P.jsx(aF,{closeModal:r,handleInviteUser:a,searchValue:e,setSearchValue:n,filteredUsers:g,selectedUsers:i,handleUserSelect:f,handleRemoveUser:p})},uF=t=>P.jsxs("div",{className:"FunctionBtn",children:[P.jsxs("button",{onClick:t.NextShooping,children:[P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/DetailScreen%2FShopping.webp?alt=media&token=e4fcb8ff-dc4f-440d-9eb7-a5026689983e",alt:"card shopping icon"}),"Shopping"]}),P.jsxs("button",{onClick:t.NextFound,children:[P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/DetailScreen%2FFondo.webp?alt=media&token=111c0ea2-b645-40ca-8a8b-581d2bbc9fd0",alt:"bill dollar icon"}),"Found"]}),P.jsxs("button",{onClick:t.NextInvite,children:[P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/DetailScreen%2FAgregar.webp?alt=media&token=d6fdfcac-2a97-40a8-b94a-9c8dcaecd8fc",alt:"invited icon"}),"Invite"]})]}),cF=t=>{const[e,n]=B.useState([]),r=If();return B.useEffect(()=>{(async()=>{if(t.trim()===""){n([]);return}try{const s=al(zr(r,"users"),ci("username",">=",t),ci("username","<=",t+"")),u=(await Rf(s)).docs.map(c=>({id:c.id,...c.data()}));n(u)}catch(s){console.error("Error fetching filtered users: ",s)}})()},[t,r]),e},dF=t=>{const[e,n]=B.useState(!1),[r,i]=B.useState(""),[s,a]=B.useState([]),[u,c]=B.useState([]),[f,p]=B.useState(4),g=If(),_=cF(r),S=async F=>{const U=on(g,"events",F),H=await di(U);if(H.exists()){const O=H.data();return{eventType:(O==null?void 0:O.eventType)||"",eventDate:(O==null?void 0:O.date)||"",startTime:(O==null?void 0:O.startTime)||"",creatorId:(O==null?void 0:O.userId)||"",eventName:(O==null?void 0:O.name)||""}}return{eventType:"",eventDate:"",startTime:"",creatorId:"",eventName:""}},b=async F=>{if(!F)return{creatorName:"",creatorImg:""};const U=on(g,"users",F),H=await di(U);if(H.exists()){const O=H.data();return{creatorName:(O==null?void 0:O.username)||"",creatorImg:(O==null?void 0:O.img)||""}}return{creatorName:"",creatorImg:""}},A=async F=>{const U=on(g,"users",F),H=await di(U);if(H.exists()){const O=H.data();return{username:(O==null?void 0:O.username)||"",img:(O==null?void 0:O.img)||""}}return{username:"",img:""}},V=async()=>{if(!t||s.length===0){console.error("No users selected or event ID is missing");return}try{const F=await S(t),U=F.creatorId,{creatorName:H,creatorImg:O}=await b(U),w=[];for(const C of s){const k=await A(C.id),D=C.img,j={userId:C.id,eventId:t,eventType:F.eventType,eventDate:F.eventDate,startTime:F.startTime,userImg:D,creatorName:H,creatorId:U,creatorImg:O,username:k.username,eventName:F.eventName};w.push(j);const M=zr(g,"invitations"),re=on(M);await NP(re,{...j,status:"pending",dateSent:new Date().toISOString()}),console.log(`Invitación enviada a: ${k.username} para el evento: ${t} por el creador: ${H}`)}c(C=>[...C,...w]),n(!1),a([])}catch(F){console.error("Error inviting users: ",F)}},x=()=>{n(!0)},E=()=>{p(F=>F+4)},I=u.slice(0,f);return{isModalOpen:e,setIsModalOpen:n,filteredUsers:_,searchValue:r,setSearchValue:i,selectedUsers:s,setSelectedUsers:a,handleInviteUser:V,handleNextInvite:x,sentInvitations:u,visibleInvitations:I,loadMoreInvitations:E}},hF=t=>{const{state:e}=ac(),n=mi(),r=e==null?void 0:e.id,{isModalOpen:i,setIsModalOpen:s,searchValue:a,setSearchValue:u,filteredUsers:c,selectedUsers:f,setSelectedUsers:p,handleInviteUser:g,handleNextInvite:_}=dF(r),S=()=>{n(`/shopping/${r}`,{state:{eventType:t.EventType,eventId:r}})},b=()=>{console.log("Found clicked")},A=()=>{s(!1),u(""),p([])};return P.jsxs("div",{className:"InfoCard",children:[P.jsx("div",{className:"ImgBanner",children:P.jsx("img",{src:t.img,alt:""})}),P.jsx("div",{className:"NameEvent",children:P.jsx("h1",{children:t.NameEvent})}),P.jsx("div",{className:"Host",children:P.jsx("p",{children:t.Host})}),P.jsxs("div",{className:"InfoSections",children:[P.jsxs("div",{className:"InfoSecttion1",children:[P.jsxs("p",{children:[P.jsx("strong",{children:"Event Type:"})," ",t.EventType]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Dress Code:"})," ",t.DressCode]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Date:"})," ",t.Date]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Start Time:"})," ",t.StartTime]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Location:"})," ",t.Location]})]}),P.jsxs("div",{className:"InfoSecttion2",children:[P.jsxs("p",{children:[P.jsx("strong",{children:"Description:"})," "]}),P.jsx("p",{children:t.Description})]})]}),P.jsx("div",{className:"FunctionBtns",children:P.jsx(uF,{NextShooping:S,NextFound:b,NextInvite:_})}),i&&P.jsx(lF,{users:c,searchValue:a,setSearchValue:u,closeModal:A,selectedUsers:f,setSelectedUsers:p,handleInviteUser:g})]})},fF=({eventId:t})=>{const[e,n]=B.useState(null);return B.useEffect(()=>{(async()=>{const i=on(Wt,"events",t),s=await di(i);s.exists()?(console.log("Event data:",s.data()),n(s.data())):console.log("No such document!")})()},[t]),e?P.jsxs("div",{className:"MapInfo",children:[P.jsx(oF,{NameEvent:e.name}),P.jsx(hF,{img:e.image,NameEvent:e.name,Host:e.host,EventType:e.eventType,DressCode:e.dressCode,Date:e.date,StartTime:e.startTime,Location:e.location,Description:e.description})]}):P.jsx("p",{children:"Loading event details..."})},_x=()=>{const t=Iv(),[e,n]=B.useState(null),[r,i]=B.useState(null);return B.useEffect(()=>{const s=w_(Nf,async a=>{if(a)try{const u=on(Wt,"users",a.uid),c=await di(u);if(c.exists()){const f=c.data();n(f.username||null),i(f.profileImg||null)}else console.error("No such document!"),n(null),i(null)}catch(u){console.error("Error fetching user document:",u),n(null),i(null)}else n(null),i(null)});return()=>s()},[]),P.jsxs("nav",{className:`nav_bar3 ${t?"scrolled":""}`,children:[P.jsx("h1",{className:"app_name",children:"Eventix"}),P.jsxs("ul",{className:"nav_links",children:[P.jsx("li",{children:P.jsx("a",{href:"/",children:"ABOUT US"})}),P.jsx("li",{children:P.jsx("a",{href:"/about",children:"SUPPORT"})})]}),P.jsx("img",{id:"profile_img_nav",src:r||"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/Personajes%2FPersonaje1.svg?alt=media&token=8c75c21d-de7c-430c-9246-fdadb91db2d7",alt:"Profile"}),P.jsx("p",{id:"user_name_nav",children:e||"Guest"})]})},pF=()=>{const t=ac(),{id:e}=t.state||{};return console.log("Received ID:",e),P.jsxs("div",{className:"Detail-screen",children:[P.jsx(_x,{}),e?P.jsx(fF,{eventId:e}):P.jsx("p",{children:"No event selected"})]})},mF=()=>{const{userId:t}=cf(),e=Iv(),[n,r]=B.useState(null),[i,s]=B.useState(null);return B.useEffect(()=>{const a=w_(Nf,async u=>{if(u&&t)try{const c=on(Wt,"users",t),f=await di(c);if(f.exists()){const p=f.data();r(p.username||null),s(p.img||null)}else console.error("No such document!"),r(null),s(null)}catch(c){console.error("Error fetching user document:",c),r(null),s(null)}else r(null),s(null)});return()=>a()},[t]),P.jsxs("nav",{className:`nav_bar2 ${e?"scrolled":""}`,children:[P.jsx("h1",{className:"app_name",children:"Eventix"}),P.jsxs("ul",{className:"nav_links",children:[P.jsx("li",{children:P.jsx("a",{"aria-label":"About us",href:"/",children:"ABOUT US"})}),P.jsx("li",{children:P.jsx("a",{"aria-label":"Support",href:"/about",children:"SUPPORT"})})]}),P.jsx("img",{id:"profile_img_nav",src:i||"https://via.placeholder.com/50",alt:"Profile"}),P.jsx("p",{id:"user_name_nav",children:n||"Guest"})]})},gF=({creatorId:t})=>{const[e,n]=B.useState([]);return B.useEffect(()=>{if(console.log("Creator ID in InvitationsAccept:",t),!t){console.error("Creator ID is missing.");return}(async()=>{try{const i=zr(Wt,"invitations"),s=al(i,ci("creatorId","==",t),ci("status","==","accepted")),a=await Rf(s);if(a.empty){console.log("No accepted invitations found for this creator.");return}const u=[];a.forEach(c=>{const f=c.data();console.log("Invitation Data:",f),f.userId&&f.username&&f.creatorImg?u.push({id:f.userId,name:f.username,profileUrl:f.userImg,eventName:f.eventName||"Unknown Event"}):console.warn("Missing fields in invitation data:",f)}),n(u),console.log("Accepted Users:",u)}catch(i){console.error("Error fetching accepted users:",i)}})()},[t]),P.jsx("div",{id:"acepted_invitations_shadow",children:P.jsxs("div",{id:"acepted_invitations_div",children:[P.jsx("h2",{id:"acepted_invitations_tittle",children:"Invitations"}),e.length>0?e.map(r=>P.jsxs("div",{id:"acepted_invitation",children:[P.jsx("img",{id:"profile_img",src:r.profileUrl,alt:r.name}),P.jsx("div",{id:"acepted_invitation_text",children:P.jsxs("p",{id:"text_accepted_p",children:[r.name," accepted the invitation to ",P.jsx("span",{children:r.eventName})]})})]},r.id)):P.jsx("p",{id:"no_accepted_inv",children:"No accepted invitations yet."})]})})},vF=({icon:t,onClick:e})=>P.jsx("div",{children:P.jsx("button",{id:"edit_button",onClick:e,children:t})}),_F=({onClick:t})=>P.jsxs("div",{children:[P.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"}),P.jsx("button",{id:"deleted",onClick:t,children:P.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),X0=({creator:t,ocation:e,eventDate:n,hour:r,creatorImg:i,onAccept:s,onReject:a})=>P.jsxs("div",{id:"Invitation",children:[P.jsx("img",{id:"profile_img",src:i,alt:`Creator: ${t}`}),P.jsxs("div",{id:"invitation_text",children:[P.jsxs("p",{id:"name",children:[t," sent you an invitation"]}),P.jsxs("p",{id:"ocation",children:["Ocation: ",P.jsx("span",{id:"ocation_type",children:e})]}),P.jsxs("p",{id:"date",children:["Date: ",P.jsx("span",{id:"date_number",children:n})]}),P.jsxs("p",{id:"date",children:["Hour: ",P.jsx("span",{id:"date_number",children:r})]})]}),P.jsxs("div",{id:"Buttons",children:[P.jsx(_F,{onClick:a}),P.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"}),P.jsx(vF,{icon:P.jsx("span",{className:"material-symbols-outlined",children:"check"}),onClick:s})]})]}),yF=()=>{const[t,e]=B.useState(window.innerWidth<=768),[n,r]=B.useState([]),{userId:i}=cf(),[s]=B.useState(4);B.useEffect(()=>{i&&(()=>{try{const f=al(zr(Wt,"invitations"),ci("userId","==",i),ci("status","==","pending"));return Mh(f,g=>{const _=g.docs.map(S=>({id:S.id,...S.data()}));r(_)})}catch(f){console.error("Error fetching invitations: ",f)}})()},[i]),B.useEffect(()=>{const c=()=>{e(window.innerWidth<=768)};return window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]);const a=async(c,f)=>{try{const p=on(Wt,"events",f),g=await di(p);if(!g.exists()){console.error("No se encontraron detalles del evento para el ID:",f);return}const _=g.data(),S=_==null?void 0:_.eventType,b=_==null?void 0:_.date,A=on(Wt,"invitations",c);await Qu(A,{status:"accepted"}),console.log(`Invitación aceptada para el evento: ${S} en la fecha: ${b}`),console.log(`ID del evento aceptado: ${f}`),r(V=>V.filter(x=>x.id!==c))}catch(p){console.error("Error accepting invitation: ",p)}},u=async c=>{try{const f=on(Wt,"invitations",c);await Qu(f,{status:"rejected"}),console.log(`Invitación rechazada para el ID de invitación: ${c}`),r(p=>p.filter(g=>g.id!==c))}catch(f){console.error("Error rejecting invitation: ",f)}};return P.jsx("div",{id:"invitations_div_shadow",children:P.jsxs("div",{id:"invitations_div",children:[P.jsx("h2",{id:"invitations_tittle",children:"Invitations"}),n.length===0?P.jsx("p",{id:"no-invitations-message",children:"No pending invitations"}):t?P.jsx(lc,{spaceBetween:5,slidesPerView:1,pagination:{clickable:!0},navigation:!1,children:n.slice(0,s).map(c=>P.jsx(ko,{children:P.jsx(X0,{creator:c.creatorName,ocation:c.eventType,eventDate:c.eventDate,hour:c.startTime,creatorImg:c.creatorImg,eventData:c.eventData,onAccept:()=>a(c.id,c.eventId),onReject:()=>u(c.id)})},c.id))}):n.slice(0,s).map(c=>P.jsx(X0,{creator:c.creatorName,ocation:c.eventType,eventDate:c.eventDate,hour:c.startTime,creatorImg:c.creatorImg,eventData:c.eventData,onAccept:()=>a(c.id,c.eventId),onReject:()=>u(c.id)},c.id))]})})},wF=({onClick:t})=>{const e=n=>{n.stopPropagation(),t()};return P.jsxs("div",{children:[P.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"}),P.jsx("button",{id:"deleted",onClick:e,children:P.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})};function yx(t,e){const n=B.useRef(e);B.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const EF=1;function TF(t){return Object.freeze({__version:EF,map:t})}function SF(t,e){return Object.freeze({...t,...e})}const wx=B.createContext(null),Ex=wx.Provider;function P_(){const t=B.useContext(wx);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function IF(t){function e(n,r){const{instance:i,context:s}=t(n).current;return B.useImperativeHandle(r,()=>i),n.children==null?null:_t.createElement(Ex,{value:s},n.children)}return B.forwardRef(e)}function PF(t){function e(n,r){const[i,s]=B.useState(!1),{instance:a}=t(n,s).current;B.useImperativeHandle(r,()=>a),B.useEffect(function(){i&&a.update()},[a,i,n.children]);const u=a._contentNode;return u?sf.createPortal(n.children,u):null}return B.forwardRef(e)}function xF(t){function e(n,r){const{instance:i}=t(n).current;return B.useImperativeHandle(r,()=>i),null}return B.forwardRef(e)}function Tx(t,e){const n=B.useRef();B.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function x_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function CF(t,e){return function(r,i){const s=P_(),a=t(x_(r,s),s);return yx(s.map,r.attribution),Tx(a.current,r.eventHandlers),e(a.current,s,r,i),a}}var mg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(P1,function(n){var r="1.9.4";function i(o){var l,h,m,y;for(h=1,m=arguments.length;h<m;h++){y=arguments[h];for(l in y)o[l]=y[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var m=h.call(arguments,2);return function(){return o.apply(l,m.length?m.concat(h.call(arguments)):arguments)}}var u=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++u),o._leaflet_id}function f(o,l,h){var m,y,R,$;return $=function(){m=!1,y&&(R.apply(h,y),y=!1)},R=function(){m?y=arguments:(o.apply(h,arguments),setTimeout($,l),m=!0)},R}function p(o,l,h){var m=l[1],y=l[0],R=m-y;return o===m&&h?o:((o-y)%R+R)%R+y}function g(){return!1}function _(o,l){if(l===!1)return o;var h=Math.pow(10,l===void 0?6:l);return Math.round(o*h)/h}function S(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function b(o){return S(o).split(/\s+/)}function A(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var h in l)o.options[h]=l[h];return o.options}function V(o,l,h){var m=[];for(var y in o)m.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(o[y]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function E(o,l){return o.replace(x,function(h,m){var y=l[m];if(y===void 0)throw new Error("No value provided for variable "+h);return typeof y=="function"&&(y=y(l)),y})}var I=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function F(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var O=0;function w(o){var l=+new Date,h=Math.max(0,16-(l-O));return O=l+h,window.setTimeout(o,h)}var C=window.requestAnimationFrame||H("RequestAnimationFrame")||w,k=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function D(o,l,h){if(h&&C===w)o.call(l);else return C.call(window,a(o,l))}function j(o){o&&k.call(window,o)}var M={__proto__:null,extend:i,create:s,bind:a,get lastId(){return u},stamp:c,throttle:f,wrapNum:p,falseFn:g,formatNum:_,trim:S,splitWords:b,setOptions:A,getParamString:V,template:E,isArray:I,indexOf:F,emptyImageUrl:U,requestFn:C,cancelFn:k,requestAnimFrame:D,cancelAnimFrame:j};function re(){}re.extend=function(o){var l=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,m=s(h);m.constructor=l,l.prototype=m;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return o.statics&&i(l,o.statics),o.includes&&(he(o.includes),i.apply(null,[m].concat(o.includes))),i(m,o),delete m.statics,delete m.includes,m.options&&(m.options=h.options?s(h.options):{},i(m.options,o.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,$=m._initHooks.length;R<$;R++)m._initHooks[R].call(this)}},l},re.include=function(o){var l=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},re.mergeOptions=function(o){return i(this.prototype.options,o),this},re.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function he(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=I(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Se={on:function(o,l,h){if(typeof o=="object")for(var m in o)this._on(m,o[m],l);else{o=b(o);for(var y=0,R=o.length;y<R;y++)this._on(o[y],l,h)}return this},off:function(o,l,h){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var m in o)this._off(m,o[m],l);else{o=b(o);for(var y=arguments.length===1,R=0,$=o.length;R<$;R++)y?this._off(o[R]):this._off(o[R],l,h)}return this},_on:function(o,l,h,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,h)===!1){h===this&&(h=void 0);var y={fn:l,ctx:h};m&&(y.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(y)}},_off:function(o,l,h){var m,y,R;if(this._events&&(m=this._events[o],!!m)){if(arguments.length===1){if(this._firingCount)for(y=0,R=m.length;y<R;y++)m[y].fn=g;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var $=this._listens(o,l,h);if($!==!1){var G=m[$];this._firingCount&&(G.fn=g,this._events[o]=m=m.slice()),m.splice($,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var m=i({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[o];if(y){this._firingCount=this._firingCount+1||1;for(var R=0,$=y.length;R<$;R++){var G=y[R],Q=G.fn;G.once&&this.off(o,Q,G.ctx),Q.call(G.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(o,l,h,m){typeof o!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(m=!!l,y=void 0,h=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,y,h)!==!1)return!0;if(m){for(var $ in this._eventParents)if(this._eventParents[$].listens(o,l,h,m))return!0}return!1},_listens:function(o,l,h){if(!this._events)return!1;var m=this._events[o]||[];if(!l)return!!m.length;h===this&&(h=void 0);for(var y=0,R=m.length;y<R;y++)if(m[y].fn===l&&m[y].ctx===h)return y;return!1},once:function(o,l,h){if(typeof o=="object")for(var m in o)this._on(m,o[m],l,!0);else{o=b(o);for(var y=0,R=o.length;y<R;y++)this._on(o[y],l,h,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};Se.addEventListener=Se.on,Se.removeEventListener=Se.clearAllEventListeners=Se.off,Se.addOneTimeEventListener=Se.once,Se.fireEvent=Se.fire,Se.hasEventListeners=Se.listens;var Fe=re.extend(Se);function K(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var ie=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(o){return this.clone()._add(J(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(J(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new K(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new K(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(o){o=J(o);var l=o.x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return o=J(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=J(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function J(o,l,h){return o instanceof K?o:I(o)?new K(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new K(o.x,o.y):new K(o,l,h)}function ye(o,l){if(o)for(var h=l?[o,l]:o,m=0,y=h.length;m<y;m++)this.extend(h[m])}ye.prototype={extend:function(o){var l,h;if(!o)return this;if(o instanceof K||typeof o[0]=="number"||"x"in o)l=h=J(o);else if(o=me(o),l=o.min,h=o.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(o){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return typeof o[0]=="number"||o instanceof K?o=J(o):o=me(o),o instanceof ye?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=me(o);var l=this.min,h=this.max,m=o.min,y=o.max,R=y.x>=l.x&&m.x<=h.x,$=y.y>=l.y&&m.y<=h.y;return R&&$},overlaps:function(o){o=me(o);var l=this.min,h=this.max,m=o.min,y=o.max,R=y.x>l.x&&m.x<h.x,$=y.y>l.y&&m.y<h.y;return R&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,h=this.max,m=Math.abs(l.x-h.x)*o,y=Math.abs(l.y-h.y)*o;return me(J(l.x-m,l.y-y),J(h.x+m,h.y+y))},equals:function(o){return o?(o=me(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function me(o,l){return!o||o instanceof ye?o:new ye(o,l)}function Pe(o,l){if(o)for(var h=l?[o,l]:o,m=0,y=h.length;m<y;m++)this.extend(h[m])}Pe.prototype={extend:function(o){var l=this._southWest,h=this._northEast,m,y;if(o instanceof Ce)m=o,y=o;else if(o instanceof Pe){if(m=o._southWest,y=o._northEast,!m||!y)return this}else return o?this.extend(Te(o)||Me(o)):this;return!l&&!h?(this._southWest=new Ce(m.lat,m.lng),this._northEast=new Ce(y.lat,y.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,m=Math.abs(l.lat-h.lat)*o,y=Math.abs(l.lng-h.lng)*o;return new Pe(new Ce(l.lat-m,l.lng-y),new Ce(h.lat+m,h.lng+y))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ce||"lat"in o?o=Te(o):o=Me(o);var l=this._southWest,h=this._northEast,m,y;return o instanceof Pe?(m=o.getSouthWest(),y=o.getNorthEast()):m=y=o,m.lat>=l.lat&&y.lat<=h.lat&&m.lng>=l.lng&&y.lng<=h.lng},intersects:function(o){o=Me(o);var l=this._southWest,h=this._northEast,m=o.getSouthWest(),y=o.getNorthEast(),R=y.lat>=l.lat&&m.lat<=h.lat,$=y.lng>=l.lng&&m.lng<=h.lng;return R&&$},overlaps:function(o){o=Me(o);var l=this._southWest,h=this._northEast,m=o.getSouthWest(),y=o.getNorthEast(),R=y.lat>l.lat&&m.lat<h.lat,$=y.lng>l.lng&&m.lng<h.lng;return R&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=Me(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Me(o,l){return o instanceof Pe?o:new Pe(o,l)}function Ce(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,h!==void 0&&(this.alt=+h)}Ce.prototype={equals:function(o,l){if(!o)return!1;o=Te(o);var h=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return h<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+_(this.lat,o)+", "+_(this.lng,o)+")"},distanceTo:function(o){return Ut.distance(this,Te(o))},wrap:function(){return Ut.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return Me([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function Te(o,l,h){return o instanceof Ce?o:I(o)&&typeof o[0]!="object"?o.length===3?new Ce(o[0],o[1],o[2]):o.length===2?new Ce(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ce(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new Ce(o,l,h)}var Xe={latLngToPoint:function(o,l){var h=this.projection.project(o),m=this.scale(l);return this.transformation._transform(h,m)},pointToLatLng:function(o,l){var h=this.scale(l),m=this.transformation.untransform(o,h);return this.projection.unproject(m)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o),m=this.transformation.transform(l.min,h),y=this.transformation.transform(l.max,h);return new ye(m,y)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,h=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,m=o.alt;return new Ce(h,l,m)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),m=l.lat-h.lat,y=l.lng-h.lng;if(m===0&&y===0)return o;var R=o.getSouthWest(),$=o.getNorthEast(),G=new Ce(R.lat-m,R.lng-y),Q=new Ce($.lat-m,$.lng-y);return new Pe(G,Q)}},Ut=i({},Xe,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,m=o.lat*h,y=l.lat*h,R=Math.sin((l.lat-o.lat)*h/2),$=Math.sin((l.lng-o.lng)*h/2),G=R*R+Math.cos(m)*Math.cos(y)*$*$,Q=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Q}}),Ur=6378137,wn={R:Ur,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,o.lat),-h),y=Math.sin(m*l);return new K(this.R*o.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(o){var l=180/Math.PI;return new Ce((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Ur*Math.PI;return new ye([-o,-o],[o,o])}()};function cr(o,l,h,m){if(I(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=h,this._d=m}cr.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new K((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function xr(o,l,h,m){return new cr(o,l,h,m)}var gi=i({},Ut,{code:"EPSG:3857",projection:wn,transformation:function(){var o=.5/(Math.PI*wn.R);return xr(o,.5,-o,.5)}()}),kt=i({},gi,{code:"EPSG:900913"});function Gn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ts(o,l){var h="",m,y,R,$,G,Q;for(m=0,R=o.length;m<R;m++){for(G=o[m],y=0,$=G.length;y<$;y++)Q=G[y],h+=(y?"L":"M")+Q.x+" "+Q.y;h+=l?z.svg?"z":"x":""}return h||"M0 0"}var so=document.documentElement.style,Rn="ActiveXObject"in window,qo=Rn&&!document.addEventListener,ns="msLaunchUri"in navigator&&!("documentMode"in document),vi=Mn("webkit"),Go=Mn("android"),rs=Mn("android 2")||Mn("android 3"),oo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ko=Go&&Mn("Google")&&oo<537&&!("AudioNode"in window),st=!!window.opera,mt=!ns&&Mn("chrome"),$r=Mn("gecko")&&!vi&&!st&&!Rn,is=!mt&&Mn("safari"),kn=Mn("phantom"),Ln="OTransition"in so,Hr=navigator.platform.indexOf("Win")===0,Wr=Rn&&"transition"in so,ss="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rs,En="MozPerspective"in so,Zo=!window.L_DISABLE_3D&&(Wr||ss||En)&&!Ln&&!kn,qr=typeof orientation<"u"||Mn("mobile"),os=qr&&vi,Qo=qr&&ss,as=!window.PointerEvent&&window.MSPointerEvent,Kn=!!(window.PointerEvent||as),_i="ontouchstart"in window||!!window.TouchEvent,yi=!window.L_NO_TOUCH&&(_i||Kn),On=qr&&st,ls=qr&&$r,us=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ao=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,l),window.removeEventListener("testPassiveEventSupport",g,l)}catch{}return o}(),wi=function(){return!!document.createElement("canvas").getContext}(),Ei=!!(document.createElementNS&&Gn("svg").createSVGRect),Ct=!!Ei&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ti=!Ei&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Gr=navigator.platform.indexOf("Mac")===0,Si=navigator.platform.indexOf("Linux")===0;function Mn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var z={ie:Rn,ielt9:qo,edge:ns,webkit:vi,android:Go,android23:rs,androidStock:Ko,opera:st,chrome:mt,gecko:$r,safari:is,phantom:kn,opera12:Ln,win:Hr,ie3d:Wr,webkit3d:ss,gecko3d:En,any3d:Zo,mobile:qr,mobileWebkit:os,mobileWebkit3d:Qo,msPointer:as,pointer:Kn,touch:yi,touchNative:_i,mobileOpera:On,mobileGecko:ls,retina:us,passiveEvents:ao,canvas:wi,svg:Ei,vml:Ti,inlineSvg:Ct,mac:Gr,linux:Si},W=z.msPointer?"MSPointerDown":"pointerdown",Z=z.msPointer?"MSPointerMove":"pointermove",ee=z.msPointer?"MSPointerUp":"pointerup",ce=z.msPointer?"MSPointerCancel":"pointercancel",we={touchstart:W,touchmove:Z,touchend:ee,touchcancel:ce},xe={touchstart:ut,touchmove:dt,touchend:dt,touchcancel:dt},ae={},ve=!1;function ge(o,l,h){return l==="touchstart"&&je(),xe[l]?(h=xe[l].bind(this,h),o.addEventListener(we[l],h,!1),h):(console.warn("wrong event specified:",l),g)}function _e(o,l,h){if(!we[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(we[l],h,!1)}function Ue(o){ae[o.pointerId]=o}function Ge(o){ae[o.pointerId]&&(ae[o.pointerId]=o)}function tt(o){delete ae[o.pointerId]}function je(){ve||(document.addEventListener(W,Ue,!0),document.addEventListener(Z,Ge,!0),document.addEventListener(ee,tt,!0),document.addEventListener(ce,tt,!0),ve=!0)}function dt(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ae)l.touches.push(ae[h]);l.changedTouches=[l],o(l)}}function ut(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&wt(l),dt(o,l)}function Kr(o){var l={},h,m;for(m in o)h=o[m],l[m]=h&&h.bind?h.bind(o):h;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Tn=200;function Nn(o,l){o.addEventListener("dblclick",l);var h=0,m;function y(R){if(R.detail!==1){m=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var $=xl(R);if(!($.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!$.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var G=Date.now();G-h<=Tn?(m++,m===2&&l(Kr(R))):m=1,h=G}}}return o.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Gt(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var dr=Ii(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tn=Ii(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zr=tn==="webkitTransition"||tn==="OTransition"?tn+"End":"transitionend";function Qr(o){return typeof o=="string"?document.getElementById(o):o}function Zn(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(o,null);h=m?m[l]:null}return h==="auto"?null:h}function ue(o,l,h){var m=document.createElement(o);return m.className=l||"",h&&h.appendChild(m),m}function be(o){var l=o.parentNode;l&&l.removeChild(o)}function Lt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Je(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Kt(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function cs(o,l){if(o.classList!==void 0)return o.classList.contains(l);var h=hr(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Ne(o,l){if(o.classList!==void 0)for(var h=b(l),m=0,y=h.length;m<y;m++)o.classList.add(h[m]);else if(!cs(o,l)){var R=hr(o);_l(o,(R?R+" ":"")+l)}}function gt(o,l){o.classList!==void 0?o.classList.remove(l):_l(o,S((" "+hr(o)+" ").replace(" "+l+" "," ")))}function _l(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function hr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function bt(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&Yo(o,l)}function Yo(o,l){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):o.style.filter+=" progid:"+m+"(opacity="+l+")"}function Ii(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function Yr(o,l,h){var m=l||new K(0,0);o.style[dr]=(z.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function Le(o,l){o._leaflet_pos=l,z.any3d?Yr(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function fr(o){return o._leaflet_pos||new K(0,0)}var Cr,br,yl;if("onselectstart"in document)Cr=function(){Ae(window,"selectstart",wt)},br=function(){ot(window,"selectstart",wt)};else{var ds=Ii(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cr=function(){if(ds){var o=document.documentElement.style;yl=o[ds],o[ds]="none"}},br=function(){ds&&(document.documentElement.style[ds]=yl,yl=void 0)}}function wl(){Ae(window,"dragstart",wt)}function El(){ot(window,"dragstart",wt)}var Xo,Tl;function Pi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Qn(),Xo=o,Tl=o.style.outlineStyle,o.style.outlineStyle="none",Ae(window,"keydown",Qn))}function Qn(){Xo&&(Xo.style.outlineStyle=Tl,Xo=void 0,Tl=void 0,ot(window,"keydown",Qn))}function Sl(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Jo(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var xc={__proto__:null,TRANSFORM:dr,TRANSITION:tn,TRANSITION_END:Zr,get:Qr,getStyle:Zn,create:ue,remove:be,empty:Lt,toFront:Je,toBack:Kt,hasClass:cs,addClass:Ne,removeClass:gt,setClass:_l,getClass:hr,setOpacity:bt,testProp:Ii,setTransform:Yr,setPosition:Le,getPosition:fr,get disableTextSelection(){return Cr},get enableTextSelection(){return br},disableImageDrag:wl,enableImageDrag:El,preventOutline:Pi,restoreOutline:Qn,getSizedParentNode:Sl,getScale:Jo};function Ae(o,l,h,m){if(l&&typeof l=="object")for(var y in l)Il(o,y,l[y],h);else{l=b(l);for(var R=0,$=l.length;R<$;R++)Il(o,l[R],h,m)}return this}var pr="_leaflet_events";function ot(o,l,h,m){if(arguments.length===1)Cc(o),delete o[pr];else if(l&&typeof l=="object")for(var y in l)Pl(o,y,l[y],h);else if(l=b(l),arguments.length===2)Cc(o,function(G){return F(l,G)!==-1});else for(var R=0,$=l.length;R<$;R++)Pl(o,l[R],h,m);return this}function Cc(o,l){for(var h in o[pr]){var m=h.split(/\d/)[0];(!l||l(m))&&Pl(o,m,null,null,h)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Il(o,l,h,m){var y=l+c(h)+(m?"_"+c(m):"");if(o[pr]&&o[pr][y])return this;var R=function(G){return h.call(m||o,G||window.event)},$=R;!z.touchNative&&z.pointer&&l.indexOf("touch")===0?R=ge(o,l,R):z.touch&&l==="dblclick"?R=Nn(o,R):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(mr[l]||l,R,z.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(R=function(G){G=G||window.event,Cl(o,G)&&$(G)},o.addEventListener(mr[l],R,!1)):o.addEventListener(l,$,!1):o.attachEvent("on"+l,R),o[pr]=o[pr]||{},o[pr][y]=R}function Pl(o,l,h,m,y){y=y||l+c(h)+(m?"_"+c(m):"");var R=o[pr]&&o[pr][y];if(!R)return this;!z.touchNative&&z.pointer&&l.indexOf("touch")===0?_e(o,l,R):z.touch&&l==="dblclick"?Gt(o,R):"removeEventListener"in o?o.removeEventListener(mr[l]||l,R,!1):o.detachEvent("on"+l,R),o[pr][y]=null}function gr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function hs(o){return Il(o,"wheel",gr),this}function fs(o){return Ae(o,"mousedown touchstart dblclick contextmenu",gr),o._leaflet_disable_click=!0,this}function wt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Yn(o){return wt(o),gr(o),this}function xl(o){if(o.composedPath)return o.composedPath();for(var l=[],h=o.target;h;)l.push(h),h=h.parentNode;return l}function ea(o,l){if(!l)return new K(o.clientX,o.clientY);var h=Jo(l),m=h.boundingClientRect;return new K((o.clientX-m.left)/h.x-l.clientLeft,(o.clientY-m.top)/h.y-l.clientTop)}var vt=z.linux&&z.chrome?window.devicePixelRatio:z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bc(o){return z.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/vt:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Cl(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var Ac={__proto__:null,on:Ae,off:ot,stopPropagation:gr,disableScrollPropagation:hs,disableClickPropagation:fs,preventDefault:wt,stop:Yn,getPropagationPath:xl,getMousePosition:ea,getWheelDelta:bc,isExternalTarget:Cl,addListener:Ae,removeListener:ot},bl=Fe.extend({run:function(o,l,h,m){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=fr(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),Le(this._el,h),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),$e=Fe.extend({options:{crs:gi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=A(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Te(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tn&&z.any3d&&!z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,Zr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(Te(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,h){var m=this.getZoomScale(l),y=this.getSize().divideBy(2),R=o instanceof K?o:this.latLngToContainerPoint(o),$=R.subtract(y).multiplyBy(1-1/m),G=this.containerPointToLatLng(y.add($));return this.setView(G,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():Me(o);var h=J(l.paddingTopLeft||l.padding||[0,0]),m=J(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(o,!1,h.add(m));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:o.getCenter(),zoom:y};var R=m.subtract(h).divideBy(2),$=this.project(o.getSouthWest(),y),G=this.project(o.getNorthEast(),y),Q=this.unproject($.add(G).divideBy(2).add(R),y);return{center:Q,zoom:y}},fitBounds:function(o,l){if(o=Me(o),!o.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=J(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(h=h||{},h.animate===!1||!z.any3d)return this.setView(o,l,h);this._stop();var m=this.project(this.getCenter()),y=this.project(o),R=this.getSize(),$=this._zoom;o=Te(o),l=l===void 0?$:l;var G=Math.max(R.x,R.y),Q=G*this.getZoomScale($,l),ne=y.distanceTo(m)||1,de=1.42,Re=de*de;function Be(Vt){var Wc=Vt?-1:1,E1=Vt?Q:G,T1=Q*Q-G*G+Wc*Re*Re*ne*ne,S1=2*E1*Re*ne,Gf=T1/S1,ty=Math.sqrt(Gf*Gf+1)-Gf,I1=ty<1e-9?-18:Math.log(ty);return I1}function In(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function Qt(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}function _r(Vt){return In(Vt)/Qt(Vt)}var Vn=Be(0);function fa(Vt){return G*(Qt(Vn)/Qt(Vn+de*Vt))}function v1(Vt){return G*(Qt(Vn)*_r(Vn+de*Vt)-In(Vn))/Re}function _1(Vt){return 1-Math.pow(1-Vt,1.5)}var y1=Date.now(),J_=(Be(1)-Vn)/de,w1=h.duration?1e3*h.duration:1e3*J_*.8;function ey(){var Vt=(Date.now()-y1)/w1,Wc=_1(Vt)*J_;Vt<=1?(this._flyToFrame=D(ey,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(v1(Wc)/ne)),$),this.getScaleZoom(G/fa(Wc),$),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),ey.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return o=Me(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,Me(o));return h.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var h=J(l.paddingTopLeft||l.padding||[0,0]),m=J(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),R=this.project(o),$=this.getPixelBounds(),G=me([$.min.add(h),$.max.subtract(m)]),Q=G.getSize();if(!G.contains(R)){this._enforcingBounds=!0;var ne=R.subtract(G.getCenter()),de=G.extend(R).getSize().subtract(Q);y.x+=ne.x<0?-de.x:de.x,y.y+=ne.y<0?-de.y:de.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=l.divideBy(2).round(),y=h.divideBy(2).round(),R=m.subtract(y);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,h=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,h=o.coords.longitude,m=new Ce(l,h),y=m.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var $=this.getBoundsZoom(y);this.setView(m,R.maxZoom?Math.min($,R.maxZoom):$)}var G={latlng:m,bounds:y,timestamp:o.timestamp};for(var Q in o.coords)typeof o.coords[Q]=="number"&&(G[Q]=o.coords[Q]);this.fire("locationfound",G)}},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)be(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var h="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),m=ue("div",h,l||this._mapPane);return o&&(this._panes[o]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),h=this.unproject(o.getTopRight());return new Pe(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=Me(o),h=J(h||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),R=this.getMaxZoom(),$=o.getNorthWest(),G=o.getSouthEast(),Q=this.getSize().subtract(h),ne=me(this.project(G,m),this.project($,m)).getSize(),de=z.any3d?this.options.zoomSnap:1,Re=Q.x/ne.x,Be=Q.y/ne.y,In=l?Math.max(Re,Be):Math.min(Re,Be);return m=this.getScaleZoom(In,m),de&&(m=Math.round(m/(de/100))*(de/100),m=l?Math.ceil(m/de)*de:Math.floor(m/de)*de),Math.max(y,Math.min(R,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new ye(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var m=h.zoom(o*h.scale(l));return isNaN(m)?1/0:m},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Te(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(J(o),l)},layerPointToLatLng:function(o){var l=J(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(Te(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Te(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Me(o))},distance:function(o,l){return this.options.crs.distance(Te(o),Te(l))},containerPointToLayerPoint:function(o){return J(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return J(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(J(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(o)))},mouseEventToContainerPoint:function(o){return ea(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=Qr(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ae(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&z.any3d,Ne(o,"leaflet-container"+(z.touch?" leaflet-touch":"")+(z.retina?" leaflet-retina":"")+(z.ielt9?" leaflet-oldie":"")+(z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Zn(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Le(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(o.markerPane,"leaflet-zoom-hide"),Ne(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,h){Le(this._mapPane,new K(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,h)._move(o,l)._moveEnd(y),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h,m){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),m?h&&h.pinch&&this.fire("zoom",h):((y||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Le(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var l=o?ot:Ae;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),z.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var h=[],m,y=l==="mouseout"||l==="mouseover",R=o.target||o.srcElement,$=!1;R;){if(m=this._targets[c(R)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){$=!0;break}if(m&&m.listens(l,!0)&&(y&&!Cl(R,o)||(h.push(m),y))||R===this._container)break;R=R.parentNode}return!h.length&&!$&&!y&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var h=o.type;h==="mousedown"&&Pi(l),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if(o.type==="click"){var m=i({},o);m.type="preclick",this._fireDOMEvent(m,m.type,h)}var y=this._findEventTargets(o,l);if(h){for(var R=[],$=0;$<h.length;$++)h[$].listens(l,!0)&&R.push(h[$]);y=R.concat(y)}if(y.length){l==="contextmenu"&&wt(o);var G=y[0],Q={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ne=G.getLatLng&&(!G._radius||G._radius<=10);Q.containerPoint=ne?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(o),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=ne?G.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for($=0;$<y.length;$++)if(y[$].fire(l,Q,!0),Q.originalEvent._stopped||y[$].options.bubblingMouseEvents===!1&&F(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return fr(this._mapPane)||new K(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var h=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var m=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(o,l,h){var m=this._getNewPixelOrigin(h,l);return me([this.project(o.getSouthWest(),l)._subtract(m),this.project(o.getNorthWest(),l)._subtract(m),this.project(o.getSouthEast(),l)._subtract(m),this.project(o.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var m=this.project(o,l),y=this.getSize().divideBy(2),R=new ye(m.subtract(y),m.add(y)),$=this._getBoundsOffset(R,h,l);return Math.abs($.x)<=1&&Math.abs($.y)<=1?o:this.unproject(m.add($),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),m=new ye(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(o,l,h){var m=me(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=m.min.subtract(o.min),R=m.max.subtract(o.max),$=this._rebound(y.x,-R.x),G=this._rebound(y.y,-R.y);return new K($,G)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),m=z.any3d?this.options.zoomSnap:1;return m&&(o=Math.round(o/m)*m),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var o=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=dr,m=this._proxy.style[h];Yr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Yr(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),y=this._getCenterOffset(o)._divideBy(1-1/m);return h.animate!==!0&&!this.getSize().contains(y)?!1:(D(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ta(o,l){return new $e(o,l)}var Dn=re.extend({options:{position:"topright"},initialize:function(o){A(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),m=o._controlCorners[h];return Ne(l,"leaflet-control"),h.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Sn=function(o){return new Dn(o)};$e.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=ue("div",l+"control-container",this._container);function m(y,R){var $=l+y+" "+l+R;o[y+R]=ue("div",$,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)be(this._controlCorners[o]);be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Al=Dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,m){return h<m?-1:m<h?1:0}},initialize:function(o,l,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in o)this._addLayer(o[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Dn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):gt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=ue("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),fs(l),hs(l);var m=this._section=ue("section",o+"-list");h&&(this._map.on("click",this.collapse,this),Ae(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=ue("a",o+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),Ae(y,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){wt(R),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ue("div",o+"-base",m),this._separator=ue("div",o+"-separator",m),this._overlaysList=ue("div",o+"-overlays",m),l.appendChild(m)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Lt(this._baseLayersList),Lt(this._overlaysList),this._layerControlInputs=[];var o,l,h,m,y=0;for(h=0;h<this._layers.length;h++)m=this._layers[h],this._addItem(m),l=l||m.overlay,o=o||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(o=o&&y>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(c(o.target)),h=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(o){var l=document.createElement("label"),h=this._map.hasLayer(o.layer),m;o.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(m),m.layerId=c(o.layer),Ae(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+o.name;var R=document.createElement("span");l.appendChild(R),R.appendChild(m),R.appendChild(y);var $=o.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,h,m=[],y=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)l=o[R],h=this._getLayer(l.layerId).layer,l.checked?m.push(h):l.checked||y.push(h);for(R=0;R<y.length;R++)this._map.hasLayer(y[R])&&this._map.removeLayer(y[R]);for(R=0;R<m.length;R++)this._map.hasLayer(m[R])||this._map.addLayer(m[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,h,m=this._map.getZoom(),y=o.length-1;y>=0;y--)l=o[y],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&m<h.options.minZoom||h.options.maxZoom!==void 0&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ae(o,"click",wt),this.expand();var l=this;setTimeout(function(){ot(o,"click",wt),l._preventClick=!1})}}),Bf=function(o,l,h){return new Al(o,l,h)},xi=Dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=ue("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,m,y){var R=ue("a",h,m);return R.innerHTML=o,R.href="#",R.title=l,R.setAttribute("role","button"),R.setAttribute("aria-label",l),fs(R),Ae(R,"click",Yn),Ae(R,"click",y,this),Ae(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";gt(this._zoomInButton,l),gt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ne(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ne(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});$e.mergeOptions({zoomControl:!0}),$e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xi,this.addControl(this.zoomControl))});var Rc=function(o){return new xi(o)},na=Dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=ue("div",l),m=this.options;return this._addScales(m,l+"-line",h),o.on(m.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=ue("div",l,h)),o.imperial&&(this._iScale=ue("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/o)},_updateImperial:function(o){var l=o*3.2808399,h,m,y;l>5280?(h=l/5280,m=this._getRoundNum(h),this._updateScale(this._iScale,m+" mi",m/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),ra=function(o){return new na(o)},kc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ps=Dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(z.inlineSvg?kc+" ":"")+"Leaflet</a>"},initialize:function(o){A(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),fs(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});$e.mergeOptions({attributionControl:!0}),$e.addInitHook(function(){this.options.attributionControl&&new ps().addTo(this)});var Uf=function(o){return new ps(o)};Dn.Layers=Al,Dn.Zoom=xi,Dn.Scale=na,Dn.Attribution=ps,Sn.layers=Bf,Sn.zoom=Rc,Sn.scale=ra,Sn.attribution=Uf;var Xn=re.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(o,l){return o.addHandler(l,this),this};var lo={Events:Se},Rl=z.touch?"touchstart mousedown":"mousedown",Ar=Fe.extend({options:{clickTolerance:3},initialize:function(o,l,h,m){A(this,m),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(Ae(this._dragStartTarget,Rl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ar._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Rl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!cs(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Ar._dragging===this&&this.finishDrag();return}if(!(Ar._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Ar._dragging=this,this._preventOutline&&Pi(this._element),wl(),Cr(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,h=Sl(this._element);this._startPoint=new K(l.clientX,l.clientY),this._startPos=fr(this._element),this._parentScale=Jo(h);var m=o.type==="mousedown";Ae(document,m?"mousemove":"touchmove",this._onMove,this),Ae(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,h=new K(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,wt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Le(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){gt(document.body,"leaflet-dragging"),this._lastTarget&&(gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),El(),br();var l=this._moved&&this._moving;this._moving=!1,Ar._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function ia(o,l,h){var m,y=[1,4,2,8],R,$,G,Q,ne,de,Re,Be;for(R=0,de=o.length;R<de;R++)o[R]._code=Xr(o[R],l);for(G=0;G<4;G++){for(Re=y[G],m=[],R=0,de=o.length,$=de-1;R<de;$=R++)Q=o[R],ne=o[$],Q._code&Re?ne._code&Re||(Be=Zt(ne,Q,Re,l,h),Be._code=Xr(Be,l),m.push(Be)):(ne._code&Re&&(Be=Zt(ne,Q,Re,l,h),Be._code=Xr(Be,l),m.push(Be)),m.push(Q));o=m}return o}function sa(o,l){var h,m,y,R,$,G,Q,ne,de;if(!o||o.length===0)throw new Error("latlngs not passed");d(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Re=Te([0,0]),Be=Me(o),In=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());In<1700&&(Re=oa(o));var Qt=o.length,_r=[];for(h=0;h<Qt;h++){var Vn=Te(o[h]);_r.push(l.project(Te([Vn.lat-Re.lat,Vn.lng-Re.lng])))}for(G=Q=ne=0,h=0,m=Qt-1;h<Qt;m=h++)y=_r[h],R=_r[m],$=y.y*R.x-R.y*y.x,Q+=(y.x+R.x)*$,ne+=(y.y+R.y)*$,G+=$*3;G===0?de=_r[0]:de=[Q/G,ne/G];var fa=l.unproject(J(de));return Te([fa.lat+Re.lat,fa.lng+Re.lng])}function oa(o){for(var l=0,h=0,m=0,y=0;y<o.length;y++){var R=Te(o[y]);l+=R.lat,h+=R.lng,m++}return Te([l/m,h/m])}var aa={__proto__:null,clipPolygon:ia,polygonCenter:sa,centroid:oa};function kl(o,l){if(!l||!o.length)return o.slice();var h=l*l;return o=Oc(o,h),o=Lc(o,h),o}function Ll(o,l,h){return Math.sqrt(vr(o,l,h,!0))}function Ci(o,l,h){return vr(o,l,h)}function Lc(o,l){var h=o.length,m=typeof Uint8Array<"u"?Uint8Array:Array,y=new m(h);y[0]=y[h-1]=1,la(o,y,l,0,h-1);var R,$=[];for(R=0;R<h;R++)y[R]&&$.push(o[R]);return $}function la(o,l,h,m,y){var R=0,$,G,Q;for(G=m+1;G<=y-1;G++)Q=vr(o[G],o[m],o[y],!0),Q>R&&($=G,R=Q);R>h&&(l[$]=1,la(o,l,h,m,$),la(o,l,h,$,y))}function Oc(o,l){for(var h=[o[0]],m=1,y=0,R=o.length;m<R;m++)Mc(o[m],o[y])>l&&(h.push(o[m]),y=m);return y<R-1&&h.push(o[R-1]),h}var Ol;function uo(o,l,h,m,y){var R=m?Ol:Xr(o,h),$=Xr(l,h),G,Q,ne;for(Ol=$;;){if(!(R|$))return[o,l];if(R&$)return!1;G=R||$,Q=Zt(o,l,G,h,y),ne=Xr(Q,h),G===R?(o=Q,R=ne):(l=Q,$=ne)}}function Zt(o,l,h,m,y){var R=l.x-o.x,$=l.y-o.y,G=m.min,Q=m.max,ne,de;return h&8?(ne=o.x+R*(Q.y-o.y)/$,de=Q.y):h&4?(ne=o.x+R*(G.y-o.y)/$,de=G.y):h&2?(ne=Q.x,de=o.y+$*(Q.x-o.x)/R):h&1&&(ne=G.x,de=o.y+$*(G.x-o.x)/R),new K(ne,de,y)}function Xr(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function Mc(o,l){var h=l.x-o.x,m=l.y-o.y;return h*h+m*m}function vr(o,l,h,m){var y=l.x,R=l.y,$=h.x-y,G=h.y-R,Q=$*$+G*G,ne;return Q>0&&(ne=((o.x-y)*$+(o.y-R)*G)/Q,ne>1?(y=h.x,R=h.y):ne>0&&(y+=$*ne,R+=G*ne)),$=o.x-y,G=o.y-R,m?$*$+G*G:new K(y,R)}function d(o){return!I(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function v(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(o)}function T(o,l){var h,m,y,R,$,G,Q,ne;if(!o||o.length===0)throw new Error("latlngs not passed");d(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var de=Te([0,0]),Re=Me(o),Be=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());Be<1700&&(de=oa(o));var In=o.length,Qt=[];for(h=0;h<In;h++){var _r=Te(o[h]);Qt.push(l.project(Te([_r.lat-de.lat,_r.lng-de.lng])))}for(h=0,m=0;h<In-1;h++)m+=Qt[h].distanceTo(Qt[h+1])/2;if(m===0)ne=Qt[0];else for(h=0,R=0;h<In-1;h++)if($=Qt[h],G=Qt[h+1],y=$.distanceTo(G),R+=y,R>m){Q=(R-m)/y,ne=[G.x-Q*(G.x-$.x),G.y-Q*(G.y-$.y)];break}var Vn=l.unproject(J(ne));return Te([Vn.lat+de.lat,Vn.lng+de.lng])}var N={__proto__:null,simplify:kl,pointToSegmentDistance:Ll,closestPointOnSegment:Ci,clipSegment:uo,_getEdgeIntersection:Zt,_getBitCode:Xr,_sqClosestPointOnSegment:vr,isFlat:d,_flat:v,polylineCenter:T},q={project:function(o){return new K(o.lng,o.lat)},unproject:function(o){return new Ce(o.y,o.x)},bounds:new ye([-180,-90],[180,90])},Y={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ye([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,h=this.R,m=o.lat*l,y=this.R_MINOR/h,R=Math.sqrt(1-y*y),$=R*Math.sin(m),G=Math.tan(Math.PI/4-m/2)/Math.pow((1-$)/(1+$),R/2);return m=-h*Math.log(Math.max(G,1e-10)),new K(o.lng*l*h,m)},unproject:function(o){for(var l=180/Math.PI,h=this.R,m=this.R_MINOR/h,y=Math.sqrt(1-m*m),R=Math.exp(-o.y/h),$=Math.PI/2-2*Math.atan(R),G=0,Q=.1,ne;G<15&&Math.abs(Q)>1e-7;G++)ne=y*Math.sin($),ne=Math.pow((1-ne)/(1+ne),y/2),Q=Math.PI/2-2*Math.atan(R*ne)-$,$+=Q;return new Ce($*l,o.x*l/h)}},le={__proto__:null,LonLat:q,Mercator:Y,SphericalMercator:wn},nt=i({},Ut,{code:"EPSG:3395",projection:Y,transformation:function(){var o=.5/(Math.PI*Y.R);return xr(o,.5,-o,.5)}()}),Dt=i({},Ut,{code:"EPSG:4326",projection:q,transformation:xr(1/180,1,-1/180,.5)}),Ze=i({},Xe,{projection:q,transformation:xr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,m=l.lat-o.lat;return Math.sqrt(h*h+m*m)},infinite:!0});Xe.Earth=Ut,Xe.EPSG3395=nt,Xe.EPSG3857=gi,Xe.EPSG900913=kt,Xe.EPSG4326=Dt,Xe.Simple=Ze;var at=Fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});$e.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=c(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){o=o?I(o)?o:[o]:[];for(var l=0,h=o.length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=c(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;o=y.minZoom===void 0?o:Math.min(o,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Et=at.extend({initialize:function(o,l){A(this,l),this._layers={};var h,m;if(o)for(h=0,m=o.length;h<m;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),h,m;for(h in this._layers)m=this._layers[h],m[o]&&m[o].apply(m,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),ms=function(o,l){return new Et(o,l)},Ot=Et.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Et.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Et.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Pe;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),ua=function(o,l){return new Ot(o,l)},Jr=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){A(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(o,l){var h=this.options,m=h[l+"Size"];typeof m=="number"&&(m=[m,m]);var y=J(m),R=J(l==="shadow"&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),y&&(o.style.width=y.x+"px",o.style.height=y.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return z.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Xx(o){return new Jr(o)}var Ml=Jr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ml.imagePath!="string"&&(Ml.imagePath=this._detectIconPath()),(this.options.imagePath||Ml.imagePath)+Jr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(h,m,y){var R=m.exec(h);return R&&R[y]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ue("div","leaflet-default-icon-path",document.body),l=Zn(o,"background-image")||Zn(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),M_=Xn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ar(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,R=fr(l._icon),$=h.getPixelBounds(),G=h.getPixelOrigin(),Q=me($.min._subtract(G).add(y),$.max._subtract(G).subtract(y));if(!Q.contains(R)){var ne=J((Math.max(Q.max.x,R.x)-Q.max.x)/($.max.x-Q.max.x)-(Math.min(Q.min.x,R.x)-Q.min.x)/($.min.x-Q.min.x),(Math.max(Q.max.y,R.y)-Q.max.y)/($.max.y-Q.max.y)-(Math.min(Q.min.y,R.y)-Q.min.y)/($.min.y-Q.min.y)).multiplyBy(m);h.panBy(ne,{animate:!1}),this._draggable._newPos._add(ne),this._draggable._startPos._add(ne),Le(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=D(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,m=fr(l._icon),y=l._map.layerPointToLatLng(m);h&&Le(h,m),l._latlng=y,o.latlng=y,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Nc=at.extend({options:{icon:new Ml,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){A(this,l),this._latlng=Te(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=Te(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,o.title&&(h.title=o.title),h.tagName==="IMG"&&(h.alt=o.alt||"")),Ne(h,l),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(h,"focus",this._panOnFocus,this);var y=o.icon.createShadow(this._shadow),R=!1;y!==this._shadow&&(this._removeShadow(),R=!0),y&&(Ne(y,l),y.alt=""),this._shadow=y,o.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&be(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Le(this._icon,o),this._shadow&&Le(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),M_)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new M_(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&bt(this._icon,o),this._shadow&&bt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,h=l.iconSize?J(l.iconSize):J(0,0),m=l.iconAnchor?J(l.iconAnchor):J(0,0);o.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:h.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jx(o,l){return new Nc(o,l)}var gs=at.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return A(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Dc=gs.extend({options:{fill:!0,radius:10},initialize:function(o,l){A(this,l),this._latlng=Te(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=Te(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return gs.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),m=[o+h,l+h];this._pxBounds=new ye(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function e1(o,l){return new Dc(o,l)}var $f=Dc.extend({initialize:function(o,l,h){if(typeof l=="number"&&(l=i({},h,{radius:l})),A(this,l),this._latlng=Te(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:gs.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===Ut.distance){var y=Math.PI/180,R=this._mRadius/Ut.R/y,$=h.project([l+R,o]),G=h.project([l-R,o]),Q=$.add(G).divideBy(2),ne=h.unproject(Q).lat,de=Math.acos((Math.cos(R*y)-Math.sin(l*y)*Math.sin(ne*y))/(Math.cos(l*y)*Math.cos(ne*y)))/y;(isNaN(de)||de===0)&&(de=R/Math.cos(Math.PI/180*l)),this._point=Q.subtract(h.getPixelOrigin()),this._radius=isNaN(de)?0:Q.x-h.project([ne,o-de]).x,this._radiusY=Q.y-$.y}else{var Re=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Re).x}this._updateBounds()}});function t1(o,l,h){return new $f(o,l,h)}var bi=gs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){A(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,h=null,m=vr,y,R,$=0,G=this._parts.length;$<G;$++)for(var Q=this._parts[$],ne=1,de=Q.length;ne<de;ne++){y=Q[ne-1],R=Q[ne];var Re=m(o,y,R,!0);Re<l&&(l=Re,h=m(o,y,R))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return T(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=Te(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Pe,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=d(o),m=0,y=o.length;m<y;m++)h?(l[m]=Te(o[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(o[m]);return l},_project:function(){var o=new ye;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new K(o,o);this._rawPxBounds&&(this._pxBounds=new ye([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,h){var m=o[0]instanceof Ce,y=o.length,R,$;if(m){for($=[],R=0;R<y;R++)$[R]=this._map.latLngToLayerPoint(o[R]),h.extend($[R]);l.push($)}else for(R=0;R<y;R++)this._projectLatlngs(o[R],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,m,y,R,$,G,Q;for(h=0,y=0,R=this._rings.length;h<R;h++)for(Q=this._rings[h],m=0,$=Q.length;m<$-1;m++)G=uo(Q[m],Q[m+1],o,m,!0),G&&(l[y]=l[y]||[],l[y].push(G[0]),(G[1]!==Q[m+1]||m===$-2)&&(l[y].push(G[1]),y++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,m=o.length;h<m;h++)o[h]=kl(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,m,y,R,$,G,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,R=this._parts.length;h<R;h++)for(G=this._parts[h],m=0,$=G.length,y=$-1;m<$;y=m++)if(!(!l&&m===0)&&Ll(o,G[y],G[m])<=Q)return!0;return!1}});function n1(o,l){return new bi(o,l)}bi._flat=v;var ca=bi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=bi.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof Ce&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){bi.prototype._setLatLngs.call(this,o),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new K(l,l);if(o=new ye(o.min.subtract(h),o.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,y=this._rings.length,R;m<y;m++)R=ia(this._rings[m],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,h,m,y,R,$,G,Q,ne;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,Q=this._parts.length;R<Q;R++)for(h=this._parts[R],$=0,ne=h.length,G=ne-1;$<ne;G=$++)m=h[$],y=h[G],m.y>o.y!=y.y>o.y&&o.x<(y.x-m.x)*(o.y-m.y)/(y.y-m.y)+m.x&&(l=!l);return l||bi.prototype._containsPoint.call(this,o,!0)}});function r1(o,l){return new ca(o,l)}var Ai=Ot.extend({initialize:function(o,l){A(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=I(o)?o:o.features,h,m,y;if(l){for(h=0,m=l.length;h<m;h++)y=l[h],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var $=Vc(o,R);return $?($.feature=jc(o),$.defaultOptions=$.options,this.resetStyle($),R.onEachFeature&&R.onEachFeature(o,$),this.addLayer($)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Vc(o,l){var h=o.type==="Feature"?o.geometry:o,m=h?h.coordinates:null,y=[],R=l&&l.pointToLayer,$=l&&l.coordsToLatLng||Hf,G,Q,ne,de;if(!m&&!h)return null;switch(h.type){case"Point":return G=$(m),N_(R,o,G,l);case"MultiPoint":for(ne=0,de=m.length;ne<de;ne++)G=$(m[ne]),y.push(N_(R,o,G,l));return new Ot(y);case"LineString":case"MultiLineString":return Q=Fc(m,h.type==="LineString"?0:1,$),new bi(Q,l);case"Polygon":case"MultiPolygon":return Q=Fc(m,h.type==="Polygon"?1:2,$),new ca(Q,l);case"GeometryCollection":for(ne=0,de=h.geometries.length;ne<de;ne++){var Re=Vc({geometry:h.geometries[ne],type:"Feature",properties:o.properties},l);Re&&y.push(Re)}return new Ot(y);case"FeatureCollection":for(ne=0,de=h.features.length;ne<de;ne++){var Be=Vc(h.features[ne],l);Be&&y.push(Be)}return new Ot(y);default:throw new Error("Invalid GeoJSON object.")}}function N_(o,l,h,m){return o?o(l,h):new Nc(h,m&&m.markersInheritOptions&&m)}function Hf(o){return new Ce(o[1],o[0],o[2])}function Fc(o,l,h){for(var m=[],y=0,R=o.length,$;y<R;y++)$=l?Fc(o[y],l-1,h):(h||Hf)(o[y]),m.push($);return m}function Wf(o,l){return o=Te(o),o.alt!==void 0?[_(o.lng,l),_(o.lat,l),_(o.alt,l)]:[_(o.lng,l),_(o.lat,l)]}function zc(o,l,h,m){for(var y=[],R=0,$=o.length;R<$;R++)y.push(l?zc(o[R],d(o[R])?0:l-1,h,m):Wf(o[R],m));return!l&&h&&y.length>0&&y.push(y[0].slice()),y}function da(o,l){return o.feature?i({},o.feature,{geometry:l}):jc(l)}function jc(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var qf={toGeoJSON:function(o){return da(this,{type:"Point",coordinates:Wf(this.getLatLng(),o)})}};Nc.include(qf),$f.include(qf),Dc.include(qf),bi.include({toGeoJSON:function(o){var l=!d(this._latlngs),h=zc(this._latlngs,l?1:0,!1,o);return da(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),ca.include({toGeoJSON:function(o){var l=!d(this._latlngs),h=l&&!d(this._latlngs[0]),m=zc(this._latlngs,h?2:l?1:0,!0,o);return l||(m=[m]),da(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),Et.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),da(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var h=l==="GeometryCollection",m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var R=y.toGeoJSON(o);if(h)m.push(R.geometry);else{var $=jc(R);$.type==="FeatureCollection"?m.push.apply(m,$.features):m.push($)}}}),h?da(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function D_(o,l){return new Ai(o,l)}var i1=D_,Bc=at.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=Me(l),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Je(this._image),this},bringToBack:function(){return this._map&&Kt(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Me(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:ue("img");if(Ne(l,"leaflet-image-layer"),this._zoomAnimated&&Ne(l,"leaflet-zoom-animated"),this.options.className&&Ne(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Yr(this._image,h,l)},_reset:function(){var o=this._image,l=new ye(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Le(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){bt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),s1=function(o,l,h){return new Bc(o,l,h)},V_=Bc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:ue("video");if(Ne(l,"leaflet-image-layer"),this._zoomAnimated&&Ne(l,"leaflet-zoom-animated"),this.options.className&&Ne(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onloadeddata=a(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),m=[],y=0;y<h.length;y++)m.push(h[y].src);this._url=h.length>0?m:[l.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var $=ue("source");$.src=this._url[R],l.appendChild($)}}});function o1(o,l,h){return new V_(o,l,h)}var F_=Bc.extend({_initImage:function(){var o=this._image=this._url;Ne(o,"leaflet-image-layer"),this._zoomAnimated&&Ne(o,"leaflet-zoom-animated"),this.options.className&&Ne(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function a1(o,l,h){return new F_(o,l,h)}var ei=at.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof Ce||I(o))?(this._latlng=Te(o),A(this,l)):(A(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&bt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&bt(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(bt(this._container,0),this._removeTimeout=setTimeout(a(be,void 0,this._container),200)):be(this._container),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Te(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Je(this._container),this},bringToBack:function(){return this._map&&Kt(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof Ot){l=null;var h=this._source._layers;for(var m in h)if(h[m]._map){l=h[m];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=J(this.options.offset),h=this._getAnchor();this._zoomAnimated?Le(this._container,o.add(h)):l=l.add(o).add(h);var m=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});$e.include({_initOverlay:function(o,l,h,m){var y=l;return y instanceof o||(y=new o(m).setContent(l)),h&&y.setLatLng(h),y}}),at.include({_initOverlay:function(o,l,h,m){var y=h;return y instanceof o?(A(y,m),y._source=this):(y=l&&!m?l:new o(m,this),y.setContent(h)),y}});var Uc=ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ei.prototype.openOn.call(this,o)},onAdd:function(o){ei.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gs||this._source.on("preclick",gr))},onRemove:function(o){ei.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gs||this._source.off("preclick",gr))},getEvents:function(){var o=ei.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=ue("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ue("div",o+"-content-wrapper",l);if(this._contentNode=ue("div",o+"-content",h),fs(l),hs(this._contentNode),Ae(l,"contextmenu",gr),this._tipContainer=ue("div",o+"-tip-container",l),this._tip=ue("div",o+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=ue("a",o+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Ae(m,"click",function(y){wt(y),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var m=o.offsetHeight,y=this.options.maxHeight,R="leaflet-popup-scrolled";y&&m>y?(l.height=y+"px",Ne(o,R)):gt(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();Le(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(Zn(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,m=this._containerWidth,y=new K(this._containerLeft,-h-this._containerBottom);y._add(fr(this._container));var R=o.layerPointToContainerPoint(y),$=J(this.options.autoPanPadding),G=J(this.options.autoPanPaddingTopLeft||$),Q=J(this.options.autoPanPaddingBottomRight||$),ne=o.getSize(),de=0,Re=0;R.x+m+Q.x>ne.x&&(de=R.x+m-ne.x+Q.x),R.x-de-G.x<0&&(de=R.x-G.x),R.y+h+Q.y>ne.y&&(Re=R.y+h-ne.y+Q.y),R.y-Re-G.y<0&&(Re=R.y-G.y),(de||Re)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([de,Re]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),l1=function(o,l){return new Uc(o,l)};$e.mergeOptions({closePopupOnClick:!0}),$e.include({openPopup:function(o,l,h){return this._initOverlay(Uc,o,l,h).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),at.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Uc,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ot||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Yn(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof gs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var $c=ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ei.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ei.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ei.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,m=this._map,y=this._container,R=m.latLngToContainerPoint(m.getCenter()),$=m.layerPointToContainerPoint(o),G=this.options.direction,Q=y.offsetWidth,ne=y.offsetHeight,de=J(this.options.offset),Re=this._getAnchor();G==="top"?(l=Q/2,h=ne):G==="bottom"?(l=Q/2,h=0):G==="center"?(l=Q/2,h=ne/2):G==="right"?(l=0,h=ne/2):G==="left"?(l=Q,h=ne/2):$.x<R.x?(G="right",l=0,h=ne/2):(G="left",l=Q+(de.x+Re.x)*2,h=ne/2),o=o.subtract(J(l,h,!0)).add(de).add(Re),gt(y,"leaflet-tooltip-right"),gt(y,"leaflet-tooltip-left"),gt(y,"leaflet-tooltip-top"),gt(y,"leaflet-tooltip-bottom"),Ne(y,"leaflet-tooltip-"+G),Le(y,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&bt(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),u1=function(o,l){return new $c(o,l)};$e.include({openTooltip:function(o,l,h){return this._initOverlay($c,o,l,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),at.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($c,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ot||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(Ae(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ae(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,h,m;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),m=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var z_=Jr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Lt(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var m=J(h.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function c1(o){return new z_(o)}Jr.Default=Ml;var Nl=at.extend({options:{tileSize:256,opacity:1,updateWhenIdle:z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){A(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),be(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Je(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof K?o:new K(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,h=-o(-1/0,1/0),m=0,y=l.length,R;m<y;m++)R=l[m].style.zIndex,l[m]!==this._container&&R&&(h=o(h,+R));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!z.ielt9){bt(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var m in this._tiles){var y=this._tiles[m];if(!(!y.current||!y.loaded)){var R=Math.min(1,(o-y.loaded)/200);bt(y.el,R),R<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(j(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(be(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[o],y=this._map;return m||(m=this._levels[o]={},m.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=y.project(y.unproject(y.getPixelOrigin()),o).round(),m.zoom=o,this._setZoomTransform(m,y.getCenter(),y.getZoom()),g(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)be(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,m){var y=Math.floor(o/2),R=Math.floor(l/2),$=h-1,G=new K(+y,+R);G.z=+$;var Q=this._tileCoordsToKey(G),ne=this._tiles[Q];return ne&&ne.active?(ne.retain=!0,!0):(ne&&ne.loaded&&(ne.retain=!0),$>m?this._retainParent(y,R,$,m):!1)},_retainChildren:function(o,l,h,m){for(var y=2*o;y<2*o+2;y++)for(var R=2*l;R<2*l+2;R++){var $=new K(y,R);$.z=h+1;var G=this._tileCoordsToKey($),Q=this._tiles[G];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);h+1<m&&this._retainChildren(y,R,h+1,m)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,m){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var R=this.options.updateWhenZooming&&y!==this._tileZoom;(!m||R)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var m=this._map.getZoomScale(h,o.zoom),y=o.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,h)).round();z.any3d?Yr(o.el,y,m):Le(o.el,y)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],m).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],m).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],m).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(h,this._tileZoom),y=l.project(o,this._tileZoom).floor(),R=l.getSize().divideBy(m*2);return new ye(y.subtract(R),y.add(R))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(o),y=this._pxBoundsToTileRange(m),R=y.getCenter(),$=[],G=this.options.keepBuffer,Q=new ye(y.getBottomLeft().subtract([G,-G]),y.getTopRight().add([G,-G]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ne in this._tiles){var de=this._tiles[ne].coords;(de.z!==this._tileZoom||!Q.contains(new K(de.x,de.y)))&&(this._tiles[ne].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(o,h);return}for(var Re=y.min.y;Re<=y.max.y;Re++)for(var Be=y.min.x;Be<=y.max.x;Be++){var In=new K(Be,Re);if(In.z=this._tileZoom,!!this._isValidTile(In)){var Qt=this._tiles[this._tileCoordsToKey(In)];Qt?Qt.current=!0:$.push(In)}}if($.sort(function(Vn,fa){return Vn.distanceTo(R)-fa.distanceTo(R)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _r=document.createDocumentFragment();for(Be=0;Be<$.length;Be++)this._addTile($[Be],_r);this._level.el.appendChild(_r)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(o);return Me(this.options.bounds).overlaps(m)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),m=o.scaleBy(h),y=m.add(h),R=l.unproject(m,o.z),$=l.unproject(y,o.z);return[R,$]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new Pe(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new K(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(be(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ne(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=g,o.onmousemove=g,z.ielt9&&this.options.opacity<1&&bt(o,this.options.opacity)},_addTile:function(o,l){var h=this._getTilePos(o),m=this._tileCoordsToKey(o),y=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(y),this.createTile.length<2&&D(a(this._tileReady,this,o,null,y)),Le(y,h),this._tiles[m]={el:y,coords:o,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var m=this._tileCoordsToKey(o);h=this._tiles[m],h&&(h.loaded=+new Date,this._map._fadeAnimated?(bt(h.el,0),j(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Ne(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),z.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new K(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new ye(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function d1(o){return new Nl(o)}var ha=Nl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=A(this,l),l.detectRetina&&z.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return Ae(h,"load",a(this._tileOnLoad,this,l,h)),Ae(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:z.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return E(this._url,i(l,this.options))},_tileOnLoad:function(o,l){z.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,m=this.options.zoomOffset;return h&&(o=l-o),o+m},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=g,l.onerror=g,!l.complete)){l.src=U;var h=this._tiles[o].coords;be(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",U),Nl.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(!(!this._map||h&&h.getAttribute("src")===U))return Nl.prototype._tileReady.call(this,o,l,h)}});function j_(o,l){return new ha(o,l)}var B_=ha.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=i({},this.defaultWmsParams);for(var m in l)m in this.options||(h[m]=l[m]);l=A(this,l);var y=l.detectRetina&&z.retina?2:1,R=this.getTileSize();h.width=R.x*y,h.height=R.y*y,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ha.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,m=me(h.project(l[0]),h.project(l[1])),y=m.min,R=m.max,$=(this._wmsVersion>=1.3&&this._crs===Dt?[y.y,y.x,R.y,R.x]:[y.x,y.y,R.x,R.y]).join(","),G=ha.prototype.getTileUrl.call(this,o);return G+V(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(o,l){return i(this.wmsParams,o),l||this.redraw(),this}});function h1(o,l){return new B_(o,l)}ha.WMS=B_,j_.wms=h1;var Ri=at.extend({options:{padding:.1},initialize:function(o){A(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),R=m.multiplyBy(-h).add(y).subtract(this._map._getNewPixelOrigin(o,l));z.any3d?Yr(this._container,R,h):Le(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new ye(h,h.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),U_=Ri.extend({options:{tolerance:0},getEvents:function(){var o=Ri.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ae(o,"mousemove",this._onMouseMove,this),Ae(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,be(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),m=z.retina?2:1;Le(l,o.min),l.width=m*h.x,l.height=m*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",z.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,m=l.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),h=[],m,y;for(y=0;y<l.length;y++){if(m=Number(l[y]),isNaN(m))return;h.push(m)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ye,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)o=m.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,m,y,R,$=o._parts,G=$.length,Q=this._ctx;if(G){for(Q.beginPath(),h=0;h<G;h++){for(m=0,y=$[h].length;m<y;m++)R=$[h][m],Q[m?"lineTo":"moveTo"](R.x,R.y);l&&Q.closePath()}this._fillStroke(Q,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,h=this._ctx,m=Math.max(Math.round(o._radius),1),y=(Math.max(Math.round(o._radiusY),1)||m)/m;y!==1&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,m,0,Math.PI*2,!1),y!==1&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),h,m,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(h))&&(m=h);this._fireEvent(m?[m]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(gt(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,m,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(o),m&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,m=l.prev;if(h)h.prev=m;else return;m?m.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,m=l.prev;if(m)m.next=h;else return;h?h.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function $_(o){return z.canvas?new U_(o):null}var Dl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),f1={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ri.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Dl("shape");Ne(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Dl("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;be(l),o.removeInteractiveTarget(l),delete this._layers[c(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,m=o.options,y=o._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(l||(l=o._stroke=Dl("stroke")),y.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=I(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(y.removeChild(l),o._stroke=null),m.fill?(h||(h=o._fill=Dl("fill")),y.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(y.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),m=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+m+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){Je(o._container)},_bringToBack:function(o){Kt(o._container)}},Hc=z.vml?Dl:Gn,Vl=Ri.extend({_initContainer:function(){this._container=Hc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){be(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Le(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Hc("path");o.options.className&&Ne(l,o.options.className),o.options.interactive&&Ne(l,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){be(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,ts(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),m=Math.max(Math.round(o._radiusY),1)||h,y="a"+h+","+m+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+h*2+",0 "+y+-h*2+",0 ";this._setPath(o,R)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){Je(o._path)},_bringToBack:function(o){Kt(o._path)}});z.vml&&Vl.include(f1);function H_(o){return z.svg||z.vml?new Vl(o):null}$e.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&$_(o)||H_(o)}});var W_=ca.extend({initialize:function(o,l){ca.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Me(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function p1(o,l){return new W_(o,l)}Vl.create=Hc,Vl.pointsToPath=ts,Ai.geometryToLayer=Vc,Ai.coordsToLatLng=Hf,Ai.coordsToLatLngs=Fc,Ai.latLngToCoords=Wf,Ai.latLngsToCoords=zc,Ai.getFeature=da,Ai.asFeature=jc,$e.mergeOptions({boxZoom:!0});var q_=Xn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cr(),wl(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ae(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new ye(this._point,this._startPoint),h=l.getSize();Le(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(be(this._box),gt(this._container,"leaflet-crosshair")),br(),El(),ot(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$e.addInitHook("addHandler","boxZoom",q_),$e.mergeOptions({doubleClickZoom:!0});var G_=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),m=l.options.zoomDelta,y=o.originalEvent.shiftKey?h-m:h+m;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(o.containerPoint,y)}});$e.addInitHook("addHandler","doubleClickZoom",G_),$e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var K_=Xn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ar(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gt(this._map._container,"leaflet-grab"),gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Me(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-l+h)%o+l-h,R=(m+l+h)%o-l-h,$=Math.abs(y+h)<Math.abs(R+h)?y:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(o){var l=this._map,h=l.options,m=!h.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),m)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,$=h.easeLinearity,G=y.multiplyBy($/R),Q=G.distanceTo([0,0]),ne=Math.min(h.inertiaMaxSpeed,Q),de=G.multiplyBy(ne/Q),Re=ne/(h.inertiaDeceleration*$),Be=de.multiplyBy(-Re/2).round();!Be.x&&!Be.y?l.fire("moveend"):(Be=l._limitOffset(Be,l.options.maxBounds),D(function(){l.panBy(Be,{duration:Re,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});$e.addInitHook("addHandler","dragging",K_),$e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Z_=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ae(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,m=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},h=this.keyCodes,m,y;for(m=0,y=h.left.length;m<y;m++)l[h.left[m]]=[-1*o,0];for(m=0,y=h.right.length;m<y;m++)l[h.right[m]]=[o,0];for(m=0,y=h.down.length;m<y;m++)l[h.down[m]]=[0,o];for(m=0,y=h.up.length;m<y;m++)l[h.up[m]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},h=this.keyCodes,m,y;for(m=0,y=h.zoomIn.length;m<y;m++)l[h.zoomIn[m]]=o;for(m=0,y=h.zoomOut.length;m<y;m++)l[h.zoomOut[m]]=-o},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,h=this._map,m;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(m=this._panKeys[l],o.shiftKey&&(m=J(m).multiplyBy(3)),h.options.maxBounds&&(m=h._limitOffset(J(m),h.options.maxBounds)),h.options.worldCopyJump){var y=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(m)));h.panTo(y)}else h.panBy(m)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Yn(o)}}});$e.addInitHook("addHandler","keyboard",Z_),$e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Q_=Xn.extend({addHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=bc(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),m),Yn(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,R=h?Math.ceil(y/h)*h:y,$=o._limitZoom(l+(this._delta>0?R:-R))-l;this._delta=0,this._startTime=null,$&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+$):o.setZoomAround(this._lastMousePos,l+$))}});$e.addInitHook("addHandler","scrollWheelZoom",Q_);var m1=600;$e.mergeOptions({tapHold:z.touchNative&&z.safari&&z.mobile,tapTolerance:15});var Y_=Xn.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new K(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ae(document,"touchend",wt),Ae(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),m1),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ot(document,"touchend",wt),ot(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new K(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});$e.addInitHook("addHandler","tapHold",Y_),$e.mergeOptions({touchZoom:z.touch,bounceAtZoomLimits:!0});var X_=Xn.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(o.touches[0]),m=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),wt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),m=l.mouseEventToContainerPoint(o.touches[1]),y=h.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var R=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(y===1&&R.x===0&&R.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var $=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D($,this,!0),wt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$e.addInitHook("addHandler","touchZoom",X_),$e.BoxZoom=q_,$e.DoubleClickZoom=G_,$e.Drag=K_,$e.Keyboard=Z_,$e.ScrollWheelZoom=Q_,$e.TapHold=Y_,$e.TouchZoom=X_,n.Bounds=ye,n.Browser=z,n.CRS=Xe,n.Canvas=U_,n.Circle=$f,n.CircleMarker=Dc,n.Class=re,n.Control=Dn,n.DivIcon=z_,n.DivOverlay=ei,n.DomEvent=Ac,n.DomUtil=xc,n.Draggable=Ar,n.Evented=Fe,n.FeatureGroup=Ot,n.GeoJSON=Ai,n.GridLayer=Nl,n.Handler=Xn,n.Icon=Jr,n.ImageOverlay=Bc,n.LatLng=Ce,n.LatLngBounds=Pe,n.Layer=at,n.LayerGroup=Et,n.LineUtil=N,n.Map=$e,n.Marker=Nc,n.Mixin=lo,n.Path=gs,n.Point=K,n.PolyUtil=aa,n.Polygon=ca,n.Polyline=bi,n.Popup=Uc,n.PosAnimation=bl,n.Projection=le,n.Rectangle=W_,n.Renderer=Ri,n.SVG=Vl,n.SVGOverlay=F_,n.TileLayer=ha,n.Tooltip=$c,n.Transformation=cr,n.Util=M,n.VideoOverlay=V_,n.bind=a,n.bounds=me,n.canvas=$_,n.circle=t1,n.circleMarker=e1,n.control=Sn,n.divIcon=c1,n.extend=i,n.featureGroup=ua,n.geoJSON=D_,n.geoJson=i1,n.gridLayer=d1,n.icon=Xx,n.imageOverlay=s1,n.latLng=Te,n.latLngBounds=Me,n.layerGroup=ms,n.map=ta,n.marker=Jx,n.point=J,n.polygon=r1,n.polyline=n1,n.popup=l1,n.rectangle=p1,n.setOptions=A,n.stamp=c,n.svg=H_,n.svgOverlay=a1,n.tileLayer=j_,n.tooltip=u1,n.transformation=xr,n.version=r,n.videoOverlay=o1;var g1=window.L;n.noConflict=function(){return window.L=g1,this},window.L=n})})(mg,mg.exports);var Sc=mg.exports;const bF=Ig(Sc);function C_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function b_(t,e){return e==null?function(r,i){const s=B.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=B.useRef();s.current||(s.current=t(r,i));const a=B.useRef(r),{instance:u}=s.current;return B.useEffect(function(){a.current!==r&&(e(u,r,a.current),a.current=r)},[u,r,i]),s}}function AF(t,e){B.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Sx(t){return function(n){const r=P_(),i=t(x_(n,r),r);return yx(r.map,n.attribution),Tx(i.current,n.eventHandlers),AF(i.current,r),i}}function RF(t,e){const n=b_(t,e),r=Sx(n);return IF(r)}function kF(t,e){const n=b_(t),r=CF(n,e);return PF(r)}function LF(t,e){const n=b_(t,e),r=Sx(n);return xF(r)}function OF(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function MF(){return P_().map}function gg(){return gg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function NF({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:a,style:u,whenReady:c,zoom:f,...p},g){const[_]=B.useState({className:i,id:s,style:u}),[S,b]=B.useState(null);B.useImperativeHandle(g,()=>(S==null?void 0:S.map)??null,[S]);const A=B.useCallback(x=>{if(x!==null&&S===null){const E=new Sc.Map(x,p);n!=null&&f!=null?E.setView(n,f):t!=null&&E.fitBounds(t,e),c!=null&&E.whenReady(c),b(TF(E))}},[]);B.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const V=S?_t.createElement(Ex,{value:S},r):a??null;return _t.createElement("div",gg({},_,{ref:A}),V)}const DF=B.forwardRef(NF),VF=RF(function({position:e,...n},r){const i=new Sc.Marker(e,n);return C_(i,SF(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),FF=kF(function(e,n){const r=new Sc.Popup(e,n.overlayContainer);return C_(r,n)},function(e,n,{position:r},i){B.useEffect(function(){const{instance:a}=e;function u(f){f.popup===a&&(a.update(),i(!0))}function c(f){f.popup===a&&i(!1)}return n.map.on({popupopen:u,popupclose:c}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var p;n.map.off({popupopen:u,popupclose:c}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),zF=LF(function({url:e,...n},r){const i=new Sc.TileLayer(e,x_(n,r));return C_(i,r)},function(e,n,r){OF(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),jF=({lat:t,lng:e})=>{const n=MF();return B.useEffect(()=>{n.setView([t,e])},[t,e,n]),null},BF=new bF.Icon({iconUrl:"https://png.pngtree.com/png-clipart/20230815/original/pngtree-map-red-pointer-icon-marker-vector-isolated-on-white-background-eps-10-picture-image_7977947.png",iconSize:[40,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),Ix=({lat:t,lng:e,location:n})=>P.jsxs(DF,{center:[t,e],zoom:13,style:{height:"300px",width:"100%"},children:[P.jsx(zF,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),P.jsx(VF,{position:[t,e],icon:BF,children:P.jsx(FF,{children:n})}),P.jsx(jF,{lat:t,lng:e})]});function Px(t,e){return function(){return t.apply(e,arguments)}}const{toString:UF}=Object.prototype,{getPrototypeOf:A_}=Object,Df=(t=>e=>{const n=UF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Br=t=>(t=t.toLowerCase(),e=>Df(e)===t),Vf=t=>e=>typeof e===t,{isArray:gl}=Array,Ju=Vf("undefined");function $F(t){return t!==null&&!Ju(t)&&t.constructor!==null&&!Ju(t.constructor)&&sr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xx=Br("ArrayBuffer");function HF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xx(t.buffer),e}const WF=Vf("string"),sr=Vf("function"),Cx=Vf("number"),Ff=t=>t!==null&&typeof t=="object",qF=t=>t===!0||t===!1,jd=t=>{if(Df(t)!=="object")return!1;const e=A_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GF=Br("Date"),KF=Br("File"),ZF=Br("Blob"),QF=Br("FileList"),YF=t=>Ff(t)&&sr(t.pipe),XF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sr(t.append)&&((e=Df(t))==="formdata"||e==="object"&&sr(t.toString)&&t.toString()==="[object FormData]"))},JF=Br("URLSearchParams"),[ez,tz,nz,rz]=["ReadableStream","Request","Response","Headers"].map(Br),iz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ic(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),gl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let u;for(r=0;r<a;r++)u=s[r],e.call(null,t[u],u,t)}}function bx(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ax=t=>!Ju(t)&&t!==wo;function vg(){const{caseless:t}=Ax(this)&&this||{},e={},n=(r,i)=>{const s=t&&bx(e,i)||i;jd(e[s])&&jd(r)?e[s]=vg(e[s],r):jd(r)?e[s]=vg({},r):gl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ic(arguments[r],n);return e}const sz=(t,e,n,{allOwnKeys:r}={})=>(Ic(e,(i,s)=>{n&&sr(i)?t[s]=Px(i,n):t[s]=i},{allOwnKeys:r}),t),oz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),az=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lz=(t,e,n,r)=>{let i,s,a;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=n!==!1&&A_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},uz=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},cz=t=>{if(!t)return null;if(gl(t))return t;let e=t.length;if(!Cx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},dz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&A_(Uint8Array)),hz=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},fz=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},pz=Br("HTMLFormElement"),mz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),J0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),gz=Br("RegExp"),Rx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ic(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},vz=t=>{Rx(t,(e,n)=>{if(sr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(sr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_z=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return gl(t)?r(t):r(String(t).split(e)),n},yz=()=>{},wz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Up="abcdefghijklmnopqrstuvwxyz",eE="0123456789",kx={DIGIT:eE,ALPHA:Up,ALPHA_DIGIT:Up+Up.toUpperCase()+eE},Ez=(t=16,e=kx.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Tz(t){return!!(t&&sr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Sz=t=>{const e=new Array(10),n=(r,i)=>{if(Ff(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=gl(r)?[]:{};return Ic(r,(a,u)=>{const c=n(a,i+1);!Ju(c)&&(s[u]=c)}),e[i]=void 0,s}}return r};return n(t,0)},Iz=Br("AsyncFunction"),Pz=t=>t&&(Ff(t)||sr(t))&&sr(t.then)&&sr(t.catch),Lx=((t,e)=>t?setImmediate:e?((n,r)=>(wo.addEventListener("message",({source:i,data:s})=>{i===wo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),wo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sr(wo.postMessage)),xz=typeof queueMicrotask<"u"?queueMicrotask.bind(wo):typeof process<"u"&&process.nextTick||Lx,X={isArray:gl,isArrayBuffer:xx,isBuffer:$F,isFormData:XF,isArrayBufferView:HF,isString:WF,isNumber:Cx,isBoolean:qF,isObject:Ff,isPlainObject:jd,isReadableStream:ez,isRequest:tz,isResponse:nz,isHeaders:rz,isUndefined:Ju,isDate:GF,isFile:KF,isBlob:ZF,isRegExp:gz,isFunction:sr,isStream:YF,isURLSearchParams:JF,isTypedArray:dz,isFileList:QF,forEach:Ic,merge:vg,extend:sz,trim:iz,stripBOM:oz,inherits:az,toFlatObject:lz,kindOf:Df,kindOfTest:Br,endsWith:uz,toArray:cz,forEachEntry:hz,matchAll:fz,isHTMLForm:pz,hasOwnProperty:J0,hasOwnProp:J0,reduceDescriptors:Rx,freezeMethods:vz,toObjectSet:_z,toCamelCase:mz,noop:yz,toFiniteNumber:wz,findKey:bx,global:wo,isContextDefined:Ax,ALPHABET:kx,generateString:Ez,isSpecCompliantForm:Tz,toJSONObject:Sz,isAsyncFn:Iz,isThenable:Pz,setImmediate:Lx,asap:xz};function ze(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}X.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Ox=ze.prototype,Mx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Mx[t]={value:t}});Object.defineProperties(ze,Mx);Object.defineProperty(Ox,"isAxiosError",{value:!0});ze.from=(t,e,n,r,i,s)=>{const a=Object.create(Ox);return X.toFlatObject(t,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),ze.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const Cz=null;function _g(t){return X.isPlainObject(t)||X.isArray(t)}function Nx(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function tE(t,e,n){return t?t.concat(e).map(function(i,s){return i=Nx(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function bz(t){return X.isArray(t)&&!t.some(_g)}const Az=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function zf(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,V){return!X.isUndefined(V[A])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(X.isDate(b))return b.toISOString();if(!c&&X.isBlob(b))throw new ze("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(b)||X.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,A,V){let x=b;if(b&&!V&&typeof b=="object"){if(X.endsWith(A,"{}"))A=r?A:A.slice(0,-2),b=JSON.stringify(b);else if(X.isArray(b)&&bz(b)||(X.isFileList(b)||X.endsWith(A,"[]"))&&(x=X.toArray(b)))return A=Nx(A),x.forEach(function(I,F){!(X.isUndefined(I)||I===null)&&e.append(a===!0?tE([A],F,s):a===null?A:A+"[]",f(I))}),!1}return _g(b)?!0:(e.append(tE(V,A,s),f(b)),!1)}const g=[],_=Object.assign(Az,{defaultVisitor:p,convertValue:f,isVisitable:_g});function S(b,A){if(!X.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));g.push(b),X.forEach(b,function(x,E){(!(X.isUndefined(x)||x===null)&&i.call(e,x,X.isString(E)?E.trim():E,A,_))===!0&&S(x,A?A.concat(E):[E])}),g.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return S(t),e}function nE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function R_(t,e){this._pairs=[],t&&zf(t,this,e)}const Dx=R_.prototype;Dx.append=function(e,n){this._pairs.push([e,n])};Dx.toString=function(e){const n=e?function(r){return e.call(this,r,nE)}:nE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Rz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vx(t,e,n){if(!e)return t;const r=n&&n.encode||Rz,i=n&&n.serialize;let s;if(i?s=i(e,n):s=X.isURLSearchParams(e)?e.toString():new R_(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class rE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Fx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kz=typeof URLSearchParams<"u"?URLSearchParams:R_,Lz=typeof FormData<"u"?FormData:null,Oz=typeof Blob<"u"?Blob:null,Mz={isBrowser:!0,classes:{URLSearchParams:kz,FormData:Lz,Blob:Oz},protocols:["http","https","file","blob","url","data"]},k_=typeof window<"u"&&typeof document<"u",yg=typeof navigator=="object"&&navigator||void 0,Nz=k_&&(!yg||["ReactNative","NativeScript","NS"].indexOf(yg.product)<0),Dz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vz=k_&&window.location.href||"http://localhost",Fz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:k_,hasStandardBrowserEnv:Nz,hasStandardBrowserWebWorkerEnv:Dz,navigator:yg,origin:Vz},Symbol.toStringTag,{value:"Module"})),Wn={...Fz,...Mz};function zz(t,e){return zf(t,new Wn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Wn.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function jz(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Bz(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function zx(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),c=s>=n.length;return a=!a&&X.isArray(i)?i.length:a,c?(X.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!u):((!i[a]||!X.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&X.isArray(i[a])&&(i[a]=Bz(i[a])),!u)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(r,i)=>{e(jz(r),i,n,0)}),n}return null}function Uz(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Pc={transitional:Fx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=X.isObject(e);if(s&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return i?JSON.stringify(zx(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zz(e,this.formSerializer).toString();if((u=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zf(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Uz(e)):e}],transformResponse:[function(e){const n=this.transitional||Pc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?ze.from(u,ze.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wn.classes.FormData,Blob:Wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{Pc.headers[t]={}});const $z=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hz=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&$z[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},iE=Symbol("internals");function Yl(t){return t&&String(t).trim().toLowerCase()}function Bd(t){return t===!1||t==null?t:X.isArray(t)?t.map(Bd):String(t)}function Wz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const qz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $p(t,e,n,r,i){if(X.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function Gz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Kz(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class qn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(u,c,f){const p=Yl(c);if(!p)throw new Error("header name must be a non-empty string");const g=X.findKey(i,p);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||c]=Bd(u))}const a=(u,c)=>X.forEach(u,(f,p)=>s(f,p,c));if(X.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(X.isString(e)&&(e=e.trim())&&!qz(e))a(Hz(e),n);else if(X.isHeaders(e))for(const[u,c]of e.entries())s(c,u,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Yl(e),e){const r=X.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Wz(i);if(X.isFunction(n))return n.call(this,i,r);if(X.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yl(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$p(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Yl(a),a){const u=X.findKey(r,a);u&&(!n||$p(r,r[u],u,n))&&(delete r[u],i=!0)}}return X.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||$p(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return X.forEach(this,(i,s)=>{const a=X.findKey(r,s);if(a){n[a]=Bd(i),delete n[s];return}const u=e?Gz(s):String(s).trim();u!==s&&delete n[s],n[u]=Bd(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[iE]=this[iE]={accessors:{}}).accessors,i=this.prototype;function s(a){const u=Yl(a);r[u]||(Kz(i,a),r[u]=!0)}return X.isArray(e)?e.forEach(s):s(e),this}}qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(qn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});X.freezeMethods(qn);function Hp(t,e){const n=this||Pc,r=e||n,i=qn.from(r.headers);let s=r.data;return X.forEach(t,function(u){s=u.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function jx(t){return!!(t&&t.__CANCEL__)}function vl(t,e,n){ze.call(this,t??"canceled",ze.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(vl,ze,{__CANCEL__:!0});function Bx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ze("Request failed with status code "+n.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Zz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Qz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),p=r[s];a||(a=f),n[i]=c,r[i]=f;let g=s,_=0;for(;g!==i;)_+=n[g++],g=g%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-a<e)return;const S=p&&f-p;return S?Math.round(_*1e3/S):void 0}}function Yz(t,e){let n=0,r=1e3/e,i,s;const a=(f,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),t.apply(null,f)};return[(...f)=>{const p=Date.now(),g=p-n;g>=r?a(f,p):(i=f,s||(s=setTimeout(()=>{s=null,a(i)},r-g)))},()=>i&&a(i)]}const jh=(t,e,n=3)=>{let r=0;const i=Qz(50,250);return Yz(s=>{const a=s.loaded,u=s.lengthComputable?s.total:void 0,c=a-r,f=i(c),p=a<=u;r=a;const g={loaded:a,total:u,progress:u?a/u:void 0,bytes:c,rate:f||void 0,estimated:f&&u&&p?(u-a)/f:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},sE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},oE=t=>(...e)=>X.asap(()=>t(...e)),Xz=Wn.hasStandardBrowserEnv?function(){const e=Wn.navigator&&/(msie|trident)/i.test(Wn.navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const u=X.isString(a)?i(a):a;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),Jz=Wn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),X.isString(r)&&a.push("path="+r),X.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ej(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ux(t,e){return t&&!ej(e)?tj(t,e):e}const aE=t=>t instanceof qn?{...t}:t;function Fo(t,e){e=e||{};const n={};function r(f,p,g){return X.isPlainObject(f)&&X.isPlainObject(p)?X.merge.call({caseless:g},f,p):X.isPlainObject(p)?X.merge({},p):X.isArray(p)?p.slice():p}function i(f,p,g){if(X.isUndefined(p)){if(!X.isUndefined(f))return r(void 0,f,g)}else return r(f,p,g)}function s(f,p){if(!X.isUndefined(p))return r(void 0,p)}function a(f,p){if(X.isUndefined(p)){if(!X.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function u(f,p,g){if(g in e)return r(f,p);if(g in t)return r(void 0,f)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(f,p)=>i(aE(f),aE(p),!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(p){const g=c[p]||i,_=g(t[p],e[p],p);X.isUndefined(_)&&g!==u||(n[p]=_)}),n}const $x=t=>{const e=Fo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:u}=e;e.headers=a=qn.from(a),e.url=Vx(Ux(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(X.isFormData(n)){if(Wn.hasStandardBrowserEnv||Wn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[f,...p]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...p].join("; "))}}if(Wn.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(e)),r||r!==!1&&Xz(e.url))){const f=i&&s&&Jz.read(s);f&&a.set(i,f)}return e},nj=typeof XMLHttpRequest<"u",rj=nj&&function(t){return new Promise(function(n,r){const i=$x(t);let s=i.data;const a=qn.from(i.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:f}=i,p,g,_,S,b;function A(){S&&S(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let V=new XMLHttpRequest;V.open(i.method.toUpperCase(),i.url,!0),V.timeout=i.timeout;function x(){if(!V)return;const I=qn.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),U={data:!u||u==="text"||u==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:I,config:t,request:V};Bx(function(O){n(O),A()},function(O){r(O),A()},U),V=null}"onloadend"in V?V.onloadend=x:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(x)},V.onabort=function(){V&&(r(new ze("Request aborted",ze.ECONNABORTED,t,V)),V=null)},V.onerror=function(){r(new ze("Network Error",ze.ERR_NETWORK,t,V)),V=null},V.ontimeout=function(){let F=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||Fx;i.timeoutErrorMessage&&(F=i.timeoutErrorMessage),r(new ze(F,U.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,t,V)),V=null},s===void 0&&a.setContentType(null),"setRequestHeader"in V&&X.forEach(a.toJSON(),function(F,U){V.setRequestHeader(U,F)}),X.isUndefined(i.withCredentials)||(V.withCredentials=!!i.withCredentials),u&&u!=="json"&&(V.responseType=i.responseType),f&&([_,b]=jh(f,!0),V.addEventListener("progress",_)),c&&V.upload&&([g,S]=jh(c),V.upload.addEventListener("progress",g),V.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(p=I=>{V&&(r(!I||I.type?new vl(null,t,V):I),V.abort(),V=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const E=Zz(i.url);if(E&&Wn.protocols.indexOf(E)===-1){r(new ze("Unsupported protocol "+E+":",ze.ERR_BAD_REQUEST,t));return}V.send(s||null)})},ij=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,u();const p=f instanceof Error?f:this.reason;r.abort(p instanceof ze?p:new vl(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,s(new ze(`timeout ${e} of ms exceeded`,ze.ETIMEDOUT))},e);const u=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),t=null)};t.forEach(f=>f.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>X.asap(u),c}},sj=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},oj=async function*(t,e){for await(const n of aj(t))yield*sj(n,e)},aj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},lE=(t,e,n,r)=>{const i=oj(t,e);let s=0,a,u=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:f,value:p}=await i.next();if(f){u(),c.close();return}let g=p.byteLength;if(n){let _=s+=g;n(_)}c.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},jf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Hx=jf&&typeof ReadableStream=="function",lj=jf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Wx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uj=Hx&&Wx(()=>{let t=!1;const e=new Request(Wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),uE=64*1024,wg=Hx&&Wx(()=>X.isReadableStream(new Response("").body)),Bh={stream:wg&&(t=>t.body)};jf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bh[e]&&(Bh[e]=X.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ze(`Response type '${e}' is not supported`,ze.ERR_NOT_SUPPORT,r)})})})(new Response);const cj=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(Wn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await lj(t)).byteLength},dj=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??cj(e)},hj=jf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:u,onUploadProgress:c,responseType:f,headers:p,withCredentials:g="same-origin",fetchOptions:_}=$x(t);f=f?(f+"").toLowerCase():"text";let S=ij([i,s&&s.toAbortSignal()],a),b;const A=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let V;try{if(c&&uj&&n!=="get"&&n!=="head"&&(V=await dj(p,r))!==0){let U=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(X.isFormData(r)&&(H=U.headers.get("content-type"))&&p.setContentType(H),U.body){const[O,w]=sE(V,jh(oE(c)));r=lE(U.body,uE,O,w)}}X.isString(g)||(g=g?"include":"omit");const x="credentials"in Request.prototype;b=new Request(e,{..._,signal:S,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:x?g:void 0});let E=await fetch(b);const I=wg&&(f==="stream"||f==="response");if(wg&&(u||I&&A)){const U={};["status","statusText","headers"].forEach(C=>{U[C]=E[C]});const H=X.toFiniteNumber(E.headers.get("content-length")),[O,w]=u&&sE(H,jh(oE(u),!0))||[];E=new Response(lE(E.body,uE,O,()=>{w&&w(),A&&A()}),U)}f=f||"text";let F=await Bh[X.findKey(Bh,f)||"text"](E,t);return!I&&A&&A(),await new Promise((U,H)=>{Bx(U,H,{data:F,headers:qn.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:b})})}catch(x){throw A&&A(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,t,b),{cause:x.cause||x}):ze.from(x,x&&x.code,t,b)}}),Eg={http:Cz,xhr:rj,fetch:hj};X.forEach(Eg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cE=t=>`- ${t}`,fj=t=>X.isFunction(t)||t===null||t===!1,qx={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!fj(n)&&(r=Eg[(a=String(n)).toLowerCase()],r===void 0))throw new ze(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(cE).join(`
`):" "+cE(s[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Eg};function Wp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vl(null,t)}function dE(t){return Wp(t),t.headers=qn.from(t.headers),t.data=Hp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qx.getAdapter(t.adapter||Pc.adapter)(t).then(function(r){return Wp(t),r.data=Hp.call(t,t.transformResponse,r),r.headers=qn.from(r.headers),r},function(r){return jx(r)||(Wp(t),r&&r.response&&(r.response.data=Hp.call(t,t.transformResponse,r.response),r.response.headers=qn.from(r.response.headers))),Promise.reject(r)})}const Gx="1.7.7",L_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{L_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const hE={};L_.transitional=function(e,n,r){function i(s,a){return"[Axios v"+Gx+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,u)=>{if(e===!1)throw new ze(i(a," has been removed"+(n?" in "+n:"")),ze.ERR_DEPRECATED);return n&&!hE[a]&&(hE[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,u):!0}};function pj(t,e,n){if(typeof t!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const u=t[s],c=u===void 0||a(u,s,t);if(c!==!0)throw new ze("option "+s+" must be "+c,ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ze("Unknown option "+s,ze.ERR_BAD_OPTION)}}const Tg={assertOptions:pj,validators:L_},ys=Tg.validators;class Io{constructor(e){this.defaults=e,this.interceptors={request:new rE,response:new rE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Tg.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),i!=null&&(X.isFunction(i)?n.paramsSerializer={serialize:i}:Tg.assertOptions(i,{encode:ys.function,serialize:ys.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&X.merge(s.common,s[n.method]);s&&X.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=qn.concat(a,s);const u=[];let c=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(c=c&&A.synchronous,u.unshift(A.fulfilled,A.rejected))});const f=[];this.interceptors.response.forEach(function(A){f.push(A.fulfilled,A.rejected)});let p,g=0,_;if(!c){const b=[dE.bind(this),void 0];for(b.unshift.apply(b,u),b.push.apply(b,f),_=b.length,p=Promise.resolve(n);g<_;)p=p.then(b[g++],b[g++]);return p}_=u.length;let S=n;for(g=0;g<_;){const b=u[g++],A=u[g++];try{S=b(S)}catch(V){A.call(this,V);break}}try{p=dE.call(this,S)}catch(b){return Promise.reject(b)}for(g=0,_=f.length;g<_;)p=p.then(f[g++],f[g++]);return p}getUri(e){e=Fo(this.defaults,e);const n=Ux(e.baseURL,e.url);return Vx(n,e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(n,r){return this.request(Fo(r||{},{method:e,url:n,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,u){return this.request(Fo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Io.prototype[e]=n(),Io.prototype[e+"Form"]=n(!0)});class O_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(u=>{r.subscribe(u),s=u}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,u){r.reason||(r.reason=new vl(s,a,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new O_(function(i){e=i}),cancel:e}}}function mj(t){return function(n){return t.apply(null,n)}}function gj(t){return X.isObject(t)&&t.isAxiosError===!0}const Sg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sg).forEach(([t,e])=>{Sg[e]=t});function Kx(t){const e=new Io(t),n=Px(Io.prototype.request,e);return X.extend(n,Io.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Kx(Fo(t,i))},n}const Rt=Kx(Pc);Rt.Axios=Io;Rt.CanceledError=vl;Rt.CancelToken=O_;Rt.isCancel=jx;Rt.VERSION=Gx;Rt.toFormData=zf;Rt.AxiosError=ze;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=mj;Rt.isAxiosError=gj;Rt.mergeConfig=Fo;Rt.AxiosHeaders=qn;Rt.formToJSON=t=>zx(X.isHTMLForm(t)?new FormData(t):t);Rt.getAdapter=qx.getAdapter;Rt.HttpStatusCode=Sg;Rt.default=Rt;const Zx=()=>{const[t,e]=B.useState(!1),[n,r]=B.useState(null),[i,s]=B.useState(3.405),[a,u]=B.useState(-76.49),[c,f]=B.useState(!1);return{updateEvent:async(_,S)=>{if(!_){console.error("No se proporcionó un eventId válido."),r("No se proporcionó un eventId válido.");return}e(!0),r(null);try{const b=on(Wt,"events",_);await Qu(b,S),console.log("Evento actualizado correctamente")}catch(b){console.error("Error updating event:",b),r("Error al actualizar el evento.")}finally{e(!1)}},loading:t,error:n,onMapClick:_=>{const{lat:S,lng:b}=_.latlng;s(S),u(b),f(!0)},lat:i,lng:a,mapClicked:c}},vj=(t,e)=>{const[n,r]=B.useState(""),[i,s]=B.useState(""),[a,u]=B.useState(""),[c,f]=B.useState(""),[p,g]=B.useState(""),[_,S]=B.useState(""),[b,A]=B.useState(""),[V,x]=B.useState(0),[E,I]=B.useState(e),[F,U]=B.useState(!1),[H,O]=B.useState(!1),{updateEvent:w,error:C}=Zx(),k=async()=>{var M,re;try{const he=on(Wt,"events",t),Se=await di(he);if(Se.exists()){const Fe=Se.data();r(Fe.name||""),s(Fe.date||""),u(Fe.startTime||""),f(Fe.location||""),g(Fe.eventType||""),S(Fe.dressCode||""),A(Fe.description||""),x(Fe.amount||0),I({lat:((M=Fe.coordinates)==null?void 0:M.lat)||e.lat,lng:((re=Fe.coordinates)==null?void 0:re.lng)||e.lng})}}catch(he){console.error("Error fetching event data:",he)}},D=async M=>{M.preventDefault();const re={name:n,date:i,startTime:a,location:c,eventType:p,dressCode:_,description:b,amount:V,coordinates:E};try{await w(t,re),O(!0)}catch(he){console.error("Error updating event:",he)}},j=async M=>{f(M),U(!0);try{const he=(await Rt.get(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(M)}`)).data;if(he&&he.length>0){const{lat:Se,lon:Fe}=he[0];I({lat:parseFloat(Se),lng:parseFloat(Fe)})}else console.error("No results found for this location.")}catch(re){console.error("Error fetching location:",re)}finally{U(!1)}};return B.useEffect(()=>{k()},[t]),{name:n,setName:r,date:i,setDate:s,startTime:a,setStartTime:u,location:c,setLocation:f,eventType:p,setEventType:g,dressCode:_,setDressCode:S,description:b,setDescription:A,amount:V,setAmount:x,coordinates:E,isLocationUpdating:F,isUpdateSuccessful:H,handleSubmitForm:D,handleLocationChange:j,error:C}},_j=({eventId:t,lat:e,lng:n,onClose:r})=>{const{name:i,setName:s,date:a,setDate:u,startTime:c,setStartTime:f,location:p,eventType:g,setEventType:_,dressCode:S,setDressCode:b,description:A,setDescription:V,amount:x,setAmount:E,coordinates:I,isLocationUpdating:F,handleSubmitForm:U,handleLocationChange:H,error:O,isUpdateSuccessful:w}=vj(t,{lat:e,lng:n});return B.useEffect(()=>{w&&(alert("Evento actualizado correctamente."),r())},[w,r]),P.jsxs("div",{"aria-label":"edit events form",className:"edit_event_form",children:[P.jsx("button",{className:"close-button",onClick:r,children:"x"}),P.jsx("h2",{children:"Update an Event"}),P.jsxs("form",{onSubmit:U,children:[P.jsx("label",{children:"Event name"}),P.jsx("input",{"aria-label":"event name",type:"text",value:i,onChange:C=>s(C.target.value),placeholder:"Event name",required:!0}),P.jsx("label",{children:"Date"}),P.jsx("input",{"aria-label":"event date",type:"date",value:a,onChange:C=>u(C.target.value),required:!0}),P.jsx("label",{children:"Start time"}),P.jsx("input",{"aria-label":"start time",type:"time",value:c,onChange:C=>f(C.target.value),required:!0}),P.jsx("p",{className:"example",children:"Example: Cl. 38 Norte. #6N"}),P.jsx("input",{"aria-label":"address",type:"text",value:p,onChange:C=>H(C.target.value),placeholder:"Address",required:!0}),F&&P.jsx("p",{children:"Loading location..."}),P.jsx(Ix,{lat:I.lat,lng:I.lng,location:p}),P.jsx("label",{children:"Event type"}),P.jsxs("select",{"aria-label":"event type",value:g,onChange:C=>_(C.target.value),required:!0,children:[P.jsx("option",{value:"",disabled:!0,children:"Select an event type"}),P.jsx("option",{value:"Halloween",children:"Halloween"}),P.jsx("option",{value:"Wedding",children:"Wedding"}),P.jsx("option",{value:"Birthday",children:"Birthday"}),P.jsx("option",{value:"Baby shower",children:"Baby shower"}),P.jsx("option",{value:"Christmas",children:"Christmas"}),P.jsx("option",{value:"Other",children:"Other"})]}),P.jsx("label",{children:"Dress code"}),P.jsx("input",{"aria-label":"dress code",type:"text",value:S,onChange:C=>b(C.target.value),placeholder:"Dress code",required:!0}),P.jsx("label",{children:"Description"}),P.jsx("textarea",{"aria-label":"description",value:A,onChange:C=>V(C.target.value),placeholder:"Description",required:!0}),P.jsx("label",{children:"Event amount"}),P.jsx("input",{"aria-label":"event amount",type:"number",value:x,onChange:C=>E(Number(C.target.value)),placeholder:"Event amount"}),P.jsx("button",{type:"submit",children:"Update event"})]}),O&&P.jsxs("p",{children:["Error updating event: ",O]})]})},yj=t=>{const[e,n]=B.useState(!1),[r,i]=B.useState(""),[s,a]=B.useState(""),[u,c]=B.useState(""),[f,p]=B.useState(""),[g,_]=B.useState(""),[S,b]=B.useState(""),[A,V]=B.useState(""),[x,E]=B.useState(null),[I,F]=B.useState(3.405),[U,H]=B.useState(-76.49),[O,w]=B.useState(!1),[C,k]=B.useState(""),{updateEvent:D,loading:j,error:M}=Zx(),re=()=>n(!0),he=()=>n(!1),Se=async K=>{K.preventDefault(),await D(t,{eventId:t,name:r,date:s,startTime:u,location:f,eventType:g,dressCode:S,description:A,amount:x,coordinates:{lat:I,lng:U}}),he()},Fe=K=>{const{lat:ie,lng:J}=K.latlng;F(ie),H(J),w(!0)};return B.useEffect(()=>{switch(g){case"Halloween":k("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHalloween.webp?alt=media&token=60a5ef71-06d5-424a-9769-a00cfbb4a4a2");break;case"Birthday":k("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHappyBirthday.webp?alt=media&token=6902ad3e-c943-45e4-a355-ebd0a63acc39");break;case"Wedding":k("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FWedding.webp?alt=media&token=7e54d790-a151-4863-8dc4-1f2894748c46");break;case"Christmas":k("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FNavidad.webp?alt=media&token=eb85b70d-cf4c-4a50-b62a-54fff05ca922");break;case"Baby shower":k("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2Fbaby-shower-1.webp?alt=media&token=88aff7ae-4e95-4902-b8f3-0235dfcce888");break;case"Other":k("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FFiesta.webp?alt=media&token=09a1359c-42cc-43f4-921a-db5446cbfca9");break;default:k("https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FFiesta.webp?alt=media&token=09a1359c-42cc-43f4-921a-db5446cbfca9");break}},[g]),{eventId:t,name:r,setName:i,date:s,setDate:a,startTime:u,setStartTime:c,location:f,setLocation:p,eventType:g,setEventType:_,dressCode:S,setDressCode:b,description:A,setDescription:V,handleSubmit:Se,loading:j,error:M,lat:I,setLat:F,lng:U,setLng:H,amount:x,setAmount:E,isModalOpen:e,handleOpenModal:re,handleClose:he,mapClicked:O,onMapClick:Fe,imageSrc:C}},wj=({icon:t,eventId:e})=>{const{name:n,setName:r,date:i,setDate:s,startTime:a,setStartTime:u,location:c,setLocation:f,eventType:p,setEventType:g,dressCode:_,setDressCode:S,description:b,setDescription:A,lat:V,lng:x,onMapClick:E,handleClose:I,handleOpenModal:F,isModalOpen:U,amount:H,setAmount:O}=yj(e);return P.jsxs("div",{children:[P.jsx("button",{id:"edit_button",onClick:F,children:t}),U&&CS.createPortal(P.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},children:P.jsx(_j,{eventId:e,name:n,setName:r,date:i,setDate:s,startTime:a,setStartTime:u,location:c,setLocation:f,eventType:p,setEventType:g,dressCode:_,setDressCode:S,description:b,setDescription:A,lat:V,lng:x,onMapClick:E,onClose:I,amount:H||0,setAmount:O})}),document.getElementById("modal-root"))]})},Ej=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(!1),i=S_();return{deleteEvent:async a=>{r(!0),e(null);try{await UD(on(Wt,"events",a)),console.log(`Event with ID ${a} deleted from Firebase.`),w_(i,u=>{u||console.warn("User was signed out unexpectedly after deletion.")})}catch(u){e("Error deleting event"),console.error("Error deleting event:",u)}finally{r(!1)}},deleting:n,error:t}},Tj=({date:t,image:e,id:n,name:r})=>{const i=mi(),{deleteEvent:s,deleting:a,error:u}=Ej(),c=()=>{console.log(`Button clicked. Card ID: ${n}`),i(`/detail/${n}`,{state:{id:n}})},f=()=>{s(n)};return P.jsxs("div",{id:"hosts_events",children:[P.jsxs("button",{id:"host_event_button",onClick:c,children:[P.jsx("img",{id:"event_img",src:e,alt:""}),P.jsx("p",{id:"location_event",children:r}),P.jsx("p",{id:"date_event",children:t})]}),P.jsxs("div",{id:"buttons_event",children:[P.jsx(wF,{onClick:f}),P.jsx(wj,{icon:"Edit",eventId:n})]}),a&&P.jsx("p",{children:"Deleting..."}),u&&P.jsx("p",{children:u})]})},Sj=t=>{const[e,n]=B.useState([]),[r,i]=B.useState(!0),[s,a]=B.useState(null),[u,c]=B.useState(window.innerWidth),f=(S,b)=>{localStorage.setItem(S,JSON.stringify(b))},p=S=>{const b=localStorage.getItem(S);return b?JSON.parse(b):null};B.useEffect(()=>{const S=()=>c(window.innerWidth);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const g=B.useMemo(()=>u<768?1:u<1024?2:3,[u]),_=B.useCallback(async()=>{i(!0);const S=zr(Wt,"events"),b=al(S,ci("userId","==",t)),A=p(`events_${t}`);A&&n(A);try{const E=(await Rf(b)).docs.map(I=>({id:I.id,...I.data()}));n(E),f(`events_${t}`,E)}catch{a("Error loading events")}finally{i(!1)}const V=Mh(b,x=>{const E=x.docs.map(I=>({id:I.id,...I.data()}));n(E),f(`events_${t}`,E)});return()=>V()},[t]);return B.useEffect(()=>{_()},[_]),{profiles:e,slidesPerView:g,loading:r,error:s}},Ij=({userId:t})=>{const{profiles:e,slidesPerView:n,loading:r,error:i}=Sj(t);return P.jsxs("div",{"aria-label":"carousel host events",id:"Host_card",children:[P.jsx("h2",{"aria-label":"carousel host events title",id:"host_tittle",children:"You are Host"}),P.jsx("div",{"aria-label":"carousel host events",id:"carousel",children:r?P.jsx("p",{id:"loading","aria-live":"polite",children:"Loading events..."}):i?P.jsx("p",{id:"error","aria-live":"assertive",children:i}):P.jsx(lc,{spaceBetween:30,slidesPerView:e.length<n?e.length:n,navigation:!1,pagination:{clickable:!0},loop:e.length>1,children:e.length>0?e.map(s=>P.jsx(ko,{"aria-label":`Event ${s.name} on ${s.date}`,children:P.jsx(Tj,{id:s.id,name:s.name,date:s.date,image:s.image,"aria-hidden":"false"})},s.id)):P.jsx(ko,{children:P.jsx("p",{id:"no_events","aria-live":"polite",children:"No events available"})})})})]})},Pj=({date:t,url:e,name:n,id:r})=>{const i=mi(),s=()=>{console.log(`Button clicked. Card ID: ${r}`),i(`/detail/${r}`,{state:{id:r}})};return P.jsxs("button",{id:"Guest_events",onClick:s,children:[P.jsx("img",{id:"event_img",src:e,alt:"event img"}),P.jsx("p",{id:"ocation_event",children:n}),P.jsx("p",{id:"date_event",children:t})]})},xj=t=>{const[e,n]=B.useState([]),[r,i]=B.useState(3),[s,a]=B.useState(!0),[u,c]=B.useState(null),f=B.useCallback(()=>{window.innerWidth<768?i(1):window.innerWidth<1024?i(2):i(3)},[]);return B.useEffect(()=>(f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[f]),B.useEffect(()=>{a(!0),(async()=>{try{const g=al(zr(Wt,"invitations"),ci("userId","==",t),ci("status","==","accepted")),_=Mh(g,S=>{const b=[...new Set(S.docs.map(A=>A.data().eventId))];if(console.log("Event IDs from accepted invitations: ",b),b.length>0){const A=al(zr(Wt,"events"),ci("__name__","in",b)),V=Mh(A,x=>{const E=x.docs.map(I=>({id:I.id,...I.data()}));console.log("Fetched Events: ",E),n(E),a(!1)});return()=>V()}else n([]),a(!1)});return()=>_()}catch(g){console.error("Error fetching events: ",g),c("Error loading events. Please try again later."),a(!1)}})()},[t]),{profiles:e,slidesPerView:r,loading:s,error:u}},Cj=_t.memo(({userId:t})=>{const{profiles:e,slidesPerView:n,loading:r,error:i}=xj(t);return P.jsxs("div",{"aria-label":"carousel guest events",id:"Guest_card",children:[P.jsx("h2",{"aria-label":"carousel guest events title",id:"Guest_tittle",children:"You are Guest"}),P.jsx("div",{"aria-label":"carousel guest events",id:"carousel",children:r?P.jsx("p",{id:"loading","aria-live":"polite",children:"Loading events..."}):i?P.jsx("p",{id:"error","aria-live":"assertive",children:i}):P.jsx(lc,{spaceBetween:30,slidesPerView:Math.min(e.length,n),navigation:!1,pagination:{clickable:!0},loop:e.length>1,children:e.length>0?e.map(s=>P.jsx(ko,{"aria-label":`Event ${s.name} on ${s.date}`,children:P.jsx(Pj,{id:s.id,ocation:s.eventType,name:s.name,date:s.date,url:s.image,"aria-hidden":"false"})},s.id)):P.jsx(ko,{children:P.jsx("p",{id:"no_events","aria-live":"polite",children:"No events available"})})})})]})}),bj=({name:t,setName:e,date:n,setDate:r,startTime:i,setStartTime:s,location:a,setLocation:u,eventType:c,setEventType:f,dressCode:p,setDressCode:g,description:_,setDescription:S,handleSubmit:b,lat:A,lng:V,onClose:x,amount:E,setAmount:I})=>{const[F,U]=B.useState({lat:A,lng:V}),[H,O]=B.useState(!1),w=async C=>{u(C),O(!0);try{const D=(await Rt.get(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(C)}`)).data;if(D&&D.length>0){const{lat:j,lon:M}=D[0];U({lat:parseFloat(j),lng:parseFloat(M)})}else console.error("No results found for this location.")}catch(k){console.error("Error fetching location:",k)}finally{O(!1)}};return B.useEffect(()=>{U({lat:A,lng:V})},[A,V]),P.jsxs("div",{"aria-label":"create events form",className:"create_event_form",children:[P.jsx("button",{className:"close-button",onClick:x,children:"x"}),P.jsx("h2",{children:"Create a new event"}),P.jsxs("form",{onSubmit:b,children:[P.jsx("label",{children:"Event name"}),P.jsx("input",{"aria-label":"event name",type:"text",value:t,onChange:C=>e(C.target.value),placeholder:"Event name",required:!0}),P.jsx("label",{children:"Date"}),P.jsx("input",{"aria-label":"event date",type:"date",value:n,onChange:C=>r(C.target.value),required:!0}),P.jsx("label",{children:"Start time"}),P.jsx("input",{"aria-label":"start time ",type:"time",value:i,onChange:C=>s(C.target.value),required:!0}),P.jsx("label",{children:"Address"}),P.jsx("p",{className:"example",children:" Example: Cl. 38 Norte. #6N "}),P.jsx("input",{"aria-label":"address",type:"text",value:a,onChange:C=>w(C.target.value),placeholder:"Address",required:!0}),H&&P.jsx("p",{children:"Loading location..."}),P.jsx(Ix,{lat:F.lat,lng:F.lng,location:a}),P.jsx("label",{children:"Event type"}),P.jsxs("select",{"aria-label":"event type",value:c,onChange:C=>f(C.target.value),required:!0,children:[P.jsx("option",{value:"",disabled:!0,children:"Select an event type"}),P.jsx("option",{value:"Halloween",children:"Halloween"}),P.jsx("option",{value:"Wedding",children:"Wedding"}),P.jsx("option",{value:"Birthday",children:"Birthday"}),P.jsx("option",{value:"Baby shower",children:"Baby shower"}),P.jsx("option",{value:"Christmas",children:"Christmas"}),P.jsx("option",{value:"Other",children:"Other"})]}),P.jsx("label",{children:"Dress code"}),P.jsx("input",{"aria-label":"dress code",type:"text",value:p,onChange:C=>g(C.target.value),placeholder:"Dress code",required:!0}),P.jsx("label",{children:"Description"}),P.jsx("textarea",{"aria-label":"description",value:_,onChange:C=>S(C.target.value),placeholder:"Description",required:!0}),P.jsx("label",{children:"Event amount"}),P.jsx("input",{"aria-label":"event amount",type:"number",value:E,onChange:C=>I(Number(C.target.value)),placeholder:"Event amount"}),P.jsx("button",{type:"submit",children:"Create event"})]})]})},Aj=({onClick:t})=>P.jsxs("div",{id:"button_new_div",children:[P.jsx("h2",{id:"new_event_text",children:"Create a new event!"}),P.jsx("button",{id:"new_nevent_button",onClick:t,children:"+"})]}),Rj=()=>{const[t,e]=B.useState(""),[n,r]=B.useState(""),[i,s]=B.useState(""),[a,u]=B.useState(""),[c,f]=B.useState(""),[p,g]=B.useState(""),[_,S]=B.useState(""),[b,A]=B.useState(""),[V,x]=B.useState(3.405),[E,I]=B.useState(-76.49),[F,U]=B.useState(!1),[H,O]=B.useState(!1),[w,C]=B.useState(null),[k,D]=B.useState(0),j=B.useMemo(()=>({Halloween:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHalloween.webp?alt=media&token=60a5ef71-06d5-424a-9769-a00cfbb4a4a2",Birthday:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FHappyBirthday.webp?alt=media&token=6902ad3e-c943-45e4-a355-ebd0a63acc39","Baby shower":"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2Fbaby-shower-1.webp?alt=media&token=88aff7ae-4e95-4902-b8f3-0235dfcce888",Wedding:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FWedding.webp?alt=media&token=7e54d790-a151-4863-8dc4-1f2894748c46",Christmas:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FNavidad.webp?alt=media&token=eb85b70d-cf4c-4a50-b62a-54fff05ca922",Other:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/EventsProfImage%2FFiesta.webp?alt=media&token=09a1359c-42cc-43f4-921a-db5446cbfca9"}),[]),M=me=>{g(me),C(j[me]||null)},re=async me=>{f(me);const Pe=`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(me)}&format=json&limit=1`;try{const Me=await Rt.get(Pe);if(Me.data.length>0){const{lat:Ce,lon:Te}=Me.data[0];x(parseFloat(Ce)),I(parseFloat(Te)),U(!0)}else alert("Location not found. Please try a different address.")}catch(Me){console.error("Error fetching location:",Me),alert("An error occurred while fetching the location.")}},he=()=>{O(!1)},Se=()=>`event-${Date.now()}-${Math.floor(Math.random()*1e3)}`,Fe=async me=>{me.preventDefault();const Pe=Se();if(e(Pe),!F){alert("Please set the location on the map.");return}if(!n||!i||!a||!c||!p||!_||!b){alert("Please complete all the required fields.");return}if(k<0){alert("Amount cannot be negative.");return}const Ce=S_().currentUser;if(!Ce){alert("User not authenticated.");return}const Te=on(Wt,"users",Ce.uid);try{const Xe=await di(Te);if(!Xe.exists()){alert("User data not found.");return}const Ur=Xe.data().accountAmount;if(k!==void 0&&Ur<k){alert("Insufficient funds.");return}const wn=k!==void 0?Ur-k:Ur;k!==void 0&&await Qu(Te,{accountAmount:wn});const cr={eventID:Pe,name:n,date:i,startTime:a,location:c,eventType:p,dressCode:_,description:b,userId:Ce.uid,coordinates:{lat:V,lng:E},image:w,amount:k===void 0?null:k};await DP(zr(Wt,"events"),cr),K(),he()}catch(Xe){console.error("Error processing request: ",Xe),alert("An error occurred while creating the event.")}},K=()=>{r(""),s(""),u(""),f(""),g(""),S(""),A(""),x(3.405),I(-76.49),U(!1),C(null),D(0),e("")};return{eventId:t,name:n,setName:r,date:i,setDate:s,startTime:a,setStartTime:u,location:c,setLocation:re,setEventType:M,dressCode:_,setDressCode:S,description:b,setDescription:A,eventType:p,handleSubmit:Fe,lat:V,lng:E,onMapClick:me=>{const{lat:Pe,lng:Me}=me.latlng;x(Pe),I(Me),U(!0)},handleClose:()=>{K(),O(!1)},handleOpenModal:()=>{O(!0)},isModalOpen:H,image:w,amount:k,setAmount:D}},kj=()=>{const{name:t,setName:e,date:n,setDate:r,startTime:i,setStartTime:s,location:a,setLocation:u,eventType:c,setEventType:f,dressCode:p,setDressCode:g,description:_,setDescription:S,handleSubmit:b,lat:A,lng:V,onMapClick:x,handleClose:E,handleOpenModal:I,isModalOpen:F,amount:U,setAmount:H}=Rj();return P.jsxs(P.Fragment,{children:[P.jsx(Aj,{onClick:I}),F&&P.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:P.jsx(bj,{name:t,setName:e,date:n,setDate:r,startTime:i,setStartTime:s,location:a,setLocation:u,eventType:c,setEventType:f,dressCode:p,setDressCode:g,description:_,setDescription:S,handleSubmit:b,lat:A,lng:V,onMapClick:x,onClose:E,amount:U||0,setAmount:H})})]})},Lj=()=>{const{userId:t}=cf();return P.jsxs("div",{id:"main_screen",children:[P.jsx(mF,{}),P.jsx(yF,{}),P.jsx(Ij,{userId:t}),P.jsx(Cj,{userId:t}),P.jsx(kj,{}),P.jsx(gF,{creatorId:t}),P.jsx("div",{id:"root"}),P.jsx("div",{id:"modal-root"})]})},Oa=({uid:t,lillogo:e,info:n,infoPlaceholder:r,inputType:i,...s})=>P.jsxs("div",{id:"inputSpace",children:[P.jsx("p",{className:"inputs_p",children:n}),P.jsxs("div",{id:"img-Input",children:[P.jsx("img",{src:e,alt:""}),P.jsx("input",{className:"theRegisterInput",id:t,type:i,placeholder:r,...s})]}),P.jsx("hr",{id:"lineaHorizontal"})]}),Oj=()=>{const t=mi(),e=()=>{t("/login")};return P.jsx("button",{onClick:e,className:"register-buttons",children:"Login here !"})};function Mj({title:t,infoMessagept1:e,infoMessagept2:n}){return P.jsxs("div",{id:"MessageSpace",children:[P.jsx("h1",{children:t}),P.jsxs("div",{children:[P.jsx("p",{id:"register_message",children:e}),P.jsx("div",{id:"infoWithLink",children:P.jsxs("p",{id:"register_message",children:[n,P.jsx(Oj,{})]})})]})]})}function Qx({buttonText:t,btnId:e}){return P.jsx("button",{className:"theRegisterBtn",type:"submit",id:e,children:t})}const Nj=()=>{const[t,e]=B.useState(null),n=mi();return{register:async(i,s,a,u)=>{e(null);try{const f=(await j2(Nf,i,s)).user,p=parseInt(u);await NP(on(Wt,"users",f.uid),{username:a,accountAmount:p,email:f.email}),console.log("Usuario registrado:",f),n(`/main/${f.uid}`)}catch(c){console.error("Error al registrar:",c),c.code==="auth/email-already-in-use"?e("This email is already in use."):c.code==="auth/weak-password"?e("The password is too weak."):e("An error occurred while signing up.")}},error:t}},Dj=()=>{const[t,e]=B.useState(""),[n,r]=B.useState(""),[i,s]=B.useState(""),[a,u]=B.useState(""),{register:c,error:f}=Nj(),p=g=>{g.preventDefault(),c(t,i,n,a)};return P.jsxs("div",{id:"SignSpace",children:[P.jsx("img",{id:"SignImg",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/LoginSigup%2FSingin.webp?alt=media&token=3ca542c7-b2db-4bbc-990b-760f49b478d1",alt:""}),P.jsx("div",{className:"registerSpace",children:P.jsxs("form",{id:"registerForm",onSubmit:p,children:[P.jsx(Mj,{title:"Sign Up",infoMessagept1:"If you already have an account registered",infoMessagept2:"You can"}),P.jsx(Oa,{inputType:"email",uid:"registerEmail",lillogo:"/mail.svg",info:"Email",infoPlaceholder:"Enter your email address",onChange:g=>e(g.target.value)}),P.jsx(Oa,{inputType:"text",uid:"registerUsername",lillogo:"/user.svg",info:"Username",infoPlaceholder:"Enter your username",onChange:g=>r(g.target.value)}),P.jsx(Oa,{inputType:"password",uid:"registerPassword",lillogo:"/lock.svg",info:"Password",infoPlaceholder:"Enter your password",onChange:g=>s(g.target.value)}),P.jsx(Oa,{inputType:"number",uid:"registerAccount",lillogo:"money.svg",info:"Account Amount",infoPlaceholder:"Add account amount",onChange:g=>u(g.target.value)}),f&&P.jsx("div",{className:"errorMessage",children:f}),P.jsx(Qx,{btnId:"RegisterBtn",buttonText:"Register"})]})})]})},Vj=()=>P.jsx("div",{className:"register-screen",children:P.jsx(Dj,{})}),Fj=()=>{const t=mi(),e=()=>{t("/signup")};return P.jsx("button",{onClick:e,className:"login-buttons",children:"Register here !"})};function zj({title:t,infoMessagept1:e,infoMessagept2:n}){return P.jsxs("div",{id:"MessageLogSpace",children:[P.jsx("h1",{children:t}),P.jsxs("div",{id:"message_space",children:[P.jsx("p",{className:"login_message",children:e}),P.jsx("div",{children:P.jsxs("p",{id:"infoWithLinkLog",className:"login_message",children:[n,P.jsx(Fj,{})]})})]})]})}const jj=()=>{const[t,e]=B.useState(null),n=mi();return{login:async(i,s)=>{e(null);try{const a=await B2(Nf,i,s);console.log("Usuario autenticado:",a.user);const u=a.user.uid;n(`/main/${u}`)}catch(a){console.error("Error al iniciar sesión:",a),a.code==="auth/wrong-password"?e("Incorrect Password."):a.code==="auth/user-not-found"?e("There is no account associated with that email."):e("An error occurred while signing in.")}},error:t}};function Bj(){const[t,e]=B.useState(""),[n,r]=B.useState(""),{login:i,error:s}=jj(),a=u=>{u.preventDefault(),i(t,n)};return P.jsxs("div",{id:"LogSpace",children:[P.jsx("img",{id:"LogImg",src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/LoginSigup%2FFista%20login.webp?alt=media&token=9fcd2b8c-053f-4a35-bb6a-ed558e6ba107",alt:""}),P.jsx("div",{className:"registerSpace",children:P.jsxs("form",{onSubmit:a,id:"loginForm",children:[P.jsx(zj,{title:"Log In",infoMessagept1:"If you haven't registered yet",infoMessagept2:"You can"}),P.jsx(Oa,{inputType:"email",uid:"loginEmail",lillogo:"/mail.svg",info:"Email",infoPlaceholder:"Enter your email address",onChange:u=>e(u.target.value)}),P.jsx(Oa,{inputType:"password",uid:"loginPassword",lillogo:"/lock.svg",info:"Password",infoPlaceholder:"Enter your password",onChange:u=>r(u.target.value)}),s&&P.jsx("div",{className:"errorMessage",children:s}),P.jsx(Qx,{btnId:"",buttonText:"Login"})]})})]})}const Uj=()=>P.jsx("div",{className:"login-screen",children:P.jsx(Bj,{})}),$j=({items:t,total:e,onRemoveItem:n,onBuyAll:r})=>P.jsxs("div",{className:"shopping-cart",children:[P.jsx("h2",{id:"h2-consumption",children:"My Shopping Cart"}),P.jsx("div",{children:t.map(i=>P.jsxs("div",{className:"cart-item",children:[P.jsx("img",{src:i.image,alt:i.name}),P.jsxs("div",{className:"cart-item-details",children:[P.jsxs("div",{children:[P.jsx("p",{children:i.name}),P.jsxs("p",{children:["$",i.price]})]}),P.jsxs("div",{className:"btn-remove",children:[P.jsxs("p",{children:[i.quantity," units"]}),P.jsx("button",{onClick:()=>n(i.id),children:P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/delete.png?alt=media&token=dd5d15f8-ab25-4040-ae70-ee995f75b4e4",alt:""})})]})]})]},i.id))}),P.jsxs("div",{className:"total-section",children:[P.jsxs("h2",{children:["Total: $",e]}),P.jsx("button",{onClick:r,children:"Buy all"})]})]}),Hj=()=>{const{state:t}=ac(),e=(t==null?void 0:t.eventType)||"",[n,r]=B.useState([]),[i,s]=B.useState(e);return B.useEffect(()=>{(async()=>{const c=await sF();r(c)})()},[]),{filteredItems:i==="Other"?n:n.filter(u=>u.eventType===i),filterType:i,setFilterType:s}},Wj=()=>{const[t,e]=B.useState([]),n=(u,c)=>{e(f=>f.find(g=>g.id===u.id)?f.map(g=>g.id===u.id?{...g,quantity:Math.min(g.quantity+c,g.disponibility)}:g):[...f,{...u,quantity:c}])},r=u=>{e(c=>c.filter(f=>f.id!==u))},i=()=>parseFloat(t.reduce((u,c)=>u+c.price*c.quantity,0).toFixed(3)),s=()=>{e([])};return{consumption:t,addToConsumption:n,removeFromConsumption:r,getTotal:i,clearConsumption:s,processPurchase:async u=>{try{const c=on(iF,u),f=await di(c);if(!f.exists()){alert("Evento no encontrado.");return}const g=f.data().accountAmount,_=i();if(_>g){alert("Fondos insuficientes en el evento.");return}await Promise.all([Qu(c,{accountAmount:g-_}),DP(rF,{items:t,total:_,timestamp:new Date})]),alert("Compra procesada con éxito."),s()}catch(c){console.error("Error al procesar la compra:",c),alert("Hubo un problema al procesar la compra.")}}}},qj=({onFilterSelect:t})=>{const e=["Halloween","Birthday","Wedding","Baby Shower","Christmas","Other"],[n,r]=B.useState(null),[i,s]=B.useState(!1),a=c=>{r(c),t(c),s(!1)},u=()=>{s(!i)};return P.jsxs("div",{className:"filters",children:[P.jsx("div",{onClick:u,className:"filters-toggle",children:P.jsx("p",{children:"Filters by ∨"})}),P.jsx("div",{className:`CardsFilters ${i?"visible":""}`,children:e.map(c=>P.jsx("button",{className:`filterbtn ${n===c?"active":""}`,onClick:()=>a(c),children:c},c))})]})},Gj=({id:t,image:e,name:n,price:r,disponibility:i,addToConsumption:s})=>{const[a,u]=B.useState(1),c=()=>{s({id:t,name:n,price:r,image:e,disponibility:i},a)};return P.jsxs("div",{className:"product-card",children:[P.jsx("img",{src:e,alt:n}),P.jsxs("div",{children:[P.jsx("p",{className:"product-name",children:n}),P.jsxs("p",{className:"product-price",children:["$",r]}),P.jsxs("p",{className:"product-disponibility",children:["Disponibility: ",i]})]}),P.jsxs("div",{children:[P.jsx("input",{type:"number",className:"quantity-input",value:a,min:1,max:i,onChange:f=>u(Math.min(Number(f.target.value),i))}),P.jsx("button",{className:"buy-button",onClick:c,children:"Buy"})]})]})},Kj=()=>{const t=mi(),e=()=>{t(-1)};return P.jsxs("div",{className:"BackBtnEvents",children:[P.jsx("button",{className:"",onClick:e,children:P.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/programacion-ec39e.appspot.com/o/DetailScreen%2FBack.webp?alt=media&token=f18bcebc-06b9-4d2f-abe5-895fe0f7505b",alt:"backbuttonEvents"})}),P.jsx("p",{children:"Your events"})]})},Zj=()=>{const{id:t}=cf(),{filteredItems:e,filterType:n,setFilterType:r}=Hj(),{consumption:i,addToConsumption:s,removeFromConsumption:a,getTotal:u,processPurchase:c}=Wj();return P.jsxs("div",{children:[P.jsxs("div",{children:[P.jsx(_x,{}),P.jsx(Kj,{})]}),P.jsxs("div",{className:"receipt-section",children:[P.jsxs("div",{className:"cards-secction",children:[P.jsx(qj,{filterType:n,onFilterSelect:r}),P.jsx("div",{className:"grid-card",children:e.map(f=>P.jsx(Gj,{id:f.id,image:f.image,name:f.name,price:f.price,disponibility:f.disponibility,addToConsumption:s},f.id))})]}),P.jsx("div",{className:"consumption-section",children:P.jsx($j,{items:i,total:u(),onRemoveItem:a,onBuyAll:()=>c(t??"")})})]})]})},Qj=()=>P.jsx(Zj,{}),Yj=pR([{path:"/",element:P.jsx(hL,{})},{path:"/login",element:P.jsx(Uj,{})},{path:"/signup",element:P.jsx(Vj,{})},{path:"/main/:userId",element:P.jsx(Lj,{})},{path:"/detail/:id",element:P.jsx(pF,{})},{path:"/shopping/:id",element:P.jsx(Qj,{})}]);var Yx,fE=sf;Yx=fE.createRoot,fE.hydrateRoot;Yx(document.getElementById("root")).render(P.jsx(SR,{router:Yj}));
